(function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(r,'a',r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=25)})([function(e,t,r){'use strict';function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.autoDetectRenderer=t.Application=t.Filter=t.SpriteMaskFilter=t.Quad=t.RenderTarget=t.ObjectRenderer=t.WebGLManager=t.Shader=t.CanvasRenderTarget=t.TextureUvs=t.VideoBaseTexture=t.BaseRenderTexture=t.RenderTexture=t.BaseTexture=t.Texture=t.Spritesheet=t.CanvasGraphicsRenderer=t.GraphicsRenderer=t.GraphicsData=t.Graphics=t.TextMetrics=t.TextStyle=t.Text=t.SpriteRenderer=t.CanvasTinter=t.CanvasSpriteRenderer=t.Sprite=t.TransformBase=t.TransformStatic=t.Transform=t.Container=t.DisplayObject=t.Bounds=t.glCore=t.WebGLRenderer=t.CanvasRenderer=t.ticker=t.utils=t.settings=void 0;var o=r(1);Object.keys(o).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=r(6);Object.keys(i).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var s=r(7);Object.defineProperty(t,'glCore',{enumerable:!0,get:function(){return a(s).default}});var d=r(30);Object.defineProperty(t,'Bounds',{enumerable:!0,get:function(){return a(d).default}});var l=r(53);Object.defineProperty(t,'DisplayObject',{enumerable:!0,get:function(){return a(l).default}});var u=r(15);Object.defineProperty(t,'Container',{enumerable:!0,get:function(){return a(u).default}});var p=r(55);Object.defineProperty(t,'Transform',{enumerable:!0,get:function(){return a(p).default}});var c=r(54);Object.defineProperty(t,'TransformStatic',{enumerable:!0,get:function(){return a(c).default}});var h=r(32);Object.defineProperty(t,'TransformBase',{enumerable:!0,get:function(){return a(h).default}});var f=r(33);Object.defineProperty(t,'Sprite',{enumerable:!0,get:function(){return a(f).default}});var g=r(128);Object.defineProperty(t,'CanvasSpriteRenderer',{enumerable:!0,get:function(){return a(g).default}});var m=r(37);Object.defineProperty(t,'CanvasTinter',{enumerable:!0,get:function(){return a(m).default}});var _=r(131);Object.defineProperty(t,'SpriteRenderer',{enumerable:!0,get:function(){return a(_).default}});var y=r(147);Object.defineProperty(t,'Text',{enumerable:!0,get:function(){return a(y).default}});var x=r(67);Object.defineProperty(t,'TextStyle',{enumerable:!0,get:function(){return a(x).default}});var b=r(68);Object.defineProperty(t,'TextMetrics',{enumerable:!0,get:function(){return a(b).default}});var T=r(149);Object.defineProperty(t,'Graphics',{enumerable:!0,get:function(){return a(T).default}});var v=r(69);Object.defineProperty(t,'GraphicsData',{enumerable:!0,get:function(){return a(v).default}});var S=r(151);Object.defineProperty(t,'GraphicsRenderer',{enumerable:!0,get:function(){return a(S).default}});var E=r(158);Object.defineProperty(t,'CanvasGraphicsRenderer',{enumerable:!0,get:function(){return a(E).default}});var R=r(159);Object.defineProperty(t,'Spritesheet',{enumerable:!0,get:function(){return a(R).default}});var A=r(11);Object.defineProperty(t,'Texture',{enumerable:!0,get:function(){return a(A).default}});var I=r(13);Object.defineProperty(t,'BaseTexture',{enumerable:!0,get:function(){return a(I).default}});var D=r(36);Object.defineProperty(t,'RenderTexture',{enumerable:!0,get:function(){return a(D).default}});var P=r(61);Object.defineProperty(t,'BaseRenderTexture',{enumerable:!0,get:function(){return a(P).default}});var C=r(58);Object.defineProperty(t,'VideoBaseTexture',{enumerable:!0,get:function(){return a(C).default}});var M=r(59);Object.defineProperty(t,'TextureUvs',{enumerable:!0,get:function(){return a(M).default}});var w=r(62);Object.defineProperty(t,'CanvasRenderTarget',{enumerable:!0,get:function(){return a(w).default}});var O=r(18);Object.defineProperty(t,'Shader',{enumerable:!0,get:function(){return a(O).default}});var k=r(17);Object.defineProperty(t,'WebGLManager',{enumerable:!0,get:function(){return a(k).default}});var L=r(21);Object.defineProperty(t,'ObjectRenderer',{enumerable:!0,get:function(){return a(L).default}});var N=r(23);Object.defineProperty(t,'RenderTarget',{enumerable:!0,get:function(){return a(N).default}});var B=r(66);Object.defineProperty(t,'Quad',{enumerable:!0,get:function(){return a(B).default}});var F=r(64);Object.defineProperty(t,'SpriteMaskFilter',{enumerable:!0,get:function(){return a(F).default}});var U=r(65);Object.defineProperty(t,'Filter',{enumerable:!0,get:function(){return a(U).default}});var X=r(71);Object.defineProperty(t,'Application',{enumerable:!0,get:function(){return a(X).default}});var W=r(72);Object.defineProperty(t,'autoDetectRenderer',{enumerable:!0,get:function(){return W.autoDetectRenderer}});var G=r(2),H=n(G),Y=r(35),z=n(Y),j=r(5),V=a(j),Z=r(16),q=a(Z),K=r(22),J=a(K);t.settings=V.default,t.utils=H,t.ticker=z,t.CanvasRenderer=q.default,t.WebGLRenderer=J.default},function(e,t){'use strict';var r=Math.PI;t.__esModule=!0;var n=t.VERSION='4.5.6',a=t.PI_2=2*r,o=t.RAD_TO_DEG=180/r,i=t.DEG_TO_RAD=r/180,s=t.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},d=t.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},l=t.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},u=t.SCALE_MODES={LINEAR:0,NEAREST:1},p=t.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},c=t.GC_MODES={AUTO:0,MANUAL:1},h=t.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,f=t.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,g=t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,m=t.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},_=t.PRECISION={LOW:'lowp',MEDIUM:'mediump',HIGH:'highp'},y=t.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},x=t.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},b=t.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(e,t,r){'use strict';function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}var o=Math.round;t.__esModule=!0,t.premultiplyBlendMode=t.BaseTextureCache=t.TextureCache=t.mixins=t.pluginTarget=t.EventEmitter=t.removeItems=t.isMobile=void 0,t.uid=function(){return++T},t.hex2rgb=function(e,t){return t=t||[],t[0]=(255&e>>16)/255,t[1]=(255&e>>8)/255,t[2]=(255&e)/255,t},t.hex2string=function(e){return e=e.toString(16),e='000000'.substr(0,6-e.length)+e,'#'+e},t.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+(0|255*e[2])},t.getResolutionOfUrl=function(e,t){var r=d.default.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t===void 0?1:t},t.decomposeDataUri=function(e){var t=i.DATA_URI.exec(e);return t?{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,encoding:t[3]?t[3].toLowerCase():void 0,data:t[4]}:void 0},t.getUrlFileExtension=function(e){var t=i.URL_FILE_EXTENSION.exec(e);return t?t[1].toLowerCase():void 0},t.getSvgSize=function(e){var t=i.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=o(parseFloat(t[3])),r[t[5]]=o(parseFloat(t[7]))),r},t.skipHello=function(){v=!0},t.sayHello=function(e){if(!v){if(-1<navigator.userAgent.toLowerCase().indexOf('chrome')){var t=['\n %c %c %c PixiJS '+i.VERSION+' - \u2730 '+e+' \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n','background: #ff66a5; padding:5px 0;','background: #ff66a5; padding:5px 0;','color: #ff66a5; background: #030307; padding:5px 0;','background: #ff66a5; padding:5px 0;','background: #ffc3dc; padding:5px 0;','background: #ff66a5; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;'];window.console.log.apply(console,t)}else window.console&&window.console.log('PixiJS '+i.VERSION+' - '+e+' - http://www.pixijs.com/');v=!0}},t.isWebGLSupported=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement('canvas'),r=t.getContext('webgl',e)||t.getContext('experimental-webgl',e),n=!!(r&&r.getContextAttributes().stencil);if(r){var a=r.getExtension('WEBGL_lose_context');a&&a.loseContext()}return r=null,n}catch(t){return!1}},t.sign=function(e){return 0===e?0:0>e?-1:1},t.destroyTextureCache=function(){for(var e in S)S[e].destroy();for(e in E)E[e].destroy()},t.clearTextureCache=function(){for(var e in S)delete S[e];for(e in E)delete E[e]},t.correctBlendMode=function(e,t){return R[t?1:0][e]},t.premultiplyTint=function(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var r=255&e>>16,n=255&e>>8,a=255&e;return r=0|r*t+0.5,n=0|n*t+0.5,a=0|a*t+0.5,(255*t<<24)+(r<<16)+(n<<8)+a},t.premultiplyRgba=function(e,t,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r},t.premultiplyTintToRgba=function(e,t,r,n){return r=r||new Float32Array(4),r[0]=(255&e>>16)/255,r[1]=(255&e>>8)/255,r[2]=(255&e)/255,(n||void 0===n)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r};var i=r(1),s=r(5),d=a(s),l=r(10),u=a(l),p=r(116),c=a(p),h=r(117),f=n(h),g=r(31),m=n(g),_=r(118),y=a(_),x=r(119),b=a(x),T=0,v=!1;t.isMobile=m,t.removeItems=y.default,t.EventEmitter=u.default,t.pluginTarget=c.default,t.mixins=f;var S=t.TextureCache=Object.create(null),E=t.BaseTextureCache=Object.create(null),R=t.premultiplyBlendMode=(0,b.default)()},function(e,t,r){'use strict';(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}t.__esModule=!0,t.loader=t.prepare=t.particles=t.mesh=t.loaders=t.interaction=t.filters=t.extras=t.extract=t.accessibility=void 0;var a=r(99);Object.keys(a).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var o=r(0);Object.keys(o).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=r(160),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=r(161),l=n(d),u=r(163),p=n(u),c=r(74),h=n(c),f=r(173),g=n(f),m=r(180),_=n(m),y=r(182),x=n(y),b=r(186),T=n(b),v=r(191),S=n(v),E=r(196),R=n(E);o.utils.mixins.performMixins();var A=x.shared||null;t.accessibility=l,t.extract=p,t.extras=h,t.filters=g,t.interaction=_,t.loaders=x,t.mesh=T,t.particles=S,t.prepare=R,t.loader=A,'function'==typeof s.default&&(0,s.default)(t),e.PIXI=t}).call(t,r(14))},function(e,t,r){'use strict';var n=r(219);r.d(t,'b',function(){return n.a});var a=r(223);r.d(t,'c',function(){return a.a});var o=r(224);r.d(t,'a',function(){return o.a})},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(114),o=n(a),i=r(115),s=n(i);t.default={TARGET_FPMS:0.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,o.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:'highp',PRECISION_FRAGMENT:'mediump',CAN_UPLOAD_SAME_BUFFER:(0,s.default)()}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(26);Object.defineProperty(t,'Point',{enumerable:!0,get:function(){return n(a).default}});var o=r(42);Object.defineProperty(t,'ObservablePoint',{enumerable:!0,get:function(){return n(o).default}});var i=r(27);Object.defineProperty(t,'Matrix',{enumerable:!0,get:function(){return n(i).default}});var s=r(43);Object.defineProperty(t,'GroupD8',{enumerable:!0,get:function(){return n(s).default}});var d=r(104);Object.defineProperty(t,'Circle',{enumerable:!0,get:function(){return n(d).default}});var l=r(105);Object.defineProperty(t,'Ellipse',{enumerable:!0,get:function(){return n(l).default}});var u=r(106);Object.defineProperty(t,'Polygon',{enumerable:!0,get:function(){return n(u).default}});var p=r(28);Object.defineProperty(t,'Rectangle',{enumerable:!0,get:function(){return n(p).default}});var c=r(107);Object.defineProperty(t,'RoundedRectangle',{enumerable:!0,get:function(){return n(c).default}})},function(e,t,r){var n={createContext:r(108),setVertexAttribArrays:r(44),GLBuffer:r(109),GLFramebuffer:r(110),GLShader:r(111),GLTexture:r(45),VertexArrayObject:r(112),shader:r(113)};'undefined'!=typeof e&&e.exports&&(e.exports=n),'undefined'!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1,a;0<=n;n--)a=e[n],'.'===a?e.splice(n,1):'..'===a?(e.splice(n,1),r++):r&&(e.splice(n,1),r--);if(t)for(;r--;r)e.unshift('..');return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return a.exec(e).slice(1)};t.resolve=function(){for(var t='',a=!1,o=arguments.length-1,i;-1<=o&&!a;o--){if(i=0<=o?arguments[o]:e.cwd(),'string'!=typeof i)throw new TypeError('Arguments to path.resolve must be strings');else if(!i)continue;t=i+'/'+t,a='/'===i.charAt(0)}return t=r(n(t.split('/'),function(e){return!!e}),!a).join('/'),(a?'/':'')+t||'.'},t.normalize=function(e){var a=t.isAbsolute(e),o='/'===i(e,-1);return e=r(n(e.split('/'),function(e){return!!e}),!a).join('/'),e||a||(e='.'),e&&o&&(e+='/'),(a?'/':'')+e},t.isAbsolute=function(e){return'/'===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,function(e){if('string'!=typeof e)throw new TypeError('Arguments to path.join must be strings');return e}).join('/'))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&''===e[t];t++);for(var r=e.length-1;0<=r&&''===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var a=n(e.split('/')),o=n(r.split('/')),s=Math.min(a.length,o.length),d=s,l=0;l<s;l++)if(a[l]!==o[l]){d=l;break}for(var i=[],l=d;l<a.length;l++)i.push('..');return i=i.concat(o.slice(d)),i.join('/')},t.sep='/',t.delimiter=':',t.dirname=function(e){var t=o(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):'.'},t.basename=function(e,t){var r=o(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return o(e)[3]};var i=function(e,t,r){return e.substr(t,r)}}).call(t,r(134))},function(e,t,r){'use strict';var n=r(226);r.d(t,'a',function(){return n.a});var a=r(227);r.d(t,'h',function(){return a.a});var o=r(228);r.d(t,'b',function(){return o.a});var i=r(229);r.d(t,'c',function(){return i.a});var s=r(230);r.d(t,'d',function(){return s.a});var d=r(231);r.d(t,'f',function(){return d.a});var l=r(232);r.d(t,'e',function(){return l.a});var u=r(98);r.d(t,'g',function(){return u.a})},function(e){'use strict';function t(){}function r(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function n(){this._events=new t,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,o='~';Object.create&&(t.prototype=Object.create(null),!new t().__proto__&&(o=!1)),n.prototype.eventNames=function(){var e=[],t,r;if(0===this._eventsCount)return e;for(r in t=this._events)a.call(t,r)&&e.push(o?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},n.prototype.listeners=function(e,t){var r=o?o+e:e,n=this._events[r];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,s=Array(i);a<i;a++)s[a]=n[a].fn;return s},n.prototype.emit=function(e,t,r,n,a,s){var d=o?o+e:e;if(!this._events[d])return!1;var l=this._events[d],u=arguments.length,p,c;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,a),!0;case 6:return l.fn.call(l.context,t,r,n,a,s),!0;}for(c=1,p=Array(u-1);c<u;c++)p[c-1]=arguments[c];l.fn.apply(l.context,p)}else{var i=l.length,h;for(c=0;c<i;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),u){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,n);break;default:if(!p)for(h=1,p=Array(u-1);h<u;h++)p[h-1]=arguments[h];l[c].fn.apply(l[c].context,p);}}return!0},n.prototype.on=function(e,t,n){var a=new r(t,n||this),i=o?o+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],a]:this._events[i].push(a):(this._events[i]=a,this._eventsCount++),this},n.prototype.once=function(e,t,n){var a=new r(t,n||this,!0),i=o?o+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],a]:this._events[i].push(a):(this._events[i]=a,this._eventsCount++),this},n.prototype.removeListener=function(e,r,n,a){var s=o?o+e:e;if(!this._events[s])return this;if(!r)return 0==--this._eventsCount?this._events=new t:delete this._events[s],this;var d=this._events[s];if(d.fn)d.fn!==r||a&&!d.once||n&&d.context!==n||(0==--this._eventsCount?this._events=new t:delete this._events[s]);else{for(var l=0,i=[],u=d.length;l<u;l++)(d[l].fn!==r||a&&!d[l].once||n&&d[l].context!==n)&&i.push(d[l]);i.length?this._events[s]=1===i.length?i[0]:i:0==--this._eventsCount?this._events=new t:delete this._events[s]}return this},n.prototype.removeAllListeners=function(e){var r;return e?(r=o?o+e:e,this._events[r]&&(0==--this._eventsCount?this._events=new t:delete this._events[r])):(this._events=new t,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=o,n.EventEmitter=n,e.exports=n},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(13),u=n(l),p=r(58),c=n(p),h=r(59),f=n(h),g=r(10),m=n(g),_=r(6),y=r(2),x=r(5),b=n(x),T=function(e){function t(r,n,i,s,d){a(this,t);var l=o(this,e.call(this));if(l.noFrame=!1,n||(l.noFrame=!0,n=new _.Rectangle(0,0,1,1)),r instanceof t&&(r=r.baseTexture),l.baseTexture=r,l._frame=n,l.trim=s,l.valid=!1,l.requiresUpdate=!1,l._uvs=null,l.orig=i||n,l._rotate=+(d||0),!0===d)l._rotate=2;else if(0!=l._rotate%2)throw new Error('attempt to use diamond-shaped UVs. If you are sure, set rotation manually');return r.hasLoaded?(l.noFrame&&(n=new _.Rectangle(0,0,r.width,r.height),r.on('update',l.onBaseTextureUpdated,l)),l.frame=n):r.once('loaded',l.onBaseTextureLoaded,l),l._updateID=0,l.transform=null,l.textureCacheIds=[],l}return i(t,e),t.prototype.update=function(){this.baseTexture.update()},t.prototype.onBaseTextureLoaded=function(e){this._updateID++,this.frame=this.noFrame?new _.Rectangle(0,0,e.width,e.height):this._frame,this.baseTexture.on('update',this.onBaseTextureUpdated,this),this.emit('update',this)},t.prototype.onBaseTextureUpdated=function(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit('update',this)},t.prototype.destroy=function(e){this.baseTexture&&(e&&(y.TextureCache[this.baseTexture.imageUrl]&&t.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off('update',this.onBaseTextureUpdated,this),this.baseTexture.off('loaded',this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},t.prototype._updateUvs=function(){this._uvs||(this._uvs=new f.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.fromImage=function(e,r,n,a){var o=y.TextureCache[e];return o||(o=new t(u.default.fromImage(e,r,n,a)),t.addToCache(o,e)),o},t.fromFrame=function(e){var t=y.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t},t.fromCanvas=function(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'canvas';return new t(u.default.fromCanvas(e,r,n))},t.fromVideo=function(e,r){return'string'==typeof e?t.fromVideoUrl(e,r):new t(c.default.fromVideo(e,r))},t.fromVideoUrl=function(e,r){return new t(c.default.fromUrl(e,r))},t.from=function(e){if('string'==typeof e){var r=y.TextureCache[e];if(!r){var n=null!==e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return n?t.fromVideoUrl(e):t.fromImage(e)}return r}return e instanceof HTMLImageElement?new t(u.default.from(e)):e instanceof HTMLCanvasElement?t.fromCanvas(e,b.default.SCALE_MODE,'HTMLCanvasElement'):e instanceof HTMLVideoElement?t.fromVideo(e):e instanceof u.default?new t(e):e},t.fromLoader=function(e,r,n){var a=new u.default(e,void 0,(0,y.getResolutionOfUrl)(r)),o=new t(a);return a.imageUrl=r,n||(n=r),u.default.addToCache(o.baseTexture,n),t.addToCache(o,n),n!==r&&(u.default.addToCache(o.baseTexture,r),t.addToCache(o,r)),o},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),y.TextureCache[t]&&console.warn('Texture added to the cache with an id ['+t+'] that already had an entry'),y.TextureCache[t]=e)},t.removeFromCache=function(e){if('string'==typeof e){var t=y.TextureCache[e];if(t){var r=t.textureCacheIds.indexOf(e);return-1<r&&t.textureCacheIds.splice(r,1),delete y.TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)y.TextureCache[e.textureCacheIds[n]]===e&&delete y.TextureCache[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},d(t,[{key:'frame',get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,n=e.width,a=e.height,o=t+n>this.baseTexture.width,i=r+a>this.baseTexture.height;if(o||i){var s=o&&i?'and':'or',d='X: '+t+' + '+n+' = '+(t+n)+' > '+this.baseTexture.width,l='Y: '+r+' + '+a+' = '+(r+a)+' > '+this.baseTexture.height;throw new Error('Texture Error: frame does not fit inside the base Texture dimensions: '+(d+' '+s+' '+l))}this.valid=n&&a&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:'rotate',get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:'width',get:function(){return this.orig.width}},{key:'height',get:function(){return this.orig.height}}]),t}(m.default);t.default=T,T.EMPTY=new T(new u.default()),s(T.EMPTY),s(T.EMPTY.baseTexture),T.WHITE=function(){var e=document.createElement('canvas');e.width=10,e.height=10;var t=e.getContext('2d');return t.fillStyle='white',t.fillRect(0,0,10,10),new T(new u.default(e))}(),s(T.WHITE),s(T.WHITE.baseTexture)},function(e,t,r){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=r(218);r.d(t,'bgBuilder',function(){return n.a});var a=r(225);r.d(t,'buttonBuilder',function(){return a.a});var o=r(233);r.d(t,'bottomDescriptionBuilder',function(){return o.a});var i=r(234);r.d(t,'unitBuilder',function(){return i.a});var s=r(235);r.d(t,'cuExecBuilder',function(){return s.a});var d=r(236);r.d(t,'cuFetchBuilder',function(){return d.a});var l=r(237);r.d(t,'rwBusBuilder',function(){return l.a});var u=r(238);r.d(t,'rwUnitArrowBuilder',function(){return u.a});var p=r(239);r.d(t,'cuDescriptionBuilder',function(){return p.a});var c=r(240);r.d(t,'aboutBuilder',function(){return c.a})},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.round;t.__esModule=!0;var d=r(2),l=r(5),u=n(l),p=r(10),c=n(p),h=r(120),f=n(h),g=r(34),m=n(g),_=function(e){function t(r,n,i){a(this,t);var s=o(this,e.call(this));return s.uid=(0,d.uid)(),s.touched=0,s.resolution=i||u.default.RESOLUTION,s.width=100,s.height=100,s.realWidth=100,s.realHeight=100,s.scaleMode=void 0===n?u.default.SCALE_MODE:n,s.hasLoaded=!1,s.isLoading=!1,s.source=null,s.origSource=null,s.imageType=null,s.sourceScale=1,s.premultipliedAlpha=!0,s.imageUrl=null,s.isPowerOfTwo=!1,s.mipmap=u.default.MIPMAP_TEXTURES,s.wrapMode=u.default.WRAP_MODE,s._glTextures={},s._enabled=0,s._virtalBoundId=-1,s._destroyed=!1,s.textureCacheIds=[],r&&s.loadSource(r),s}return i(t,e),t.prototype.update=function(){'svg'!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit('update',this)},t.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=m.default.isPow2(this.realWidth)&&m.default.isPow2(this.realHeight)},t.prototype.loadSource=function(e){var t=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=e,(e.src&&e.complete||e.getContext)&&e.width&&e.height)this._updateImageType(),'svg'===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit('loaded',this);else if(!e.getContext){this.isLoading=!0;var n=this;if(e.onload=function(){if(n._updateImageType(),e.onload=null,e.onerror=null,!!n.isLoading)return n.isLoading=!1,n._sourceLoaded(),'svg'===n.imageType?void n._loadSvgSource():void n.emit('loaded',n)},e.onerror=function(){e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit('error',n))},e.complete&&e.src){if(e.onload=null,e.onerror=null,'svg'===n.imageType)return void n._loadSvgSource();this.isLoading=!1,e.width&&e.height?(this._sourceLoaded(),t&&this.emit('loaded',this)):t&&this.emit('error',this)}}},t.prototype._updateImageType=function(){if(this.imageUrl){var e=(0,d.decomposeDataUri)(this.imageUrl),t;if(e&&'image'===e.mediaType){var r=e.subType.split('+')[0];if(t=(0,d.getUrlFileExtension)('.'+r),!t)throw new Error('Invalid image type in data URI.')}else t=(0,d.getUrlFileExtension)(this.imageUrl),t||(t='png');this.imageType=t}},t.prototype._loadSvgSource=function(){if('svg'===this.imageType){var e=(0,d.decomposeDataUri)(this.imageUrl);e?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr()}},t.prototype._loadSvgSourceUsingDataUri=function(e){var t;if('base64'===e.encoding){if(!atob)throw new Error('Your browser doesn\'t support base64 conversions.');t=atob(e.data)}else t=e.data;this._loadSvgSourceUsingString(t)},t.prototype._loadSvgSourceUsingXhr=function(){var e=this,t=new XMLHttpRequest;t.onload=function(){if(t.readyState!==t.DONE||200!==t.status)throw new Error('Failed to load SVG using XHR.');e._loadSvgSourceUsingString(t.response)},t.onerror=function(){return e.emit('error',e)},t.open('GET',this.imageUrl,!0),t.send()},t.prototype._loadSvgSourceUsingString=function(e){var r=(0,d.getSvgSize)(e),n=r.width,a=r.height;if(!n||!a)throw new Error('The SVG image must have width and height defined (in pixels), canvas API needs them.');this.realWidth=s(n*this.sourceScale),this.realHeight=s(a*this.sourceScale),this._updateDimensions();var o=document.createElement('canvas');o.width=this.realWidth,o.height=this.realHeight,o._pixiId='canvas_'+(0,d.uid)(),o.getContext('2d').drawImage(this.source,0,0,n,a,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=o,t.addToCache(this,o._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit('loaded',this)},t.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},t.prototype.destroy=function(){this.imageUrl&&(delete d.TextureCache[this.imageUrl],this.imageUrl=null,!navigator.isCocoonJS&&(this.source.src='')),this.source=null,this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},t.prototype.dispose=function(){this.emit('dispose',this)},t.prototype.updateSourceImage=function(e){this.source.src=e,this.loadSource(this.source)},t.fromImage=function(e,r,n,a){var o=d.BaseTextureCache[e];if(!o){var i=new Image;void 0===r&&0!==e.indexOf('data:')?i.crossOrigin=(0,f.default)(e):r&&(i.crossOrigin='string'==typeof r?r:'anonymous'),o=new t(i,n),o.imageUrl=e,a&&(o.sourceScale=a),o.resolution=(0,d.getResolutionOfUrl)(e),i.src=e,t.addToCache(o,e)}return o},t.fromCanvas=function(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'canvas';e._pixiId||(e._pixiId=n+'_'+(0,d.uid)());var a=d.BaseTextureCache[e._pixiId];return a||(a=new t(e,r),t.addToCache(a,e._pixiId)),a},t.from=function(e,r,n){if('string'==typeof e)return t.fromImage(e,void 0,r,n);if(e instanceof HTMLImageElement){var a=e.src,o=d.BaseTextureCache[a];return o||(o=new t(e,r),o.imageUrl=a,n&&(o.sourceScale=n),o.resolution=(0,d.getResolutionOfUrl)(a),t.addToCache(o,a)),o}return e instanceof HTMLCanvasElement?t.fromCanvas(e,r):e},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),d.BaseTextureCache[t]&&console.warn('BaseTexture added to the cache with an id ['+t+'] that already had an entry'),d.BaseTextureCache[t]=e)},t.removeFromCache=function(e){if('string'==typeof e){var t=d.BaseTextureCache[e];if(t){var r=t.textureCacheIds.indexOf(e);return-1<r&&t.textureCacheIds.splice(r,1),delete d.BaseTextureCache[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)delete d.BaseTextureCache[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},t}(c.default);t.default=_},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(r){'object'==typeof window&&(t=window)}e.exports=t},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(2),d=r(53),l=function(e){return e&&e.__esModule?e:{default:e}}(d),u=function(e){function t(){n(this,t);var r=a(this,e.call(this));return r.children=[],r}return o(t,e),t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(e){var t=arguments.length;if(1<t)for(var r=0;r<t;r++)this.addChild(arguments[r]);else e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),e.emit('added',this);return e},t.prototype.addChildAt=function(e,t){if(0>t||t>this.children.length)throw new Error(e+'addChildAt: The index '+t+' supplied is out of bounds '+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit('added',this),e},t.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),n=this.getChildIndex(t);this.children[r]=t,this.children[n]=e,this.onChildrenChange(r<n?r:n)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error('The supplied DisplayObject must be a child of the caller');return t},t.prototype.setChildIndex=function(e,t){if(0>t||t>=this.children.length)throw new Error('The supplied index is out of bounds');var r=this.getChildIndex(e);(0,s.removeItems)(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(0>e||e>=this.children.length)throw new Error('getChildAt: Index ('+e+') does not exist.');return this.children[e]},t.prototype.removeChild=function(e){var t=arguments.length;if(1<t)for(var r=0;r<t;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(e);if(-1===n)return null;e.parent=null,e.transform._parentID=-1,(0,s.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit('removed',this)}return e},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,(0,s.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit('removed',this),t},t.prototype.removeChildren=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],r=e,n='number'==typeof t?t:this.children.length,a=n-r,o;if(0<a&&a<=n){o=this.children.splice(r,a);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var i=0;i<o.length;++i)o[i].emit('removed',this);return o}if(0==a&&0===this.children.length)return[];throw new RangeError('removeChildren: numeric values are outside the acceptable range.')},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length,r;e<t;++e)r=this.children[e],r.visible&&r.updateTransform()},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0,t;e<this.children.length;e++)(t=this.children[e],t.visible&&t.renderable)&&(t.calculateBounds(),t._mask?(t._mask.calculateBounds(),this._bounds.addBoundsMask(t._bounds,t._mask._bounds)):t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds));this._lastBoundsID=this._boundsID},t.prototype._calculateBounds=function(){},t.prototype.renderWebGL=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderWebGL(e)}},t.prototype.renderAdvancedWebGL=function(e){e.flush();var t=this._filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<t.length;n++)t[n].enabled&&this._enabledFilters.push(t[n]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}r&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var a=0,o=this.children.length;a<o;a++)this.children[a].renderWebGL(e);e.flush(),r&&e.maskManager.popMask(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()},t.prototype._renderWebGL=function(){},t.prototype._renderCanvas=function(){},t.prototype.renderCanvas=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},t.prototype.destroy=function(t){e.prototype.destroy.call(this);var r='boolean'==typeof t?t:t&&t.children,n=this.removeChildren(0,this.children.length);if(r)for(var a=0;a<n.length;++a)n[a].destroy(t)},i(t,[{key:'width',get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0===t?1:e/t,this._width=e}},{key:'height',get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0===t?1:e/t,this._height=e}}]),t}(l.default);t.default=u,u.prototype.containerUpdateTransform=u.prototype.updateTransform},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(60),d=n(s),l=r(129),u=n(l),p=r(62),c=n(p),h=r(130),f=n(h),g=r(2),m=r(1),_=r(5),y=n(_),x=function(e){function t(r,n,i){a(this,t);var s=o(this,e.call(this,'Canvas',r,n,i));return s.type=m.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext('2d',{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new u.default(s),s.smoothProperty='imageSmoothingEnabled',s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty='webkitImageSmoothingEnabled':s.rootContext.mozImageSmoothingEnabled?s.smoothProperty='mozImageSmoothingEnabled':s.rootContext.oImageSmoothingEnabled?s.smoothProperty='oImageSmoothingEnabled':s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty='msImageSmoothingEnabled')),s.initPlugins(),s.blendModes=(0,f.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return i(t,e),t.prototype.render=function(e,t,r,n,a){if(this.view){this.renderingToScreen=!t,this.emit('prerender');var o=this.resolution;t?(t=t.baseTexture||t,!t._canvasRenderTarget&&(t._canvasRenderTarget=new c.default(t.width,t.height,t.resolution),t.source=t._canvasRenderTarget.canvas,t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext;var i=this.context;if(t||(this._lastObjectRendered=e),!a){var s=e.parent,d=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(d),this._tempDisplayObjectParent.transform._worldID=-1):d.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=s}i.setTransform(1,0,0,1,0,0),i.globalAlpha=1,this._activeBlendMode=m.BLEND_MODES.NORMAL,i.globalCompositeOperation=this.blendModes[m.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(i.fillStyle='black',i.clear()),(void 0===r?this.clearBeforeRender:r)&&this.renderingToScreen&&(this.transparent?i.clearRect(0,0,this.width,this.height):(i.fillStyle=this._backgroundColorString,i.fillRect(0,0,this.width,this.height)));var l=this.context;this.context=i,e.renderCanvas(this),this.context=l,this.resolution=o,this.emit('postrender')}},t.prototype.clear=function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)},t.prototype.setBlendMode=function(e){this._activeBlendMode===e||(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(t){this.destroyPlugins(),e.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=y.default.SCALE_MODE===m.SCALE_MODES.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t}(d.default);t.default=x,g.pluginTarget.mixin(x)},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(t){r(this,e),this.renderer=t,this.renderer.on('context',this.onContextChange,this)}return e.prototype.onContextChange=function(){},e.prototype.destroy=function(){this.renderer.off('context',this.onContextChange,this),this.renderer=null},e}();t.default=n},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(e instanceof Array){if('precision'!==e[0].substring(0,9)){var r=e.slice(0);return r.unshift('precision '+t+' float;'),r}}else if('precision'!==e.substring(0,9))return'precision '+t+' float;\n'+e;return e}t.__esModule=!0;var s=r(7),d=r(5),l=function(e){return e&&e.__esModule?e:{default:e}}(d),u=function(e){function t(r,o,s){return n(this,t),a(this,e.call(this,r,i(o,l.default.PRECISION_VERTEX),i(s,l.default.PRECISION_FRAGMENT)))}return o(t,e),t}(s.GLShader);t.default=u},function(e,t,r){'use strict';var n=r(183).default,a=r(40).default,o=r(87),i=r(88);n.Resource=a,n.async=o,n.base64=i,e.exports=n,e.exports.default=n},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(39),u=function(e){return e&&e.__esModule?e:{default:e}}(l),p=new d.Point,c=new d.Polygon,h=function(e){function t(r,o,i,s,l){n(this,t);var p=a(this,e.call(this));return p._texture=r,p.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),p.vertices=o||new Float32Array([0,0,100,0,100,100,0,100]),p.indices=s||new Uint16Array([0,1,3,2]),p.dirty=0,p.indexDirty=0,p.blendMode=d.BLEND_MODES.NORMAL,p.canvasPadding=0,p.drawMode=l||t.DRAW_MODES.TRIANGLE_MESH,p.shader=null,p.tintRgb=new Float32Array([1,1,1]),p._glDatas={},p._uvTransform=new u.default(r),p.uploadUvTransform=!1,p.pluginName='mesh',p}return o(t,e),t.prototype._renderWebGL=function(e){this.refresh(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(e){this.refresh(),e.plugins[this.pluginName].render(this)},t.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},t.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},t.prototype.refresh=function(e){this._uvTransform.update(e)&&this._refresh()},t.prototype._refresh=function(){},t.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,p);for(var r=this.vertices,n=c.points,a=this.indices,o=this.indices.length,s=this.drawMode===t.DRAW_MODES.TRIANGLES?3:1,d=0;d+2<o;d+=s){var i=2*a[d],l=2*a[d+1],u=2*a[d+2];if(n[0]=r[i],n[1]=r[i+1],n[2]=r[l],n[3]=r[l+1],n[4]=r[u],n[5]=r[u+1],c.contains(p.x,p.y))return!0}return!1},i(t,[{key:'texture',get:function(){return this._texture},set:function(e){this._texture===e||(this._texture=e,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once('update',this._onTextureUpdate,this)))}},{key:'tint',get:function(){return d.utils.rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=d.utils.hex2rgb(e,this.tintRgb)}}]),t}(d.Container);t.default=h,h.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(17),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(){return n(this,t),a(this,e.apply(this,arguments))}return o(t,e),t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(){},t}(s.default);t.default=d},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(60),d=n(s),l=r(132),u=n(l),p=r(135),c=n(p),h=r(136),f=n(h),g=r(23),m=n(g),_=r(21),y=n(_),x=r(138),b=n(x),T=r(13),v=n(T),S=r(139),E=n(S),R=r(140),A=n(R),I=r(142),D=n(I),P=r(143),C=n(P),M=r(2),w=r(7),O=n(w),k=r(1),L=0,N=function(e){function t(r,n,i){a(this,t);var s=o(this,e.call(this,'WebGL',r,n,i));return s.legacy=s.options.legacy,s.legacy&&(O.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=k.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener('webglcontextlost',s.handleContextLost,!1),s.view.addEventListener('webglcontextrestored',s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:s.options.antialias,premultipliedAlpha:s.transparent&&'notMultiplied'!==s.transparent,stencil:!0,preserveDrawingBuffer:s.options.preserveDrawingBuffer,powerPreference:s.options.powerPreference},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new u.default(s),s.stencilManager=new c.default(s),s.emptyRenderer=new y.default(s),s.currentRenderer=s.emptyRenderer,s.textureManager=null,s.filterManager=null,s.initPlugins(),s.options.context&&(0,C.default)(s.options.context),s.gl=s.options.context||O.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=L++,s.state=new A.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.drawModes=(0,D.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return i(t,e),t.prototype._initContext=function(){var e=this.gl;e.isContextLost()&&e.getExtension('WEBGL_lose_context')&&e.getExtension('WEBGL_lose_context').restoreContext();var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=Array(t),this.emptyTextures=Array(t),this.textureManager=new b.default(this),this.filterManager=new f.default(this),this.textureGC=new E.default(this),this.state.resetToDefault(),this.rootRenderTarget=new m.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new O.default.GLTexture.fromData(e,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var a=0,o;a<t;a++)o=new v.default,o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[a]=n,this.emptyTextures[a]=o,this.bindTexture(null,a);this.emit('context',e),this.resize(this.screen.width,this.screen.height)},t.prototype.render=function(e,t,r,n,a){if(this.renderingToScreen=!t,this.emit('prerender'),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),!a){var o=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=o}this.bindRenderTexture(t,n),this.currentRenderer.start(),(void 0===r?this.clearBeforeRender:r)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit('postrender')}},t.prototype.setObjectRenderer=function(e){this.currentRenderer===e||(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.resize=function(e,t){d.default.prototype.resize.call(this,e,t),this.rootRenderTarget.resize(e,t),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},t.prototype.setBlendMode=function(e){this.state.setBlendMode(e)},t.prototype.clear=function(e){this._activeRenderTarget.clear(e)},t.prototype.setTransform=function(e){this._activeRenderTarget.transform=e},t.prototype.clearRenderTexture=function(e,t){var r=e.baseTexture,n=r._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(t),this},t.prototype.bindRenderTexture=function(e,t){var r;if(e){var n=e.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),r=n._glRenderTargets[this.CONTEXT_UID],r.setFrame(e.frame)}else r=this.rootRenderTarget;return r.transform=t,this.bindRenderTarget(r),this},t.prototype.bindRenderTarget=function(e){return e!==this._activeRenderTarget&&(this._activeRenderTarget=e,e.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this},t.prototype.bindShader=function(e,t){return this._activeShader!==e&&(this._activeShader=e,e.bind(),!1!==t&&(e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},t.prototype.bindTexture=function(e,t,r){if(e=e||this.emptyTextures[t],e=e.baseTexture||e,e.touched=this.textureGC.count,!r){for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===e)return n;void 0===t&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,t=this.boundTextures.length-this._nextTextureLocation-1)}else t=t||0;var a=this.gl,o=e._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[t]=e,a.activeTexture(a.TEXTURE0+t),a.bindTexture(a.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(e,t),t},t.prototype.unbindTexture=function(e){var t=this.gl;e=e.baseTexture||e;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===e&&(this.boundTextures[r]=this.emptyTextures[r],t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},t.prototype.createVao=function(){return new O.default.VertexArrayObject(this.gl,this.state.attribState)},t.prototype.bindVao=function(e){return this._activeVao===e?this:(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e,this)},t.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},t.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener('webglcontextlost',this.handleContextLost),this.view.removeEventListener('webglcontextrestored',this.handleContextRestored),this.textureManager.destroy(),e.prototype.destroy.call(this,t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension('WEBGL_lose_context')&&this.gl.getExtension('WEBGL_lose_context').loseContext(),this.gl=null},t}(d.default);t.default=N,M.pluginTarget.mixin(N)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(6),o=r(1),i=r(5),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=r(7),l=function(){function e(t,r,i,l,u,p){n(this,e),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new a.Rectangle(0,0,1,1),this.resolution=u||s.default.RESOLUTION,this.projectionMatrix=new a.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new a.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0===l?s.default.SCALE_MODE:l,this.root=p,this.root?(this.frameBuffer=new d.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=d.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,i)}return e.prototype.clear=function(e){var t=e||this.clearColor;this.frameBuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},e.prototype.setFrame=function(e,t){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||this.destinationFrame},e.prototype.activate=function(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame===this.sourceFrame?e.disable(e.SCISSOR_TEST):(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width*this.resolution,0|this.destinationFrame.height*this.resolution)),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width*this.resolution,0|this.destinationFrame.height*this.resolution)},e.prototype.calculateProjection=function(e,t){var r=this.projectionMatrix;t=t||e,r.identity(),this.root?(r.a=2*(1/e.width),r.d=2*(-1/e.height),r.tx=-1-t.x*r.a,r.ty=1-t.y*r.d):(r.a=2*(1/e.width),r.d=2*(1/e.height),r.tx=-1-t.x*r.a,r.ty=-1-t.y*r.d)},e.prototype.resize=function(e,t){if(e|=0,t|=0,this.size.width!==e||this.size.height!==t){this.size.width=e,this.size.height=t,this.defaultFrame.width=e,this.defaultFrame.height=t,this.frameBuffer.resize(e*this.resolution,t*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},e.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},e}();t.default=l},function(e,t,r){'use strict';function n(e,t){var n=e.points;if(0!==n.length){var a=new s.Point(n[0],n[1]),l=new s.Point(n[n.length-2],n[n.length-1]);if(a.x===l.x&&a.y===l.y){n=n.slice(),n.pop(),n.pop(),l=new s.Point(n[n.length-2],n[n.length-1]);var u=l.x+0.5*(a.x-l.x),p=l.y+0.5*(a.y-l.y);n.unshift(u,p),n.push(u,p)}var c=t.points,h=t.indices,f=n.length/2,m=n.length,_=c.length/6,y=e.lineWidth/2,x=(0,d.hex2rgb)(e.lineColor),T=e.lineAlpha,v=x[0]*T,r=x[1]*T,g=x[2]*T,b=n[0],S=n[1],E=n[2],R=n[3],A=0,I=0,D=-(S-R),P=b-E,C=0,M=0,w=0,O=0,k=o(D*D+P*P);D/=k,P/=k,D*=y,P*=y,c.push(b-D,S-P,v,r,g,T),c.push(b+D,S+P,v,r,g,T);for(var L=1;L<f-1;++L){b=n[2*(L-1)],S=n[2*(L-1)+1],E=n[2*L],R=n[2*L+1],A=n[2*(L+1)],I=n[2*(L+1)+1],D=-(S-R),P=b-E,k=o(D*D+P*P),D/=k,P/=k,D*=y,P*=y,C=-(R-I),M=E-A,k=o(C*C+M*M),C/=k,M/=k,C*=y,M*=y;var i=-P+S-(-P+R),N=-D+E-(-D+b),B=(-D+b)*(-P+R)-(-D+E)*(-P+S),F=-M+I-(-M+R),U=-C+E-(-C+A),X=(-C+A)*(-M+R)-(-C+E)*(-M+I),W=i*U-F*N;if(0.1>Math.abs(W)){W+=10.1,c.push(E-D,R-P,v,r,g,T),c.push(E+D,R+P,v,r,g,T);continue}var G=(N*X-U*B)/W,H=(F*B-i*X)/W,Y=(G-E)*(G-E)+(H-R)*(H-R);Y>196*y*y?(w=D-C,O=P-M,k=o(w*w+O*O),w/=k,O/=k,w*=y,O*=y,c.push(E-w,R-O),c.push(v,r,g,T),c.push(E+w,R+O),c.push(v,r,g,T),c.push(E-w,R-O),c.push(v,r,g,T),m++):(c.push(G,H),c.push(v,r,g,T),c.push(E-(G-E),R-(H-R)),c.push(v,r,g,T))}b=n[2*(f-2)],S=n[2*(f-2)+1],E=n[2*(f-1)],R=n[2*(f-1)+1],D=-(S-R),P=b-E,k=o(D*D+P*P),D/=k,P/=k,D*=y,P*=y,c.push(E-D,R-P),c.push(v,r,g,T),c.push(E+D,R+P),c.push(v,r,g,T),h.push(_);for(var z=0;z<m;++z)h.push(_++);h.push(_-1)}}function a(e,t){var n=0,a=e.points;if(0!==a.length){var o=t.points,i=a.length/2,s=(0,d.hex2rgb)(e.lineColor),l=e.lineAlpha,u=s[0]*l,r=s[1]*l,p=s[2]*l;for(n=1;n<i;n++){var c=a[2*(n-1)],h=a[2*(n-1)+1],f=a[2*n],g=a[2*n+1];o.push(c,h),o.push(u,r,p,l),o.push(f,g),o.push(u,r,p,l)}}}var o=Math.sqrt;t.__esModule=!0,t.default=function(e,t,r){e.nativeLines?a(e,r):n(e,t)};var s=r(6),d=r(2)},function(e,t,r){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=r(3),a=r.n(n),o=r(200);const i=new n.Application({antialias:!0,transparent:!0});t.app=i,document.getElementById('mimaviz').appendChild(i.view);const s={width:i.renderer.width,height:i.renderer.height};t.rendererSize=s,i.stage.addChild(o.a),o.b(),o.c.subscribe(o.b)},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;r(this,e),this.x=t,this.y=n}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copy=function(e){this.set(e.x,e.y)},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){this.x=e||0,this.y=t||(0===t?0:this.x)},e}();t.default=n},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var o=Math.atan2,i=Math.sin,s=Math.cos,l=Math.sqrt,u=Math.PI;t.__esModule=!0;var a=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(26),p=function(e){return e&&e.__esModule?e:{default:e}}(d),c=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;n(this,e),this.a=t,this.b=r,this.c=a,this.d=o,this.tx=i,this.ty=s,this.array=null}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,r,n,a,o){return this.a=e,this.b=t,this.c=r,this.d=n,this.tx=a,this.ty=o,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(e,t){t=t||new p.default;var r=e.x,n=e.y;return t.x=this.a*r+this.c*n+this.tx,t.y=this.b*r+this.d*n+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new p.default;var r=1/(this.a*this.d+this.c*-this.b),n=e.x,a=e.y;return t.x=this.d*r*n+-this.c*r*a+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*a+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=s(e),r=i(e),n=this.a,a=this.c,o=this.tx;return this.a=n*t-this.b*r,this.b=n*r+this.b*t,this.c=a*t-this.d*r,this.d=a*r+this.d*t,this.tx=o*t-this.ty*r,this.ty=o*r+this.ty*t,this},e.prototype.append=function(e){var t=this.a,r=this.b,n=this.c,a=this.d;return this.a=e.a*t+e.b*n,this.b=e.a*r+e.b*a,this.c=e.c*t+e.d*n,this.d=e.c*r+e.d*a,this.tx=e.tx*t+e.ty*n+this.tx,this.ty=e.tx*r+e.ty*a+this.ty,this},e.prototype.setTransform=function(e,t,r,n,o,l,u,p,h){var f=i(u),g=s(u),m=s(h),_=i(h),y=-i(p),x=s(p),T=g*o,a=f*o,b=-f*l,c=g*l;return this.a=m*T+_*b,this.b=m*a+_*c,this.c=y*T+x*b,this.d=y*a+x*c,this.tx=e+(r*T+n*b),this.ty=t+(r*a+n*c),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var r=this.a,n=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,r=this.b,n=this.c,a=this.d,i=-o(-n,a),s=o(r,t),d=Math.abs(i+s);return 1e-5>d?(e.rotation=s,0>t&&0<=a&&(e.rotation+=0>=e.rotation?u:-u),e.skew.x=e.skew.y=0):(e.skew.x=i,e.skew.y=s),e.scale.x=l(t*t+r*r),e.scale.y=l(n*n+a*a),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,r=this.c,a=this.d,o=this.tx,i=e*a-t*r;return this.a=a/i,this.b=-t/i,this.c=-r/i,this.d=e/i,this.tx=(r*this.ty-a*o)/i,this.ty=-(e*this.ty-t*o)/i,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copy=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},a(e,null,[{key:'IDENTITY',get:function(){return new e}},{key:'TEMP_MATRIX',get:function(){return new e}}]),e}();t.default=c},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=Math.max,o=Math.min;t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),d=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;n(this,e),this.x=+t,this.y=+r,this.width=+a,this.height=+o,this.type=s.SHAPES.RECT}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.contains=function(e,t){return 0>=this.width||0>=this.height?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height},e.prototype.pad=function(e,t){e=e||0,t=t||(0===t?0:e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t},e.prototype.fit=function(e){this.x<e.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=e.x),this.y<e.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=e.y),this.x+this.width>e.x+e.width&&(this.width=e.width-this.x,0>this.width&&(this.width=0)),this.y+this.height>e.y+e.height&&(this.height=e.height-this.y,0>this.height&&(this.height=0))},e.prototype.enlarge=function(e){var t=o(this.x,e.x),r=a(this.x+this.width,e.x+e.width),n=o(this.y,e.y),i=a(this.y+this.height,e.y+e.height);this.x=t,this.width=r-t,this.y=n,this.height=i-n},i(e,[{key:'left',get:function(){return this.x}},{key:'right',get:function(){return this.x+this.width}},{key:'top',get:function(){return this.y}},{key:'bottom',get:function(){return this.y+this.height}}],[{key:'EMPTY',get:function(){return new e(0,0,0,0)}}]),e}();t.default=d},function(e){var t=null,r={FLOAT:'float',FLOAT_VEC2:'vec2',FLOAT_VEC3:'vec3',FLOAT_VEC4:'vec4',INT:'int',INT_VEC2:'ivec2',INT_VEC3:'ivec3',INT_VEC4:'ivec4',BOOL:'bool',BOOL_VEC2:'bvec2',BOOL_VEC3:'bvec3',BOOL_VEC4:'bvec4',FLOAT_MAT2:'mat2',FLOAT_MAT3:'mat3',FLOAT_MAT4:'mat4',SAMPLER_2D:'sampler2D'};e.exports=function(e,n){if(!t){var a=Object.keys(r);t={};for(var o=0,i;o<a.length;++o)i=a[o],t[e[i]]=r[i]}return t[n]}},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=Math.max,o=Math.min;t.__esModule=!0;var i=r(6),s=function(){function e(){n(this,e),this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.updateID++,this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:(e=e||new i.Rectangle(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=o(this.minX,e.x),this.maxX=a(this.maxX,e.x),this.minY=o(this.minY,e.y),this.maxY=a(this.maxY,e.y)},e.prototype.addQuad=function(e){var t=this.minX,r=this.minY,n=this.maxX,a=this.maxY,o=e[0],i=e[1];t=o<t?o:t,r=i<r?i:r,n=o>n?o:n,a=i>a?i:a,o=e[2],i=e[3],t=o<t?o:t,r=i<r?i:r,n=o>n?o:n,a=i>a?i:a,o=e[4],i=e[5],t=o<t?o:t,r=i<r?i:r,n=o>n?o:n,a=i>a?i:a,o=e[6],i=e[7],t=o<t?o:t,r=i<r?i:r,n=o>n?o:n,a=i>a?i:a,this.minX=t,this.minY=r,this.maxX=n,this.maxY=a},e.prototype.addFrame=function(e,t,r,n,o){var i=e.worldTransform,s=i.a,a=i.b,l=i.c,u=i.d,d=i.tx,p=i.ty,c=this.minX,h=this.minY,f=this.maxX,g=this.maxY,m=s*t+l*r+d,_=a*t+u*r+p;c=m<c?m:c,h=_<h?_:h,f=m>f?m:f,g=_>g?_:g,m=s*n+l*r+d,_=a*n+u*r+p,c=m<c?m:c,h=_<h?_:h,f=m>f?m:f,g=_>g?_:g,m=s*t+l*o+d,_=a*t+u*o+p,c=m<c?m:c,h=_<h?_:h,f=m>f?m:f,g=_>g?_:g,m=s*n+l*o+d,_=a*n+u*o+p,c=m<c?m:c,h=_<h?_:h,f=m>f?m:f,g=_>g?_:g,this.minX=c,this.minY=h,this.maxX=f,this.maxY=g},e.prototype.addVertices=function(e,t,r,n){for(var o=e.worldTransform,s=o.a,a=o.b,l=o.c,u=o.d,d=o.tx,p=o.ty,c=this.minX,h=this.minY,f=this.maxX,g=this.maxY,m=r;m<n;m+=2){var i=t[m],_=t[m+1],b=s*i+l*_+d,x=u*_+a*i+p;c=b<c?b:c,h=x<h?x:h,f=b>f?b:f,g=x>g?x:g}this.minX=c,this.minY=h,this.maxX=f,this.maxY=g},e.prototype.addBounds=function(e){var t=this.minX,r=this.minY,n=this.maxX,a=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>a?e.maxY:a},e.prototype.addBoundsMask=function(e,t){var r=e.minX>t.minX?e.minX:t.minX,n=e.minY>t.minY?e.minY:t.minY,a=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=a&&n<=o){var i=this.minX,s=this.minY,d=this.maxX,l=this.maxY;this.minX=r<i?r:i,this.minY=n<s?n:s,this.maxX=a>d?a:d,this.maxY=o>l?o:l}},e.prototype.addBoundsArea=function(e,t){var r=e.minX>t.x?e.minX:t.x,n=e.minY>t.y?e.minY:t.y,a=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=a&&n<=o){var i=this.minX,s=this.minY,d=this.maxX,l=this.maxY;this.minX=r<i?r:i,this.minY=n<s?n:s,this.maxX=a>d?a:d,this.maxY=o>l?o:l}},e}();t.default=s},function(e,t){var r,n,a;/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */(function(o){var i=/iPhone/i,s=/iPod/i,d=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,u=/Android/i,p=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,c=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,h=/Windows Phone/i,f=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,g=/BlackBerry/i,m=/BB10/i,_=/Opera Mini/i,y=/(CriOS|Chrome)(?=.*\bMobile\b)/i,x=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,T=function(e,t){return e.test(t)},v=function(e){var t=e||navigator.userAgent,r=t.split('[FBAN');if('undefined'!=typeof r[1]&&(t=r[0]),r=t.split('Twitter'),'undefined'!=typeof r[1]&&(t=r[0]),this.apple={phone:T(i,t),ipod:T(s,t),tablet:!T(i,t)&&T(d,t),device:T(i,t)||T(s,t)||T(d,t)},this.amazon={phone:T(p,t),tablet:!T(p,t)&&T(c,t),device:T(p,t)||T(c,t)},this.android={phone:T(p,t)||T(l,t),tablet:!T(p,t)&&!T(l,t)&&(T(c,t)||T(u,t)),device:T(p,t)||T(c,t)||T(l,t)||T(u,t)},this.windows={phone:T(h,t),tablet:T(f,t),device:T(h,t)||T(f,t)},this.other={blackberry:T(g,t),blackberry10:T(m,t),opera:T(_,t),firefox:T(x,t),chrome:T(y,t),device:T(g,t)||T(m,t)||T(_,t)||T(x,t)||T(y,t)},this.seven_inch=T(b,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,'undefined'==typeof window)return this},S=function(){var e=new v;return e.Class=v,e};'undefined'!=typeof e&&e.exports&&'undefined'==typeof window?e.exports=v:'undefined'!=typeof e&&e.exports&&'undefined'!=typeof window?e.exports=S():(n=[],r=o.isMobile=S(),a='function'==typeof r?r.apply(t,n):r,!(a!==void 0&&(e.exports=a)))})(this)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(6),o=function(){function e(){n(this,e),this.worldTransform=new a.Matrix,this.localTransform=new a.Matrix,this._worldID=0,this._parentID=0}return e.prototype.updateLocalTransform=function(){},e.prototype.updateTransform=function(e){var t=e.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*t.a+n.b*t.c,r.b=n.a*t.b+n.b*t.d,r.c=n.c*t.a+n.d*t.c,r.d=n.c*t.b+n.d*t.d,r.tx=n.tx*t.a+n.ty*t.c+t.tx,r.ty=n.tx*t.b+n.ty*t.d+t.ty,this._worldID++},e}();t.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.abs;t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(6),u=r(2),p=r(1),c=r(11),h=n(c),f=r(15),g=n(f),m=new l.Point,_=function(e){function t(r){a(this,t);var n=o(this,e.call(this));return n._anchor=new l.ObservablePoint(n._onAnchorUpdate,n),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=p.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||h.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName='sprite',n}return i(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,u.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,u.sign)(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var e=this._texture,t=this.transform.worldTransform,r=t.a,n=t.b,a=t.c,o=t.d,i=t.tx,s=t.ty,d=this.vertexData,l=e.trim,u=e.orig,p=this._anchor,c=0,h=0,f=0,g=0;l?(h=l.x-p._x*u.width,c=h+l.width,g=l.y-p._y*u.height,f=g+l.height):(h=-p._x*u.width,c=h+u.width,g=-p._y*u.height,f=g+u.height),d[0]=r*h+a*g+i,d[1]=o*g+n*h+s,d[2]=r*c+a*g+i,d[3]=o*g+n*c+s,d[4]=r*c+a*f+i,d[5]=o*f+n*c+s,d[6]=r*h+a*f+i,d[7]=o*f+n*h+s}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,r=e.orig,n=this._anchor,o=this.transform.worldTransform,i=o.a,a=o.b,s=o.c,l=o.d,d=o.tx,u=o.ty,p=-n._x*r.width,c=p+r.width,h=-n._y*r.height,f=h+r.height;t[0]=i*p+s*h+d,t[1]=l*h+a*p+u,t[2]=i*c+s*h+d,t[3]=l*h+a*c+u,t[4]=i*c+s*f+d,t[5]=l*f+a*c+u,t[6]=i*p+s*f+d,t[7]=l*f+a*p+u},t.prototype._renderWebGL=function(e){this.calculateVertices(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(e){e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;e&&(e.width!==t.width||e.height!==t.height)?(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData)):(this.calculateVertices(),this._bounds.addQuad(this.vertexData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(!this._localBoundsRect&&(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,m);var t=this._texture.orig.width,r=this._texture.orig.height,n=-t*this.anchor.x,a=0;return m.x>=n&&m.x<n+t&&(a=-r*this.anchor.y,m.y>=a&&m.y<a+r)},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._anchor=null;var r='boolean'==typeof t?t:t&&t.texture;if(r){var n='boolean'==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},t.from=function(e){return new t(h.default.from(e))},t.fromFrame=function(e){var r=u.TextureCache[e];if(!r)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new t(r)},t.fromImage=function(e,r,n){return new t(h.default.fromImage(e,r,n))},d(t,[{key:'width',get:function(){return s(this.scale.x)*this._texture.orig.width},set:function(e){var t=(0,u.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:'height',get:function(){return s(this.scale.y)*this._texture.orig.height},set:function(e){var t=(0,u.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:'anchor',get:function(){return this._anchor},set:function(e){this._anchor.copy(e)}},{key:'tint',get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:'texture',get:function(){return this._texture},set:function(e){this._texture===e||(this._texture=e,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once('update',this._onTextureUpdate,this)))}}]),t}(g.default);t.default=_},function(e,t){'use strict';'use restrict';function r(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}var n=32;t.INT_BITS=n,t.INT_MAX=2147483647,t.INT_MIN=-1<<n-1,t.sign=function(e){return(0<e)-(0>e)},t.abs=function(e){var t=e>>n-1;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t,r;return t=(65535<e)<<4,e>>>=t,r=(255<e)<<3,e>>>=r,t|=r,r=(15<e)<<2,e>>>=r,t|=r,r=(3<e)<<1,e>>>=r,t|=r,t|e>>1},t.log10=function(e){return 1e9<=e?9:1e8<=e?8:1e7<=e?7:1e6<=e?6:1e5<=e?5:1e4<=e?4:1e3<=e?3:100<=e?2:10<=e?1:0},t.popCount=function(e){return e-=1431655765&e>>>1,e=(858993459&e)+(858993459&e>>>2),16843009*(252645135&e+(e>>>4))>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,1&27030>>>e};var a=Array(256);(function(e){for(var t=0;256>t;++t){var n=t,a=t,r=7;for(n>>>=1;n;n>>>=1)a<<=1,a|=1&n,--r;e[t]=255&a<<r}})(a),t.reverse=function(e){return a[255&e]<<24|a[255&e>>>8]<<16|a[255&e>>>16]<<8|a[255&e>>>24]},t.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},t.deinterleave2=function(e,t){return e=1431655765&e>>>t,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),e=65535&(e|e>>>16),e<<16>>16},t.interleave3=function(e,t,r){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),e|r<<2},t.deinterleave3=function(e,t){return e=1227133513&e>>>t,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),e=1023&(e|e>>>16),e<<22>>22},t.nextCombination=function(e){var n=e|e-1;return n+1|(~n&-~n)-1>>>r(e)+1}},function(e,t,r){'use strict';t.__esModule=!0,t.Ticker=t.shared=void 0;var n=r(126),a=function(e){return e&&e.__esModule?e:{default:e}}(n),o=new a.default;o.autoStart=!0,o.destroy=function(){},t.shared=o,t.Ticker=a.default},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(61),d=n(s),l=r(11),u=n(l),p=function(e){function t(r,n){a(this,t);var i=null;if(!(r instanceof d.default)){var s=arguments[1],l=arguments[2],u=arguments[3],p=arguments[4];console.warn('Please use RenderTexture.create('+s+', '+l+') instead of the ctor directly.'),i=arguments[0],n=null,r=new d.default(s,l,u,p)}var c=o(this,e.call(this,r,n));return c.legacyRenderer=i,c.valid=!0,c._updateUvs(),c}return i(t,e),t.prototype.resize=function(e,t,r){this.valid=0<e&&0<t,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,r||this.baseTexture.resize(e,t),this._updateUvs()},t.create=function(e,r,n,a){return new t(new d.default(e,r,n,a))},t}(u.default);t.default=p},function(e,t,r){'use strict';var n=Math.ceil,a=Math.min;t.__esModule=!0;var o=r(2),i=r(63),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d={getTintedTexture:function(e,t){var r=e._texture;t=d.roundColor(t);var n='#'+('00000'+(0|t).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var a=r.tintCache[n],o;if(a){if(a.tintId===r._updateID)return r.tintCache[n];o=r.tintCache[n]}else o=d.canvas||document.createElement('canvas');if(d.tintMethod(r,t,o),o.tintId=r._updateID,d.convertTintToImage){var i=new Image;i.src=o.toDataURL(),r.tintCache[n]=i}else r.tintCache[n]=o,d.canvas=null;return o},tintWithMultiply:function(e,t,r){var a=r.getContext('2d'),o=e._frame.clone(),i=e.baseTexture.resolution;o.x*=i,o.y*=i,o.width*=i,o.height*=i,r.width=n(o.width),r.height=n(o.height),a.save(),a.fillStyle='#'+('00000'+(0|t).toString(16)).substr(-6),a.fillRect(0,0,o.width,o.height),a.globalCompositeOperation='multiply',a.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),a.globalCompositeOperation='destination-atop',a.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),a.restore()},tintWithOverlay:function(e,t,r){var a=r.getContext('2d'),o=e._frame.clone(),i=e.baseTexture.resolution;o.x*=i,o.y*=i,o.width*=i,o.height*=i,r.width=n(o.width),r.height=n(o.height),a.save(),a.globalCompositeOperation='copy',a.fillStyle='#'+('00000'+(0|t).toString(16)).substr(-6),a.fillRect(0,0,o.width,o.height),a.globalCompositeOperation='destination-atop',a.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),a.restore()},tintWithPerPixel:function(e,t,a){var s=a.getContext('2d'),d=e._frame.clone(),l=e.baseTexture.resolution;d.x*=l,d.y*=l,d.width*=l,d.height*=l,a.width=n(d.width),a.height=n(d.height),s.save(),s.globalCompositeOperation='copy',s.drawImage(e.baseTexture.source,d.x,d.y,d.width,d.height,0,0,d.width,d.height),s.restore();for(var u=(0,o.hex2rgb)(t),p=u[0],r=u[1],c=u[2],h=s.getImageData(0,0,d.width,d.height),f=h.data,g=0;g<f.length;g+=4)f[g+0]*=p,f[g+1]*=r,f[g+2]*=c;s.putImageData(h,0,0)},roundColor:function(e){var t=d.cacheStepsPerColorChannel,r=(0,o.hex2rgb)(e);return r[0]=a(255,r[0]/t*t),r[1]=a(255,r[1]/t*t),r[2]=a(255,r[2]/t*t),(0,o.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,s.default)(),tintMethod:0};d.tintMethod=d.canUseMultiply?d.tintWithMultiply:d.tintWithPerPixel,t.default=d},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){for(var t=6*e,r=new Uint16Array(t),n=0,a=0;n<t;n+=6,a+=4)r[n+0]=a+0,r[n+1]=a+1,r[n+2]=a+2,r[n+3]=a+0,r[n+4]=a+2,r[n+5]=a+3;return r}},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(27),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=new i.default,d=function(){function e(t,r){n(this,e),this._texture=t,this.mapCoord=new i.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin='undefined'==typeof r?0.5:r}return e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var r=this.mapCoord,n=0;n<e.length;n+=2){var a=e[n],o=e[n+1];t[n]=a*r.a+o*r.c+r.tx,t[n+1]=a*r.b+o*r.d+r.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._lastTextureID===t._updateID)return!1;this._lastTextureID=t._updateID;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=t.orig,a=t.trim;a&&(s.set(n.width/a.width,0,0,n.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(s));var o=t.baseTexture,i=this.uClampFrame,d=this.clampMargin/o.resolution,l=this.clampOffset;return i[0]=(t._frame.x+d+l)/o.width,i[1]=(t._frame.y+d+l)/o.height,i[2]=(t._frame.x+t._frame.width-d+l)/o.width,i[3]=(t._frame.y+t._frame.height-d+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,!0},a(e,[{key:'texture',get:function(){return this._texture},set:function(e){this._texture=e,this._lastTextureID=-1}}]),e}();t.default=d},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(){}function i(e,t,r){t&&0===t.indexOf('.')&&(t=t.substring(1));t&&(e[t]=r)}function s(e){return e.toString().replace('object ','')}t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(86),u=n(l),p=r(85),c=n(p),h=!(!window.XDomainRequest||'withCredentials'in new XMLHttpRequest),f=null,g=200,m=function(){function e(t,r,n){if(a(this,e),'string'!=typeof t||'string'!=typeof r)throw new Error('Both name and url are required for constructing a resource.');n=n||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===r.indexOf('data:')),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?'anonymous':n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=o,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new c.default,this.onProgress=new c.default,this.onComplete=new c.default,this.onAfterMiddleware=new c.default}return e.setExtensionLoadType=function(t,r){i(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){i(e._xhrTypeMap,t,r)},e.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener('error',this._boundOnError,!1),this.data.removeEventListener('load',this._boundComplete,!1),this.data.removeEventListener('progress',this._boundOnProgress,!1),this.data.removeEventListener('canplaythrough',this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener('error',this._boundXhrOnError,!1),this.xhr.removeEventListener('abort',this._boundXhrOnAbort,!1),this.xhr.removeEventListener('progress',this._boundOnProgress,!1),this.xhr.removeEventListener('load',this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error('Complete called again for an already completed resource.');this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},e.prototype.load=function(t){var r=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(r)},1));switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||'string'!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement('image');break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement('audio');break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement('video');break;case e.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr();}}},e.prototype._hasFlag=function(e){return!!(this._flags&e)},e.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},e.prototype._loadElement=function(e){this.data=this.metadata.loadElement?this.metadata.loadElement:'image'===e&&'undefined'!=typeof window.Image?new Image:document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener('error',this._boundOnError,!1),this.data.addEventListener('load',this._boundComplete,!1),this.data.addEventListener('progress',this._boundOnProgress,!1)},e.prototype._loadSourceElement=function(e){if(this.data=this.metadata.loadElement?this.metadata.loadElement:'audio'===e&&'undefined'!=typeof window.Audio?new Audio:document.createElement(e),null===this.data)return void this.abort('Unsupported element: '+e);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(e,this.url[r],Array.isArray(t)?t[r]:t));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener('error',this._boundOnError,!1),this.data.addEventListener('load',this._boundComplete,!1),this.data.addEventListener('progress',this._boundOnProgress,!1),this.data.addEventListener('canplaythrough',this._boundComplete,!1),this.data.load()},e.prototype._loadXhr=function(){'string'!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open('GET',this.url,!0),t.responseType=this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?e.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener('error',this._boundXhrOnError,!1),t.addEventListener('abort',this._boundXhrOnAbort,!1),t.addEventListener('progress',this._boundOnProgress,!1),t.addEventListener('load',this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){'string'!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXdrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open('GET',this.url,!0),setTimeout(function(){return e.send()},1)},e.prototype._createSource=function(e,t,r){r||(r=e+'/'+this._getExtension(t));var n=document.createElement('source');return n.src=t,n.type=r,n},e.prototype._onError=function(e){this.abort('Failed to load element using: '+e.target.nodeName)},e.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},e.prototype._xhrOnError=function(){var e=this.xhr;this.abort(s(e)+' Request failed. Status: '+e.status+', text: "'+e.statusText+'"')},e.prototype._xhrOnAbort=function(){this.abort(s(this.xhr)+' Request was aborted by the user.')},e.prototype._xdrOnTimeout=function(){this.abort(s(this.xhr)+' Request timed out.')},e.prototype._xhrOnLoad=function(){var t=this.xhr,r='',n='undefined'==typeof t.status?g:t.status;(''===t.responseType||'text'===t.responseType||'undefined'==typeof t.responseType)&&(r=t.responseText),n===0&&0<r.length?n=g:n===1223&&(n=204);var a=0|n/100;if(a!=2)return void this.abort('['+t.status+'] '+t.statusText+': '+t.responseURL);if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(t){return void this.abort('Error trying to parse loaded json: '+t)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,'text/xml')}else{var i=document.createElement('div');i.innerHTML=r,this.data=i}this.type=e.TYPE.XML}catch(t){return void this.abort('Error trying to parse loaded xml: '+t)}else this.data=t.response||r;this.complete()},e.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf('data:'))return'';t=t||window.location,f||(f=document.createElement('a')),f.href=e,e=(0,u.default)(f.href,{strictMode:!0});var r=!e.port&&''===t.port||e.port===t.port,n=e.protocol?e.protocol+':':'';return e.host===t.hostname&&r&&n===t.protocol?'':'anonymous'},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(){var e=this.url,t='';if(this.isDataUrl){var r=e.indexOf('/');t=e.substring(r+1,e.indexOf(';',r))}else{var n=e.indexOf('?'),a=e.indexOf('#'),o=Math.min(-1<n?n:e.length,-1<a?a:e.length);e=e.substring(0,o),t=e.substring(e.lastIndexOf('.')+1)}return t.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return'application/octet-binary';case e.XHR_RESPONSE_TYPE.BLOB:return'application/blob';case e.XHR_RESPONSE_TYPE.DOCUMENT:return'application/xml';case e.XHR_RESPONSE_TYPE.JSON:return'application/json';case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return'text/plain';}},d(e,[{key:'isDataUrl',get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:'isComplete',get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:'isLoading',get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();t.default=m,m.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},m.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},m.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},m.XHR_RESPONSE_TYPE={DEFAULT:'text',BUFFER:'arraybuffer',BLOB:'blob',DOCUMENT:'document',JSON:'json',TEXT:'text'},m._loadTypeMap={gif:m.LOAD_TYPE.IMAGE,png:m.LOAD_TYPE.IMAGE,bmp:m.LOAD_TYPE.IMAGE,jpg:m.LOAD_TYPE.IMAGE,jpeg:m.LOAD_TYPE.IMAGE,tif:m.LOAD_TYPE.IMAGE,tiff:m.LOAD_TYPE.IMAGE,webp:m.LOAD_TYPE.IMAGE,tga:m.LOAD_TYPE.IMAGE,svg:m.LOAD_TYPE.IMAGE,"svg+xml":m.LOAD_TYPE.IMAGE,mp3:m.LOAD_TYPE.AUDIO,ogg:m.LOAD_TYPE.AUDIO,wav:m.LOAD_TYPE.AUDIO,mp4:m.LOAD_TYPE.VIDEO,webm:m.LOAD_TYPE.VIDEO},m._xhrTypeMap={xhtml:m.XHR_RESPONSE_TYPE.DOCUMENT,html:m.XHR_RESPONSE_TYPE.DOCUMENT,htm:m.XHR_RESPONSE_TYPE.DOCUMENT,xml:m.XHR_RESPONSE_TYPE.DOCUMENT,tmx:m.XHR_RESPONSE_TYPE.DOCUMENT,svg:m.XHR_RESPONSE_TYPE.DOCUMENT,tsx:m.XHR_RESPONSE_TYPE.DOCUMENT,gif:m.XHR_RESPONSE_TYPE.BLOB,png:m.XHR_RESPONSE_TYPE.BLOB,bmp:m.XHR_RESPONSE_TYPE.BLOB,jpg:m.XHR_RESPONSE_TYPE.BLOB,jpeg:m.XHR_RESPONSE_TYPE.BLOB,tif:m.XHR_RESPONSE_TYPE.BLOB,tiff:m.XHR_RESPONSE_TYPE.BLOB,webp:m.XHR_RESPONSE_TYPE.BLOB,tga:m.XHR_RESPONSE_TYPE.BLOB,json:m.XHR_RESPONSE_TYPE.JSON,text:m.XHR_RESPONSE_TYPE.TEXT,txt:m.XHR_RESPONSE_TYPE.TEXT,ttf:m.XHR_RESPONSE_TYPE.BUFFER,otf:m.XHR_RESPONSE_TYPE.BUFFER},m.EMPTY_GIF='data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){var r=!1;if(e&&e._textures&&e._textures.length)for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof c.Texture){var a=e._textures[n].baseTexture;-1===t.indexOf(a)&&(t.push(a),r=!0)}return r}function o(e,t){return!!(e instanceof c.BaseTexture)&&(-1===t.indexOf(e)&&t.push(e),!0)}function i(e,t){if(e._texture&&e._texture instanceof c.Texture){var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function s(e,t){return!!(t instanceof c.Text)&&(t.updateText(!0),!0)}function d(e,t){if(t instanceof c.TextStyle){var r=t.toFontString();return c.TextMetrics.measureFont(r),!0}return!1}function l(e,t){if(e instanceof c.Text){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function u(e,t){return!!(e instanceof c.TextStyle)&&(-1===t.indexOf(e)&&t.push(e),!0)}t.__esModule=!0;var p=r(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(p),h=r(92),f=function(e){return e&&e.__esModule?e:{default:e}}(h),g=c.ticker.shared;c.settings.UPLOADS_PER_FRAME=4;var m=function(){function e(t){var r=this;n(this,e),this.limiter=new f.default(c.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(l),this.registerFindHook(u),this.registerFindHook(a),this.registerFindHook(o),this.registerFindHook(i),this.registerUploadHook(s),this.registerUploadHook(d)}return e.prototype.upload=function(e,t){'function'==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),!this.ticking&&(this.ticking=!0,g.addOnce(this.tick,this,c.UPDATE_PRIORITY.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(!this.queue.length){this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var o=0,i=a.length;o<i;o++)a[o]()}else g.addOnce(this.tick,this,c.UPDATE_PRIORITY.UTILITY)},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof c.Container)for(var n=e.children.length-1;0<=n;n--)this.add(e.children[n]);return this},e.prototype.destroy=function(){this.ticking&&g.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();t.default=m},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,n){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;r(this,e),this._x=a,this._y=o,this.cb=t,this.scope=n}return e.prototype.set=function(e,t){var r=e||0,n=t||(0===t?0:r);(this._x!==r||this._y!==n)&&(this._x=r,this._y=n,this.cb.call(this.scope))},e.prototype.copy=function(e){(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope))},n(e,[{key:'x',get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:'y',get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),e}();t.default=a},function(e,t,r){'use strict';function n(e){return 0>e?-1:0<e?1:0}var a=Math.abs;t.__esModule=!0;var o=r(27),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],d=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],l=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],u=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],p=[],c=[];(function(){for(var e=0,t;16>e;e++){t=[],c.push(t);for(var r=0;16>r;r++)for(var a=n(s[e]*s[r]+l[e]*d[r]),o=n(d[e]*s[r]+u[e]*d[r]),h=n(s[e]*l[r]+l[e]*u[r]),f=n(d[e]*l[r]+u[e]*u[r]),g=0;16>g;g++)if(s[g]===a&&d[g]===o&&l[g]===h&&u[g]===f){t.push(g);break}}for(var m=0,_;16>m;m++)_=new i.default,_.set(s[m],d[m],l[m],u[m],0,0),p.push(_)})();var h={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(e){return s[e]},uY:function(e){return d[e]},vX:function(e){return l[e]},vY:function(e){return u[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return c[e][t]},sub:function(e,t){return c[e][h.inv(t)]},rotate180:function(e){return 4^e},isSwapWidthHeight:function(e){return 2==(3&e)},byDirection:function(e,t){if(2*a(e)<=a(t))return 0<=t?h.S:h.N;return 2*a(t)<=a(e)?0<e?h.E:h.W:0<t?0<e?h.SE:h.SW:0<e?h.NE:h.NW},matrixAppendRotationInv:function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:0,a=p[h.inv(t)];a.tx=r,a.ty=n,e.append(a)}};t.default=h},function(e){e.exports=function(e,t,r){var n;if(r){var a=r.tempAttribState,o=r.attribState;for(n=0;n<a.length;n++)a[n]=!1;for(n=0;n<t.length;n++)a[t[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==a[n]&&(o[n]=a[n],r.attribState[n]?e.enableVertexAttribArray(n):e.disableVertexAttribArray(n))}else for(n=0;n<t.length;n++){var i=t[n];e.enableVertexAttribArray(i.attribute.location)}}},function(e){var t=function(e,t,r,n,a){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=r||-1,this.format=n||e.RGBA,this.type=a||e.UNSIGNED_BYTE};t.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=e.videoWidth||e.width,n=e.videoHeight||e.height;n!==this.height||r!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=r,this.height=n};var r=!1;t.prototype.uploadData=function(e,t,n){this.bind();var a=this.gl;if(e instanceof Float32Array){if(!r){var o=a.getExtension('OES_texture_float');if(o)r=!0;else throw new Error('floating point textures not available')}this.type=a.FLOAT}else this.type=this.type||a.UNSIGNED_BYTE;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||n!==this.height?a.texImage2D(a.TEXTURE_2D,0,this.format,t,n,0,this.format,this.type,e||null):a.texSubImage2D(a.TEXTURE_2D,0,0,0,t,n,this.format,this.type,e||null),this.width=t,this.height=n},t.prototype.bind=function(e){var t=this.gl;e!==void 0&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},t.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)},t.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)},t.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)},t.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)},t.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},t.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},t.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},t.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)},t.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)},t.prototype.destroy=function(){var e=this.gl;e.deleteTexture(this.texture)},t.fromSource=function(e,r,n){var a=new t(e);return a.premultiplyAlpha=n||!1,a.upload(r),a},t.fromData=function(e,r,n,a){var o=new t(e);return o.uploadData(r,n,a),o},e.exports=t},function(e){var t=function(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(e.getShaderInfoLog(n)),null)};e.exports=function(e,r,n,a){var o=t(e,e.VERTEX_SHADER,r),s=t(e,e.FRAGMENT_SHADER,n),d=e.createProgram();if(e.attachShader(d,o),e.attachShader(d,s),a)for(var l in a)e.bindAttribLocation(d,a[l],l);return e.linkProgram(d),e.getProgramParameter(d,e.LINK_STATUS)||(console.error('Pixi.js Error: Could not initialize shader.'),console.error('gl.VALIDATE_STATUS',e.getProgramParameter(d,e.VALIDATE_STATUS)),console.error('gl.getError()',e.getError()),''!==e.getProgramInfoLog(d)&&console.warn('Pixi.js Warning: gl.getProgramInfoLog()',e.getProgramInfoLog(d)),e.deleteProgram(d),d=null),e.deleteShader(o),e.deleteShader(s),d}},function(e,t,r){var n=r(29),a=r(48),o=function(e,t,r,n){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,r||0,n||0)};e.exports=function(e,t){for(var r={},s=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),d=0;d<s;d++){var i=e.getActiveAttrib(t,d),l=n(e,i.type);r[i.name]={type:l,size:a(l),location:e.getAttribLocation(t,i.name),pointer:o}}return r}},function(e){var t={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(e){return t[e]}},function(e,t,r){var n=r(29),a=r(50);e.exports=function(e,t){for(var r={},o=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),s=0;s<o;s++){var i=e.getActiveUniform(t,s),d=i.name.replace(/\[.*?\]/,''),l=n(e,i.type);r[d]={type:l,size:i.size,location:e.getUniformLocation(t,d),value:a(l,i.size)}}return r}},function(e){var t=function(e){for(var t=Array(e),r=0;r<t.length;r++)t[r]=!1;return t};e.exports=function(e,r){return'float'===e?0:'vec2'===e?new Float32Array(2*r):'vec3'===e?new Float32Array(3*r):'vec4'===e?new Float32Array(4*r):'int'===e||'sampler2D'===e?0:'ivec2'===e?new Int32Array(2*r):'ivec3'===e?new Int32Array(3*r):'ivec4'===e?new Int32Array(4*r):'bool'!=e&&('bvec2'===e?t(2*r):'bvec3'===e?t(3*r):'bvec4'===e?t(4*r):'mat2'===e?new Float32Array([1,0,0,1]):'mat3'===e?new Float32Array([1,0,0,0,1,0,0,0,1]):'mat4'===e?new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]):void 0)}},function(e){e.exports=function(e,t){return'precision'===e.substring(0,9)?e:'precision '+t+' float;\n'+e}},function(e){var t=function(e){var t='return this.data.%%.value;'.replace('%%',e);return new Function(t)},r=function(e,t){var r='this.data.%%.value = value;\nvar location = this.data.%%.location;'.replace(/%%/g,e),n;return n=1===t.size?a[t.type]:o[t.type],n&&(r+='\nthis.gl.'+n+';'),new Function('value',r)},n=function(e,t){for(var r=t,n=0,a;n<e.length-1;n++)a=r[e[n]]||{data:{}},r[e[n]]=a,r=a;return r},a={float:'uniform1f(location, value)',vec2:'uniform2f(location, value[0], value[1])',vec3:'uniform3f(location, value[0], value[1], value[2])',vec4:'uniform4f(location, value[0], value[1], value[2], value[3])',int:'uniform1i(location, value)',ivec2:'uniform2i(location, value[0], value[1])',ivec3:'uniform3i(location, value[0], value[1], value[2])',ivec4:'uniform4i(location, value[0], value[1], value[2], value[3])',bool:'uniform1i(location, value)',bvec2:'uniform2i(location, value[0], value[1])',bvec3:'uniform3i(location, value[0], value[1], value[2])',bvec4:'uniform4i(location, value[0], value[1], value[2], value[3])',mat2:'uniformMatrix2fv(location, false, value)',mat3:'uniformMatrix3fv(location, false, value)',mat4:'uniformMatrix4fv(location, false, value)',sampler2D:'uniform1i(location, value)'},o={float:'uniform1fv(location, value)',vec2:'uniform2fv(location, value)',vec3:'uniform3fv(location, value)',vec4:'uniform4fv(location, value)',int:'uniform1iv(location, value)',ivec2:'uniform2iv(location, value)',ivec3:'uniform3iv(location, value)',ivec4:'uniform4iv(location, value)',bool:'uniform1iv(location, value)',bvec2:'uniform2iv(location, value)',bvec3:'uniform3iv(location, value)',bvec4:'uniform4iv(location, value)',sampler2D:'uniform1iv(location, value)'};e.exports=function(e,a){for(var o={data:{},gl:e},s=Object.keys(a),d=0;d<s.length;d++){var i=s[d],l=i.split('.'),u=l[l.length-1],p=n(l,o),c=a[i];p.data[u]=c,p.gl=e,Object.defineProperty(p,u,{get:t(u),set:r(u,c)})}return o}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(10),l=n(d),u=r(1),p=r(5),c=n(p),h=r(54),f=n(h),g=r(55),m=n(g),_=r(30),y=n(_),x=r(6),b=function(e){function t(){a(this,t);var r=o(this,e.call(this)),n=c.default.TRANSFORM_MODE===u.TRANSFORM_MODE.STATIC?f.default:m.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new y.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return i(t,e),t.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),t||(!this._boundsRect&&(this._boundsRect=new x.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){var t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(!this._localBoundsRect&&(this._localBoundsRect=new x.Rectangle),e=this._localBoundsRect);var n=this.getBounds(!1,e);return this.parent=r,this.transform=t,n},t.prototype.toGlobal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,r,n){return t&&(e=t.toGlobal(e,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.renderWebGL=function(){},t.prototype.renderCanvas=function(){},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error('setParent: Argument must be a Container');return e.addChild(this),e},t.prototype.setTransform=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,i=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,d=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=r?r:1,this.scale.y=n?n:1,this.rotation=a,this.skew.x=o,this.skew.y=i,this.pivot.x=s,this.pivot.y=d,this},t.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},s(t,[{key:'_tempDisplayObjectParent',get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new t),this.tempDisplayObjectParent}},{key:'x',get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:'y',get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:'worldTransform',get:function(){return this.transform.worldTransform}},{key:'localTransform',get:function(){return this.transform.localTransform}},{key:'position',get:function(){return this.transform.position},set:function(e){this.transform.position.copy(e)}},{key:'scale',get:function(){return this.transform.scale},set:function(e){this.transform.scale.copy(e)}},{key:'pivot',get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copy(e)}},{key:'skew',get:function(){return this.transform.skew},set:function(e){this.transform.skew.copy(e)}},{key:'rotation',get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:'worldVisible',get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:'mask',get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0),this._mask=e,this._mask&&(this._mask.renderable=!1)}},{key:'filters',get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}]),t}(l.default);t.default=b,b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Math.sin,s=Math.cos;t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(6),u=r(32),p=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){n(this,t);var r=a(this,e.call(this));return r.position=new l.ObservablePoint(r.onChange,r,0,0),r.scale=new l.ObservablePoint(r.onChange,r,1,1),r.pivot=new l.ObservablePoint(r.onChange,r,0,0),r.skew=new l.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return o(t,e),t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=s(this._rotation+this.skew._y),this._sx=i(this._rotation+this.skew._y),this._cy=-i(this._rotation-this.skew._x),this._sy=s(this._rotation-this.skew._x),this._localID++},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},d(t,[{key:'rotation',get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),t}(p.default);t.default=c},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Math.sin,s=Math.cos;t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(6),u=r(32),p=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){n(this,t);var r=a(this,e.call(this));return r.position=new l.Point(0,0),r.scale=new l.Point(1,1),r.skew=new l.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new l.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return o(t,e),t.prototype.updateSkew=function(){this._cx=s(this._rotation+this.skew._y),this._sx=i(this._rotation+this.skew._y),this._cy=-i(this._rotation-this.skew._x),this._sy=s(this._rotation-this.skew._x)},t.prototype.updateLocalTransform=function(){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)},t.prototype.updateTransform=function(e){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d);var r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._worldID++},t.prototype.setFromMatrix=function(e){e.decompose(this)},d(t,[{key:'rotation',get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),t}(p.default);t.default=c},function(e,t,r){'use strict';function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function a(e,t,r){if(e&&d.isObject(e)&&e instanceof n)return e;var a=new n;return a.parse(e,t,r),a}var o=r(121),d=r(122);t.parse=a,t.resolve=function(e,t){return a(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?a(e,!1,!0).resolveObject(t):t},t.format=function(e){return d.isString(e)&&(e=a(e)),e instanceof n?e.format():n.prototype.format.call(e)},t.Url=n;var u=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=['{','}','|','\\','^','`'].concat(['<','>','"','`',' ','\r','\n','\t']),p=['\''].concat(l),c=['%','/','?',';','#'].concat(p),h=['/','?','#'],f=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=r(123);n.prototype.parse=function(e,t,r){if(!d.isString(e))throw new TypeError('Parameter \'url\' must be a string, not '+typeof e);var n=e.indexOf('?'),a=-1!==n&&n<e.indexOf('#')?'?':'#',b=e.split(a),T=/\\/g;b[0]=b[0].replace(T,'/'),e=b.join(a);var v=e;if(v=v.trim(),!r&&1===e.split('#').length){var S=s.exec(v);if(S)return this.path=v,this.href=v,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?x.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search='',this.query={}),this}var E=u.exec(v);if(E){E=E[0];var R=E.toLowerCase();this.protocol=R,v=v.substr(E.length)}if(r||E||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var A='//'===v.substr(0,2);A&&!(E&&_[E])&&(v=v.substr(2),this.slashes=!0)}if(!_[E]&&(A||E&&!y[E])){for(var I=-1,D=0,i;D<h.length;D++)i=v.indexOf(h[D]),-1!==i&&(-1==I||i<I)&&(I=i);var P,C;C=-1===I?v.lastIndexOf('@'):v.lastIndexOf('@',I),-1!==C&&(P=v.slice(0,C),v=v.slice(C+1),this.auth=decodeURIComponent(P)),I=-1;for(var D=0,i;D<c.length;D++)i=v.indexOf(c[D]),-1!==i&&(-1===I||i<I)&&(I=i);-1===I&&(I=v.length),this.host=v.slice(0,I),v=v.slice(I),this.parseHost(),this.hostname=this.hostname||'';var M='['===this.hostname[0]&&']'===this.hostname[this.hostname.length-1];if(!M)for(var w=this.hostname.split(/\./),D=0,O=w.length,l;D<O;D++)if(l=w[D],l&&!l.match(f)){for(var L='',N=0,B=l.length;N<B;N++)L+=127<l.charCodeAt(N)?'x':l[N];if(!L.match(f)){var k=w.slice(0,D),F=w.slice(D+1),U=l.match(g);U&&(k.push(U[1]),F.unshift(U[2])),F.length&&(v='/'+F.join('.')+v),this.hostname=k.join('.');break}}this.hostname=this.hostname.length>255?'':this.hostname.toLowerCase(),M||(this.hostname=o.toASCII(this.hostname));var X=this.port?':'+this.port:'',W=this.hostname||'';this.host=W+X,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),'/'!==v[0]&&(v='/'+v))}if(!m[R])for(var D=0,O=p.length,G;D<O;D++)if(G=p[D],-1!==v.indexOf(G)){var H=encodeURIComponent(G);H===G&&(H=escape(G)),v=v.split(G).join(H)}var Y=v.indexOf('#');-1!==Y&&(this.hash=v.substr(Y),v=v.slice(0,Y));var z=v.indexOf('?');if(-1===z?t&&(this.search='',this.query={}):(this.search=v.substr(z),this.query=v.substr(z+1),t&&(this.query=x.parse(this.query)),v=v.slice(0,z)),v&&(this.pathname=v),y[R]&&this.hostname&&!this.pathname&&(this.pathname='/'),this.pathname||this.search){var X=this.pathname||'',j=this.search||'';this.path=X+j}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||'';e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,':'),e+='@');var t=this.protocol||'',r=this.pathname||'',n=this.hash||'',a=!1,o='';this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(':')?this.hostname:'['+this.hostname+']'),this.port&&(a+=':'+this.port)),this.query&&d.isObject(this.query)&&Object.keys(this.query).length&&(o=x.stringify(this.query));var i=this.search||o&&'?'+o||'';return t&&':'!==t.substr(-1)&&(t+=':'),this.slashes||(!t||y[t])&&!1!==a?(a='//'+(a||''),r&&'/'!==r.charAt(0)&&(r='/'+r)):!a&&(a=''),n&&'#'!==n.charAt(0)&&(n='#'+n),i&&'?'!==i.charAt(0)&&(i='?'+i),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace('#','%23'),t+a+r+i+n},n.prototype.resolve=function(e){return this.resolveObject(a(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(d.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,a=Object.keys(this),o=0,l;o<a.length;o++)l=a[o],r[l]=this[l];if(r.hash=e.hash,''===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0,h;c<u.length;c++)h=u[c],'protocol'!==h&&(r[h]=e[h]);return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname='/'),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var f=Object.keys(e),g=0,m;g<f.length;g++)m=f[g],r[m]=e[m];return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!_[e.protocol]){for(var x=(e.pathname||'').split('/');x.length&&!(e.host=x.shift()););e.host||(e.host=''),e.hostname||(e.hostname=''),''!==x[0]&&x.unshift(''),2>x.length&&x.unshift(''),r.pathname=x.join('/')}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||'',r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var b=r.pathname||'',p=r.search||'';r.path=b+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var s=r.pathname&&'/'===r.pathname.charAt(0),T=e.host||e.pathname&&'/'===e.pathname.charAt(0),v=T||s||r.host&&e.pathname,S=v,E=r.pathname&&r.pathname.split('/')||[],x=e.pathname&&e.pathname.split('/')||[],R=r.protocol&&!y[r.protocol];if(R&&(r.hostname='',r.port=null,r.host&&(''===E[0]?E[0]=r.host:E.unshift(r.host)),r.host='',e.protocol&&(e.hostname=null,e.port=null,e.host&&(''===x[0]?x[0]=e.host:x.unshift(e.host)),e.host=null),v=v&&(''===x[0]||''===E[0])),T)r.host=e.host||''===e.host?e.host:r.host,r.hostname=e.hostname||''===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,E=x;else if(x.length)E||(E=[]),E.pop(),E=E.concat(x),r.search=e.search,r.query=e.query;else if(!d.isNullOrUndefined(e.search)){if(R){r.hostname=r.host=E.shift();var A=r.host&&0<r.host.indexOf('@')&&r.host.split('@');A&&(r.auth=A.shift(),r.host=r.hostname=A.shift())}return r.search=e.search,r.query=e.query,d.isNull(r.pathname)&&d.isNull(r.search)||(r.path=(r.pathname?r.pathname:'')+(r.search?r.search:'')),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.path=r.search?'/'+r.search:null,r.href=r.format(),r;for(var I=E.slice(-1)[0],D=(r.host||e.host||1<E.length)&&('.'===I||'..'===I)||''===I,P=0,C=E.length;0<=C;C--)I=E[C],'.'===I?E.splice(C,1):'..'===I?(E.splice(C,1),P++):P&&(E.splice(C,1),P--);if(!v&&!S)for(;P--;P)E.unshift('..');v&&''!==E[0]&&(!E[0]||'/'!==E[0].charAt(0))&&E.unshift(''),D&&'/'!==E.join('/').substr(-1)&&E.push('');var i=''===E[0]||E[0]&&'/'===E[0].charAt(0);if(R){r.hostname=r.host=i?'':E.length?E.shift():'';var A=r.host&&0<r.host.indexOf('@')&&r.host.split('@');A&&(r.auth=A.shift(),r.host=r.hostname=A.shift())}return v=v||r.host&&E.length,v&&!i&&E.unshift(''),E.length?r.pathname=E.join('/'):(r.pathname=null,r.path=null),d.isNull(r.pathname)&&d.isNull(r.search)||(r.path=(r.pathname?r.pathname:'')+(r.search?r.search:'')),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(t=t[0],':'!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){t||(t='video/'+e.substr(e.lastIndexOf('.')+1));var r=document.createElement('source');return r.src=e,r.type=t,r}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(13),l=function(e){return e&&e.__esModule?e:{default:e}}(d),u=r(2),p=r(35),c=r(1),h=function(e){function t(r,o){if(n(this,t),!r)throw new Error('No video source element specified.');(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var i=a(this,e.call(this,r,o));return i.width=r.videoWidth,i.height=r.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),r.addEventListener('play',i._onPlayStart.bind(i)),r.addEventListener('pause',i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(r.addEventListener('canplay',i._onCanPlay),r.addEventListener('canplaythrough',i._onCanPlay)),i}return o(t,e),t.prototype._isSourcePlaying=function(){var e=this.source;return 0<e.currentTime&&!1===e.paused&&!1===e.ended&&2<e.readyState},t.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},t.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(p.shared.add(this.update,this,c.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},t.prototype._onPlayStop=function(){this._isAutoUpdating&&(p.shared.remove(this.update,this),this._isAutoUpdating=!1)},t.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener('canplay',this._onCanPlay),this.source.removeEventListener('canplaythrough',this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,!this.__loaded&&(this.__loaded=!0,this.emit('loaded',this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},t.prototype.destroy=function(){this._isAutoUpdating&&p.shared.remove(this.update,this),this.source&&this.source._pixiId&&(l.default.removeFromCache(this.source._pixiId),delete this.source._pixiId),e.prototype.destroy.call(this)},t.fromVideo=function(e,r){e._pixiId||(e._pixiId='video_'+(0,u.uid)());var n=u.BaseTextureCache[e._pixiId];return n||(n=new t(e,r),l.default.addToCache(n,e._pixiId)),n},t.fromUrl=function(e,r){var n=document.createElement('video');if(n.setAttribute('webkit-playsinline',''),n.setAttribute('playsinline',''),Array.isArray(e))for(var a=0;a<e.length;++a)n.appendChild(s(e[a].src||e[a],e[a].mime));else n.appendChild(s(e.src||e,e.mime));return n.load(),t.fromVideo(n,r)},i(t,[{key:'autoUpdate',get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(p.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(p.shared.add(this.update,this,c.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),t}(l.default);t.default=h,h.fromUrls=h.fromUrl},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(43),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(){n(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return e.prototype.set=function(e,t,r){var n=t.width,a=t.height;if(r){var i=e.width/2/n,s=e.height/2/a,d=e.x/n+i,l=e.y/a+s;r=o.default.add(r,o.default.NW),this.x0=d+i*o.default.uX(r),this.y0=l+s*o.default.uY(r),r=o.default.add(r,2),this.x1=d+i*o.default.uX(r),this.y1=l+s*o.default.uY(r),r=o.default.add(r,2),this.x2=d+i*o.default.uX(r),this.y2=l+s*o.default.uY(r),r=o.default.add(r,2),this.x3=d+i*o.default.uX(r),this.y3=l+s*o.default.uY(r)}else this.x0=e.x/n,this.y0=e.y/a,this.x1=(e.x+e.width)/n,this.y1=e.y/a,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/a,this.x3=e.x/n,this.y3=(e.y+e.height)/a;this.uvsUint32[0]=(65535&65535*this.y0)<<16|65535&65535*this.x0,this.uvsUint32[1]=(65535&65535*this.y1)<<16|65535&65535*this.x1,this.uvsUint32[2]=(65535&65535*this.y2)<<16|65535&65535*this.x2,this.uvsUint32[3]=(65535&65535*this.y3)<<16|65535&65535*this.x3},e}();t.default=i},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(2),l=r(6),u=r(1),p=r(5),c=n(p),h=r(15),f=n(h),g=r(36),m=n(g),_=r(10),y=n(_),x=new l.Matrix,b=function(e){function t(r,n,i,s){a(this,t);var p=o(this,e.call(this));return(0,d.sayHello)(r),'number'==typeof n&&(n=Object.assign({width:n,height:i||c.default.RENDER_OPTIONS.height},s)),n=Object.assign({},c.default.RENDER_OPTIONS,n),p.options=n,p.type=u.RENDERER_TYPE.UNKNOWN,p.screen=new l.Rectangle(0,0,n.width,n.height),p.view=n.view||document.createElement('canvas'),p.resolution=n.resolution||c.default.RESOLUTION,p.transparent=n.transparent,p.autoResize=n.autoResize||!1,p.blendModes=null,p.preserveDrawingBuffer=n.preserveDrawingBuffer,p.clearBeforeRender=n.clearBeforeRender,p.roundPixels=n.roundPixels,p._backgroundColor=0,p._backgroundColorRgba=[0,0,0,0],p._backgroundColorString='#000000',p.backgroundColor=n.backgroundColor||p._backgroundColor,p._tempDisplayObjectParent=new f.default,p._lastObjectRendered=p._tempDisplayObjectParent,p}return i(t,e),t.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoResize&&(this.view.style.width=e+'px',this.view.style.height=t+'px')},t.prototype.generateTexture=function(e,t,r){var n=e.getLocalBounds(),a=m.default.create(0|n.width,0|n.height,t,r);return x.tx=-n.x,x.ty=-n.y,this.render(e,a,!1,x,!0),a},t.prototype.destroy=function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=u.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},s(t,[{key:'width',get:function(){return this.view.width}},{key:'height',get:function(){return this.view.height}},{key:'backgroundColor',get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,d.hex2string)(e),(0,d.hex2rgb)(e,this._backgroundColorRgba)}}]),t}(y.default);t.default=b},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(13),d=n(s),l=r(5),u=n(l),p=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,i=arguments[2],s=arguments[3];a(this,t);var d=o(this,e.call(this,null,i));return d.resolution=s||u.default.RESOLUTION,d.width=r,d.height=n,d.realWidth=d.width*d.resolution,d.realHeight=d.height*d.resolution,d.scaleMode=void 0===i?u.default.SCALE_MODE:i,d.hasLoaded=!0,d._glRenderTargets={},d._canvasRenderTarget=null,d.valid=!1,d}return i(t,e),t.prototype.resize=function(e,t){(e!==this.width||t!==this.height)&&(this.valid=0<e&&0<t,this.width=e,this.height=t,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit('update',this))},t.prototype.destroy=function(){e.prototype.destroy.call(this,!0),this.renderer=null},t}(d.default);t.default=p},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(5),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t,r,a){n(this,e),this.canvas=document.createElement('canvas'),this.context=this.canvas.getContext('2d'),this.resolution=a||i.default.RESOLUTION,this.resize(t,r)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},a(e,[{key:'width',get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:'height',get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}]),e}();t.default=s},function(e,t){'use strict';function r(e){var t=document.createElement('canvas');t.width=6,t.height=1;var r=t.getContext('2d');return r.fillStyle=e,r.fillRect(0,0,6,1),t}t.__esModule=!0,t.default=function(){if('undefined'==typeof document)return!1;var e=r('#ff00ff'),t=r('#ffff00'),n=document.createElement('canvas');n.width=6,n.height=1;var a=n.getContext('2d');a.globalCompositeOperation='multiply',a.drawImage(e,0,0),a.drawImage(t,2,0);var o=a.getImageData(2,0,1,1);if(!o)return!1;var i=o.data;return 255===i[0]&&0===i[1]&&0===i[2]}},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(65),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=r(6),l=r(8),u=function(e){function t(r){n(this,t);var o=new d.Matrix,i=a(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n','varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n'));return r.renderable=!1,i.maskSprite=r,i.maskMatrix=o,i}return o(t,e),t.prototype.apply=function(e,t,r){var n=this.maskSprite;this.uniforms.mask=n._texture,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n),this.uniforms.alpha=n.worldAlpha,e.applyFilter(this,t,r)},t}(s.default);t.default=u},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(133),s=n(i),d=r(2),l=r(1),u=r(5),p=n(u),c={},h=function(){function e(t,r,n){for(var o in a(this,e),this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this._blendMode=l.BLEND_MODES.NORMAL,this.uniformData=n||(0,s.default)(this.vertexSrc,this.fragmentSrc,'projectionMatrix|uSampler'),this.uniforms={},this.uniformData)this.uniforms[o]=this.uniformData[o].value,this.uniformData[o].type&&(this.uniformData[o].type=this.uniformData[o].type.toLowerCase());this.glShaders={},c[this.vertexSrc+this.fragmentSrc]||(c[this.vertexSrc+this.fragmentSrc]=(0,d.uid)()),this.glShaderKey=c[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=p.default.RESOLUTION,this.enabled=!0,this.autoFit=!0}return e.prototype.apply=function(e,t,r,n){e.applyFilter(this,t,r,n)},o(e,[{key:'blendMode',get:function(){return this._blendMode},set:function(e){this._blendMode=e}}],[{key:'defaultVertexSrc',get:function(){return'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}'}},{key:'defaultFragmentSrc',get:function(){return'varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}'}}]),e}();t.default=h},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=r(7),s=n(o),i=r(38),d=n(i),l=function(){function e(t,r){a(this,e),this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;4>n;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,d.default)(1),this.vertexBuffer=s.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new s.default.VertexArrayObject(t,r)}return e.prototype.initVao=function(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},e.prototype.map=function(e,t){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+t.width/e.width,this.uvs[3]=n,this.uvs[4]=r+t.width/e.width,this.uvs[5]=n+t.height/e.height,this.uvs[6]=r,this.uvs[7]=n+t.height/e.height,r=t.x,n=t.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+t.width,this.vertices[3]=n,this.vertices[4]=r+t.width,this.vertices[5]=n+t.height,this.vertices[6]=r,this.vertices[7]=n+t.height,this},e.prototype.upload=function(){for(var e=0;4>e;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this},e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)},e}();t.default=l},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e){return'number'==typeof e?(0,l.hex2string)(e):('string'==typeof e&&0===e.indexOf('0x')&&(e=e.replace('0x','#')),e)}function o(e){if(!Array.isArray(e))return a(e);for(var t=0;t<e.length;++t)e[t]=a(e[t]);return e}function i(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(1),l=r(2),u={align:'left',breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:'black',dropShadowDistance:5,fill:'black',fillGradientType:d.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:'Arial',fontSize:26,fontStyle:'normal',fontVariant:'normal',fontWeight:'normal',letterSpacing:0,lineHeight:0,lineJoin:'miter',miterLimit:10,padding:0,stroke:'black',strokeThickness:0,textBaseline:'alphabetic',trim:!1,wordWrap:!1,wordWrapWidth:100,leading:0},p=function(){function e(t){n(this,e),this.styleID=0,Object.assign(this,u,t)}return e.prototype.clone=function(){var t={};for(var r in u)t[r]=this[r];return new e(t)},e.prototype.reset=function(){Object.assign(this,u)},e.prototype.toFontString=function(){var e='number'==typeof this.fontSize?this.fontSize+'px':this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(','));for(var r=t.length-1,n;0<=r;r--)n=t[r].trim(),/([\"\'])[^\'\"]+\1/.test(n)||(n='"'+n+'"'),t[r]=n;return this.fontStyle+' '+this.fontVariant+' '+this.fontWeight+' '+e+' '+t.join(',')},s(e,[{key:'align',get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:'breakWords',get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:'dropShadow',get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:'dropShadowAlpha',get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:'dropShadowAngle',get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:'dropShadowBlur',get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:'dropShadowColor',get:function(){return this._dropShadowColor},set:function(e){var t=o(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:'dropShadowDistance',get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:'fill',get:function(){return this._fill},set:function(e){var t=o(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:'fillGradientType',get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:'fillGradientStops',get:function(){return this._fillGradientStops},set:function(e){i(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}},{key:'fontFamily',get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:'fontSize',get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:'fontStyle',get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:'fontVariant',get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:'fontWeight',get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:'letterSpacing',get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:'lineHeight',get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:'leading',get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:'lineJoin',get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:'miterLimit',get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:'padding',get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:'stroke',get:function(){return this._stroke},set:function(e){var t=o(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:'strokeThickness',get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:'textBaseline',get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:'trim',get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:'wordWrap',get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:'wordWrapWidth',get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),e}();t.default=p},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=Math.ceil,a=Math.max;t.__esModule=!0;var o=function(){function e(t,n,a,o,i,s,d,l,u){r(this,e),this.text=t,this.style=n,this.width=a,this.height=o,this.lines=i,this.lineWidths=s,this.lineHeight=d,this.maxLineWidth=l,this.fontProperties=u}return e.measureText=function(t,r,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e._canvas;n=n||r.wordWrap;var s=r.toFontString(),d=e.measureFont(s),l=o.getContext('2d');l.font=s;for(var u=n?e.wordWrap(t,r,o):t,p=u.split(/(?:\r\n|\r|\n)/),c=Array(p.length),h=0,f=0,i;f<p.length;f++)i=l.measureText(p[f]).width+(p[f].length-1)*r.letterSpacing,c[f]=i,h=a(h,i);var g=h+r.strokeThickness;r.dropShadow&&(g+=r.dropShadowDistance);var m=r.lineHeight||d.fontSize+r.strokeThickness,_=a(m,d.fontSize+r.strokeThickness)+(p.length-1)*(m+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new e(t,r,g,_,p,c,m+r.leading,h,d)},e.wordWrap=function(t,r){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e._canvas,a=n.getContext('2d'),o='',s=t.split('\n'),d=r.wordWrapWidth,l={},u=0;u<s.length;u++){for(var i=d,p=s[u].split(' '),h=0,f;h<p.length;h++)if(f=a.measureText(p[h]).width,r.breakWords&&f>d)for(var g=p[h].split(''),m=0;m<g.length;m++){var c=g[m],_=l[c];void 0===_&&(_=a.measureText(c).width,l[c]=_),_>i?(o+='\n'+c,i=d-_):(0===m&&(o+=' '),o+=c,i-=_)}else{var y=f+a.measureText(' ').width;0===h||y>i?(0<h&&(o+='\n'),o+=p[h],i=d-f):(i-=y,o+=' '+p[h])}u<s.length-1&&(o+='\n')}return o},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={},a=e._canvas,o=e._context;o.font=t;var s=n(o.measureText('|M\xC9q').width),d=n(o.measureText('M').width),l=2*d;d=0|1.4*d,a.width=s,a.height=l,o.fillStyle='#f00',o.fillRect(0,0,s,l),o.font=t,o.textBaseline='alphabetic',o.fillStyle='#000',o.fillText('|M\xC9q',0,d);var u=o.getImageData(0,0,s,l).data,p=u.length,c=4*s,h=0,i=0,f=!1;for(h=0;h<d;++h){for(var g=0;g<c;g+=4)if(255!==u[i+g]){f=!0;break}if(!f)i+=c;else break}for(r.ascent=d-h,i=p-c,f=!1,h=l;h>d;--h){for(var m=0;m<c;m+=4)if(255!==u[i+m]){f=!0;break}if(!f)i-=c;else break}return r.descent=h-d,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e}();t.default=o;var i=document.createElement('canvas');i.width=i.height=10,o._canvas=i,o._context=i.getContext('2d'),o._fonts={}},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(t,n,a,o,i,s,d,l){r(this,e),this.lineWidth=t,this.nativeLines=d,this.lineColor=n,this.lineAlpha=a,this._lineTint=n,this.fillColor=o,this.fillAlpha=i,this._fillTint=o,this.fill=s,this.holes=[],this.shape=l,this.type=l.type}return e.prototype.clone=function(){return new e(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},e.prototype.addHole=function(e){this.holes.push(e)},e.prototype.destroy=function(){this.shape=null,this.holes=null},e}();t.default=n},function(e){'use strict';function t(e,t,n){n=n||2;var a=t&&t.length,s=a?t[0]*n:e.length,d=r(e,0,s,n,!0),u=[];if(!d)return u;var p,c,h,f,g,m,_;if(a&&(d=l(e,t,d,n)),e.length>80*n){p=h=e[0],c=f=e[1];for(var y=n;y<s;y+=n)g=e[y],m=e[y+1],g<p&&(p=g),m<c&&(c=m),g>h&&(h=g),m>f&&(f=m);_=Math.max(h-p,f-c)}return o(d,u,n,p,c,_),u}function r(e,t,r,n,a){var o,i;if(a===0<P(e,t,r,n))for(o=t;o<r;o+=n)i=b(o,e[o],e[o+1],i);else for(o=r-n;o>=t;o-=n)i=b(o,e[o],e[o+1],i);return i&&T(i,i.next)&&(I(i),i=i.next),i}function n(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(T(r,r.next)||0===x(r.prev,r,r.next))){if(I(r),r=t=r.prev,r===r.next)return null;n=!0}else r=r.next;while(n||r!==t);return t}function o(e,t,r,l,u,p,c){if(e){!c&&p&&h(e,l,u,p);for(var f=e,g,m;e.prev!==e.next;){if(g=e.prev,m=e.next,p?i(e,l,u,p):a(e)){t.push(g.i/r),t.push(e.i/r),t.push(m.i/r),I(e),e=m.next,f=m.next;continue}if(e=m,e===f){c?1===c?(e=s(e,t,r),o(e,t,r,l,u,p,2)):2===c&&d(e,t,r,l,u,p):o(n(e),t,r,l,u,p,1);break}}}}function a(e){var t=e.prev,r=e,n=e.next;if(0<=x(t,r,n))return!1;for(var a=e.next.next;a!==e.prev;){if(_(t.x,t.y,r.x,r.y,n.x,n.y,a.x,a.y)&&0<=x(a.prev,a,a.next))return!1;a=a.next}return!0}function i(e,t,r,n){var o=e.prev,a=e,i=e.next;if(0<=x(o,a,i))return!1;for(var s=o.x<a.x?o.x<i.x?o.x:i.x:a.x<i.x?a.x:i.x,d=o.y<a.y?o.y<i.y?o.y:i.y:a.y<i.y?a.y:i.y,l=o.x>a.x?o.x>i.x?o.x:i.x:a.x>i.x?a.x:i.x,u=o.y>a.y?o.y>i.y?o.y:i.y:a.y>i.y?a.y:i.y,c=g(s,d,t,r,n),h=g(l,u,t,r,n),f=e.nextZ;f&&f.z<=h;){if(f!==e.prev&&f!==e.next&&_(o.x,o.y,a.x,a.y,i.x,i.y,f.x,f.y)&&0<=x(f.prev,f,f.next))return!1;f=f.nextZ}for(f=e.prevZ;f&&f.z>=c;){if(f!==e.prev&&f!==e.next&&_(o.x,o.y,a.x,a.y,i.x,i.y,f.x,f.y)&&0<=x(f.prev,f,f.next))return!1;f=f.prevZ}return!0}function s(e,t,r){var n=e;do{var o=n.prev,a=n.next.next;!T(o,a)&&v(o,n,n.next,a)&&E(o,a)&&E(a,o)&&(t.push(o.i/r),t.push(n.i/r),t.push(a.i/r),I(n),I(n.next),n=e=a),n=n.next}while(n!==e);return n}function d(e,t,r,i,s,d){var l=e;do{for(var a=l.next.next;a!==l.prev;){if(l.i!==a.i&&y(l,a)){var u=A(l,a);return l=n(l,l.next),u=n(u,u.next),o(l,t,r,i,s,d),void o(u,t,r,i,s,d)}a=a.next}l=l.next}while(l!==e)}function l(e,t,a,o){var s=[],d,i,l,c,h;for(d=0,i=t.length;d<i;d++)l=t[d]*o,c=d<i-1?t[d+1]*o:e.length,h=r(e,l,c,o,!1),h===h.next&&(h.steiner=!0),s.push(m(h));for(s.sort(u),d=0;d<s.length;d++)p(s[d],a),a=n(a,a.next);return a}function u(e,t){return e.x-t.x}function p(e,t){if(t=c(e,t),t){var r=A(t,e);n(r,r.next)}}function c(e,t){var r=t,n=e.x,a=e.y,o=-Infinity,i;do{if(a<=r.y&&a>=r.next.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(a===r.y)return r;if(a===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!i)return null;if(n===o)return i.prev;var d=i,l=i.x,u=i.y,p=Infinity,c;for(r=i.next;r!==d;)n>=r.x&&r.x>=l&&_(a<u?n:o,a,l,u,a<u?o:n,a,r.x,r.y)&&(c=C(a-r.y)/(n-r.x),(c<p||c===p&&r.x>i.x)&&E(r,e)&&(i=r,p=c)),r=r.next;return i}function h(e,t,r,n){var a=e;do null===a.z&&(a.z=g(a.x,a.y,t,r,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,f(a)}function f(t){var r=1,n,a,o,i,e,s,d,l;do{for(a=t,t=null,e=null,s=0;a;){for(s++,o=a,d=0,n=0;n<r&&(d++,o=o.nextZ,!!o);n++);for(l=r;0<d||0<l&&o;)0===d?(i=o,o=o.nextZ,l--):0!==l&&o?a.z<=o.z?(i=a,a=a.nextZ,d--):(i=o,o=o.nextZ,l--):(i=a,a=a.nextZ,d--),e?e.nextZ=i:t=i,i.prevZ=e,e=i;a=o}e.nextZ=null,r*=2}while(1<s);return t}function g(e,t,r,n,a){return e=32767*(e-r)/a,t=32767*(t-n)/a,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function m(e){var t=e,r=e;do t.x<r.x&&(r=t),t=t.next;while(t!==e);return r}function _(e,t,r,n,a,o,i,s){return 0<=(a-i)*(t-s)-(e-i)*(o-s)&&0<=(e-i)*(n-s)-(r-i)*(t-s)&&0<=(r-i)*(o-s)-(a-i)*(n-s)}function y(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!S(e,t)&&E(e,t)&&E(t,e)&&R(e,t)}function x(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function T(e,t){return e.x===t.x&&e.y===t.y}function v(e,t,r,n){return T(e,t)&&T(r,n)||T(e,n)&&T(r,t)||0<x(e,t,r)!=0<x(e,t,n)&&0<x(r,n,e)!=0<x(r,n,t)}function S(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&v(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function E(e,t){return 0>x(e.prev,e,e.next)?0<=x(e,t,e.next)&&0<=x(e,e.prev,t):0>x(e,t,e.prev)||0>x(e,e.next,t)}function R(e,t){var r=e,n=!1,a=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&a<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function A(e,t){var r=new D(e.i,e.x,e.y),n=new D(t.i,t.x,t.y),a=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=a,a.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function b(e,t,r,n){var a=new D(e,t,r);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function I(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function D(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(e,t,r,n){for(var a=0,o=t,i=r-n;o<r;o+=n)a+=(e[i]-e[o])*(e[o+1]+e[i+1]),i=o;return a}var C=Math.abs;e.exports=t,t.deviation=function(e,t,r,n){var o=t&&t.length,s=o?t[0]*r:e.length,d=C(P(e,0,s,r));if(o)for(var l=0,i=t.length;l<i;l++){var u=t[l]*r,p=l<i-1?t[l+1]*r:e.length;d-=C(P(e,u,p,r))}var h=0;for(l=0;l<n.length;l+=3){var f=n[l]*r,a=n[l+1]*r,g=n[l+2]*r;h+=C((e[f]-e[g])*(e[a+1]-e[f+1])-(e[f]-e[a])*(e[g+1]-e[f+1]))}return 0===d&&0===h?0:C((h-d)/d)},t.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,a=0;a<e.length;a++){for(var o=0;o<e[a].length;o++)for(var i=0;i<t;i++)r.vertices.push(e[a][o][i]);0<a&&(n+=e[a-1].length,r.holes.push(n))}return r}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(72),s=r(15),d=n(s),l=r(35),u=r(5),p=n(u),c=r(1),h=function(){function e(t,r,n,o,s){a(this,e),'number'==typeof t&&(t=Object.assign({width:t,height:r||p.default.RENDER_OPTIONS.height,forceCanvas:!!o,sharedTicker:!!s},n)),this._options=t=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},t),this.renderer=(0,i.autoDetectRenderer)(t),this.stage=new d.default,this._ticker=null,this.ticker=t.sharedTicker?l.shared:new l.Ticker,t.autoStart&&this.start()}return e.prototype.render=function(){this.renderer.render(this.stage)},e.prototype.stop=function(){this._ticker.stop()},e.prototype.start=function(){this._ticker.start()},e.prototype.destroy=function(e){var t=this._ticker;this.ticker=null,t.destroy(),this.stage.destroy(),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null},o(e,[{key:'ticker',set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,c.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:'view',get:function(){return this.renderer.view}},{key:'screen',get:function(){return this.renderer.screen}}]),e}();t.default=h},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.autoDetectRenderer=function(e,t,r,n){var a=e&&e.forceCanvas;return void 0!==n&&(a=n),!a&&o.isWebGLSupported()?new l.default(e,t,r):new s.default(e,t,r)};var a=r(2),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),i=r(16),s=n(i),d=r(22),l=n(d)},function(e,t){'use strict';t.__esModule=!0,t.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.BitmapText=t.TilingSpriteRenderer=t.TilingSprite=t.TextureTransform=t.AnimatedSprite=void 0;var a=r(166);Object.defineProperty(t,'AnimatedSprite',{enumerable:!0,get:function(){return n(a).default}});var o=r(39);Object.defineProperty(t,'TextureTransform',{enumerable:!0,get:function(){return n(o).default}});var i=r(167);Object.defineProperty(t,'TilingSprite',{enumerable:!0,get:function(){return n(i).default}});var s=r(168);Object.defineProperty(t,'TilingSpriteRenderer',{enumerable:!0,get:function(){return n(s).default}});var d=r(169);Object.defineProperty(t,'BitmapText',{enumerable:!0,get:function(){return n(d).default}}),r(170),r(171),r(172)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),u=r(76),p=n(u),c=r(77),h=n(c),f=r(78),g=n(f),m=function(e){function t(r,n,i,s){a(this,t),s=s||5;var d=(0,p.default)(s,!0),u=(0,h.default)(s),c=o(this,e.call(this,d,u));return c.resolution=i||l.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return i(t,e),t.prototype.apply=function(e,t,r,n){if(this.firstRun){var a=e.renderer.gl,o=(0,g.default)(a);this.vertexSrc=(0,p.default)(o,!0),this.fragmentSrc=(0,h.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/t.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,n);else{for(var s=e.getRenderTarget(!0),d=t,l=s,u=0;u<this.passes-1;u++){e.applyFilter(this,d,l,!0);var i=l;l=d,d=i}e.applyFilter(this,d,r,n),e.returnRenderTarget(s)}},s(t,[{key:'blur',get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:'quality',get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(l.Filter);t.default=m},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t){var n=Math.ceil(e/2),a=r,o='',s;s=t?'vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);':'vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);';for(var d=0,i;d<e;d++)i=s.replace('%index%',d),i=i.replace('%sampleIndex%',d-(n-1)+'.0'),o+=i,o+='\n';return a=a.replace('%blur%',o),a=a.replace('%size%',e),a};var r='attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}'},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){for(var t=r[e],a=t.length,o=n,s='',d=void 0,l=0,i;l<e;l++)i='gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;'.replace('%index%',l),d=l,l>=a&&(d=e-l-1),i=i.replace('%value%',t[d]),s+=i,s+='\n';return o=o.replace('%blur%',s),o=o.replace('%size%',e),o};var r={5:[0.153388,0.221461,0.250301],7:[0.071303,0.131514,0.189879,0.214607],9:[0.028532,0.067234,0.124009,0.179044,0.20236],11:[0.0093,0.028002,0.065984,0.121703,0.175713,0.198596],13:[0.002406,0.009255,0.027867,0.065666,0.121117,0.174868,0.197641],15:[0.000489,0.002403,0.009246,0.02784,0.065602,0.120999,0.174697,0.197448]},n='varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}'},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){for(var t=e.getParameter(e.MAX_VARYING_VECTORS),r=15;r>t;)r-=2;return r}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),u=r(76),p=n(u),c=r(77),h=n(c),f=r(78),g=n(f),m=function(e){function t(r,n,i,s){a(this,t),s=s||5;var d=(0,p.default)(s,!1),u=(0,h.default)(s),c=o(this,e.call(this,d,u));return c.resolution=i||l.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return i(t,e),t.prototype.apply=function(e,t,r,n){if(this.firstRun){var a=e.renderer.gl,o=(0,g.default)(a);this.vertexSrc=(0,p.default)(o,!1),this.fragmentSrc=(0,h.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/t.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,n);else{for(var s=e.getRenderTarget(!0),d=t,l=s,u=0;u<this.passes-1;u++){e.applyFilter(this,d,l,!0);var i=l;l=d,d=i}e.applyFilter(this,d,r,n),e.returnRenderTarget(s)}},s(t,[{key:'blur',get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:'quality',get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(l.Filter);t.default=m},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),s=function(){function e(){n(this,e),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return e.prototype.getLocalPosition=function(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)},e.prototype._copyEvent=function(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=e.buttons,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0},e.prototype._reset=function(){this.isPrimary=!1},a(e,[{key:'pointerId',get:function(){return this.identifier}}]),e}();t.default=s},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(){r(this,e),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0},e.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},e}();t.default=n},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t){r(this,e),this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){t?this._flags|=e:this._flags&=~e},n(e,[{key:'pointerId',get:function(){return this._pointerId}},{key:'flags',get:function(){return this._flags},set:function(e){this._flags=e}},{key:'none',get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:'over',get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:'rightDown',get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:'leftDown',get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]),e}();t.default=a,a.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(e,t){'use strict';t.__esModule=!0,t.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return'pointer'===this.cursor},set buttonMode(e){e?this.cursor='pointer':'pointer'===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(e,t,r){'use strict';function n(e,t){e.bitmapFont=d.BitmapText.registerFont(e.data,t)}t.__esModule=!0,t.parse=n,t.default=function(){return function(e,t){if(!e.data||e.type!==s.Resource.TYPE.XML)return void t();if(0===e.data.getElementsByTagName('page').length||0===e.data.getElementsByTagName('info').length||null===e.data.getElementsByTagName('info')[0].getAttribute('face'))return void t();var r=e.isDataUrl?'':o.dirname(e.url);e.isDataUrl&&('.'===r&&(r=''),this.baseUrl&&r&&'/'===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+='/')),r=r.replace(this.baseUrl,''),r&&'/'!==r.charAt(r.length-1)&&(r+='/');var a=r+e.data.getElementsByTagName('page')[0].getAttribute('file');if(i.utils.TextureCache[a])n(e,i.utils.TextureCache[a]),t();else{var d={crossOrigin:e.crossOrigin,loadType:s.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata,parentResource:e};this.add(e.name+'_image',a,d,function(r){n(e,r.texture),t()})}}};var a=r(8),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),i=r(0),s=r(19),d=r(74)},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,n,a){void 0===n&&(n=!1),r(this,e),this._fn=t,this._once=n,this._thisArg=a,this._next=this._prev=this._owner=null}return a(e,[{key:'detach',value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}(),i=function(){function e(){r(this,e),this._head=this._tail=void 0}return a(e,[{key:'handlers',value:function(){var e=0>=arguments.length||void 0===arguments[0]?!1:arguments[0],t=this._head;if(e)return!!t;for(var r=[];t;)r.push(t),t=t._next;return r}},{key:'has',value:function(e){if(!(e instanceof o))throw new Error('MiniSignal#has(): First arg must be a MiniSignalBinding object.');return e._owner===this}},{key:'dispatch',value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:'add',value:function(e){var t=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if('function'!=typeof e)throw new Error('MiniSignal#add(): First arg must be a Function.');return n(this,new o(e,!1,t))}},{key:'once',value:function(e){var t=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if('function'!=typeof e)throw new Error('MiniSignal#once(): First arg must be a Function.');return n(this,new o(e,!0,t))}},{key:'detach',value:function(e){if(!(e instanceof o))throw new Error('MiniSignal#detach(): First arg must be a MiniSignalBinding object.');return e._owner===this?(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this):this}},{key:'detachAll',value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();i.MiniSignalBinding=o,t['default']=i,e.exports=t['default']},function(e){'use strict';e.exports=function(e,t){t=t||{};for(var r={key:['source','protocol','authority','userInfo','user','password','host','port','relative','path','directory','file','query','anchor'],q:{name:'queryKey',parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?'strict':'loose'].exec(e),a={},o=14;o--;)a[r.key[o]]=n[o]||'';return a[r.q.name]={},a[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(a[r.q.name][t]=n)}),a}},function(e,t){'use strict';function r(){}function n(e){return function(){if(null===e)throw new Error('Callback was already called.');var t=e;e=null,t.apply(this,arguments)}}t.__esModule=!0,t.eachSeries=function(e,t,r,n){var a=0,o=e.length;(function i(s){return s||a===o?void(r&&r(s)):void(n?setTimeout(function(){t(e[a++],i)},1):t(e[a++],i))})()},t.queue=function(e,t){function a(e,t,n){if(null!=n&&'function'!=typeof n)throw new Error('task callback must be a function');if(s.started=!0,null==e&&s.idle())return void setTimeout(function(){return s.drain()},1);var a={data:e,callback:'function'==typeof n?n:r};t?s._tasks.unshift(a):s._tasks.push(a),setTimeout(function(){return s.process()},1)}function o(e){return function(){i-=1,e.callback.apply(e,arguments),null!=arguments[0]&&s.error(arguments[0],e.data),i<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}if(null==t)t=1;else if(0===t)throw new Error('Concurrency must not be zero');var i=0,s={_tasks:[],concurrency:t,saturated:r,unsaturated:r,buffer:t/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(e,t){a(e,!1,t)},kill:function(){i=0,s.drain=r,s.started=!1,s._tasks=[]},unshift:function(e,t){a(e,!0,t)},process:function(){for(;!s.paused&&i<s.concurrency&&s._tasks.length;){var t=s._tasks.shift();0===s._tasks.length&&s.empty(),i+=1,i===s.concurrency&&s.saturated(),e(t.data,n(o(t)))}},length:function(){return s._tasks.length},running:function(){return i},idle:function(){return 0===s._tasks.length+i},pause:function(){!0===s.paused||(s.paused=!0)},resume:function(){if(!1!==s.paused){s.paused=!1;for(var e=1;e<=s.concurrency;e++)s.process()}}};return s}},function(e,t){'use strict';t.__esModule=!0,t.encodeBinary=function(e){for(var t='',n=0;n<e.length;){for(var a=[0,0,0],o=[0,0,0,0],i=0;i<a.length;++i)a[i]=n<e.length?255&e.charCodeAt(n++):0;o[0]=a[0]>>2,o[1]=(3&a[0])<<4|a[1]>>4,o[2]=(15&a[1])<<2|a[2]>>6,o[3]=63&a[2];var s=n-(e.length-1);switch(s){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64;break;default:}for(var d=0;d<o.length;++d)t+=r.charAt(o[d])}return t};var r='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='},function(e,t,r){'use strict';function n(e,t){return e.isDataUrl?e.data.meta.image:i.default.resolve(e.url.replace(t,''),e.data.meta.image)}t.__esModule=!0,t.default=function(){return function(e,t){var r=e.name+'_image';if(!e.data||e.type!==a.Resource.TYPE.JSON||!e.data.frames||this.resources[r])return void t();var o={crossOrigin:e.crossOrigin,loadType:a.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata,parentResource:e},i=n(e,this.baseUrl);this.add(r,i,o,function(r){var n=new s.Spritesheet(r.texture.baseTexture,e.data,e.url);n.parse(function(){e.spritesheet=n,e.textures=n.textures,t()})})}},t.getResourcePath=n;var a=r(19),o=r(56),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=r(0)},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(){return function(e,t){e.data&&e.type===n.Resource.TYPE.IMAGE&&(e.texture=o.default.fromLoader(e.data,e.url,e.name)),t()}};var n=r(19),a=r(11),o=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(20),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(r,o,i){n(this,t);var d=a(this,e.call(this,r));return d._ready=!0,d.verticesX=o||10,d.verticesY=i||10,d.drawMode=s.default.DRAW_MODES.TRIANGLES,d.refresh(),d}return o(t,e),t.prototype._refresh=function(){for(var e=this._texture,t=this.verticesX*this.verticesY,r=[],n=[],a=[],o=[],s=this.verticesX-1,d=this.verticesY-1,l=e.width/s,u=e.height/d,p=0;p<t;p++){var i=p%this.verticesX,c=0|p/this.verticesX;r.push(i*l,c*u),a.push(i/s,c/d)}for(var h=0;h<s*d;h++){var f=h%s,g=0|h/s,m=g*this.verticesX+f,_=g*this.verticesX+f+1,y=(g+1)*this.verticesX+f,x=(g+1)*this.verticesX+f+1;o.push(m,_,y),o.push(_,x,y)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(a),this.colors=new Float32Array(n),this.indices=new Uint16Array(o),this.indexDirty++,this.multiplyUvs()},t.prototype._onTextureUpdate=function(){s.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},t}(s.default);t.default=d},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(t){r(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},e}();t.default=n},function(e,t,r){'use strict';function n(e,t,r){function o(){g===f&&(g=f.slice())}function d(){return h}function l(e){if('function'!=typeof e)throw new Error('Expected listener to be a function.');var t=!0;return o(),g.push(e),function(){if(t){t=!1,o();var r=g.indexOf(e);g.splice(r,1)}}}function u(e){if(!Object(a.a)(e))throw new Error('Actions must be plain objects. Use custom middleware for async actions.');if('undefined'==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error('Reducers may not dispatch actions.');try{m=!0,h=c(h,e)}finally{m=!1}for(var t=f=g,r=0,n;r<t.length;r++)n=t[r],n();return e}var p;if('function'==typeof t&&'undefined'==typeof r&&(r=t,t=void 0),'undefined'!=typeof r){if('function'!=typeof r)throw new Error('Expected the enhancer to be a function.');return r(n)(e,t)}if('function'!=typeof e)throw new Error('Expected the reducer to be a function.');var c=e,h=t,f=[],g=f,m=!1;return u({type:s.INIT}),p={dispatch:u,subscribe:l,getState:d,replaceReducer:function(e){if('function'!=typeof e)throw new Error('Expected the nextReducer to be a function.');c=e,u({type:s.INIT})}},p[i.a]=function(){var e=l,t;return t={subscribe:function(t){function r(){t.next&&t.next(d())}if('object'!=typeof t)throw new TypeError('Expected the observer to be an object.');r();var n=e(r);return{unsubscribe:n}}},t[i.a]=function(){return this},t},p}r.d(t,'a',function(){return s}),t.b=n;var a=r(94),o=r(210),i=r.n(o),s={INIT:'@@redux/INIT'}},function(e,t,r){'use strict';var n=r(202),a=r(207),o=r(209),i=Function.prototype,s=Object.prototype,d=i.toString,l=s.hasOwnProperty,u=d.call(Object);t.a=function(e){if(!Object(o.a)(e)||Object(n.a)(e)!='[object Object]')return!1;var t=Object(a.a)(e);if(null===t)return!0;var r=l.call(t,'constructor')&&t.constructor;return'function'==typeof r&&r instanceof r&&d.call(r)==u}},function(e,t,r){'use strict';var n=r(203),a=n.a.Symbol;t.a=a},function(){'use strict'},function(e,t){'use strict';t.a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}},function(e,t,r){'use strict';t.a=function(e='',t=!1,r='',a=0,i=0,s=0){let d={};return t?'unitLabel'===r?(d=new n.Text(e,{fontFamily:'Courier',fontSize:'12pt',fontWeight:'bold',fill:o.a.RED}),d.anchor.set(0.5,0.5),d.x=a+20*s/2,d.y=i+10):'ALULabel'===r?(d=new n.Text('ALU',{fontFamily:'Courier',fontSize:'12pt',fontWeight:'bold',fill:o.a.RED}),d.anchor.set(0.5,0.5),d.x=370,d.y=275):'unitValue'===r?(d=new n.Text(e,{fontFamily:'Courier',fontSize:'12pt',letterSpacing:10,fontWeight:'bold',fill:o.a.RED}),d.anchor.set(1,0.5),d.x=a+20*s-5,d.y=i+20+10):'upperButtonLabel'===r?(d=new n.Text(e,{fontFamily:'Courier',fontSize:'12pt',fill:o.a.WHITE}),d.anchor.set(0.5,0.5),d.x=a+20,d.y=i+10):'lowerButtonLabel'===r?(d=new n.Text(e,{fontFamily:'Arial',fontSize:'11pt',fontWeight:'bold',fill:o.a.WHITE}),d.anchor.set(0.5,0.5),d.x=a+30,d.y=i+10):'cuStep'===r?(d=new n.Text(e,{fontFamily:'Courier',fontSize:'11pt',fill:o.a.WHITE}),d.anchor.set(0,0.5),d.x=a+5,d.y=i+10):'bitWidthText'===r?(d=new n.Text(e,{fontFamily:'Courier',fontSize:'9pt',fill:o.a.RED}),d.x=a,d.y=i):void 0:'bottomDescription'===r?(d=new n.Text(e,{fontFamily:'Courier',fontSize:'10pt',wordWrap:!0,wordWrapWidth:750}),d.x=30,d.y=495):'unitLabel'===r?(d=new n.Text(e,{fontFamily:'Courier',fontSize:'12pt'}),d.anchor.set(0.5,0.5),d.x=a+20*s/2,d.y=i+10):'ALULabel'===r?(d=new n.Text('ALU',{fontFamily:'Courier',fontSize:'12pt'}),d.anchor.set(0.5,0.5),d.x=370,d.y=275):'unitValue'===r?(d=new n.Text(e,{fontFamily:'Courier',fontSize:'12pt',letterSpacing:10}),d.anchor.set(1,0.5),d.x=a+20*s-5,d.y=i+20+10):'upperButtonLabel'===r?(d=new n.Text(e,{fontFamily:'Courier',fontSize:'12pt'}),d.anchor.set(0.5,0.5),d.x=a+20,d.y=i+10):'lowerButtonLabel'===r?(d=new n.Text(e,{fontFamily:'Arial',fontSize:'11pt',fontWeight:'bold'}),d.anchor.set(0.5,0.5),d.x=a+30,d.y=i+10):'phaseLabel'===r?(d=new n.Text(e,{fontFamily:'Courier',fontSize:'12pt',fontWeight:'bold'}),d.anchor.set(0,0.5),d.x=a+5,d.y=i+10):'cuStep'===r?(d=new n.Text(e,{fontFamily:'Courier',fontSize:'11pt'}),d.anchor.set(0,0.5),d.x=a+5,d.y=i+10):'cuDescription'===r?(d=new n.Text(e,{fontFamily:'Arial',fontSize:'9pt',fontStyle:'italic'}),d.anchor.set(0,0.5),d.x=545,d.y=420):'bitWidthText'===r?(d=new n.Text(e,{fontFamily:'Courier',fontSize:'9pt'}),d.x=a,d.y=i):void 0,d};var n=r(3),a=r.n(n),o=r(4)},function(e,t,r){'use strict';r(100),r(102),r(103),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(e,t,r){'use strict';var n=r(101),a=function(e){return e&&e.__esModule?e:{default:e}}(n);Object.assign||(Object.assign=a.default)},function(e){'use strict';/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function t(e){if(null===e||e===void 0)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(e)}var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String('abc');if(e[5]='de','5'===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;10>r;r++)t['_'+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if('0123456789'!==n.join(''))return!1;var a={};return['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t'].forEach(function(e){a[e]=e}),'abcdefghijklmnopqrst'===Object.keys(Object.assign({},a)).join('')}catch(e){return!1}}()?Object.assign:function(e){for(var o=t(e),d=1,s,l;d<arguments.length;d++){for(var u in s=Object(arguments[d]),s)n.call(s,u)&&(o[u]=s[u]);if(r){l=r(s);for(var p=0;p<l.length;p++)a.call(s,l[p])&&(o[l[p]]=s[l[p]])}}return o}},function(e,t,r){'use strict';(function(e){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(e.performance&&e.performance.now)){var t=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t}}for(var r=Date.now(),n=['ms','moz','webkit','o'],a=0,o;a<n.length&&!e.requestAnimationFrame;++a)o=n[a],e.requestAnimationFrame=e[o+'RequestAnimationFrame'],e.cancelAnimationFrame=e[o+'CancelAnimationFrame']||e[o+'CancelRequestAnimationFrame'];e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if('function'!=typeof e)throw new TypeError(e+'is not a function');var t=Date.now(),n=16+r-t;return 0>n&&(n=0),r=t,setTimeout(function(){r=Date.now(),e(performance.now())},n)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){return clearTimeout(e)})}).call(t,r(14))},function(){'use strict';var e=Math.sign;e||(e=function(e){return e=+e,0===e||isNaN(e)?e:0<e?1:-1})},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(28),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=r(1),s=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;n(this,e),this.x=t,this.y=r,this.radius=a,this.type=i.SHAPES.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(0>=this.radius)return!1;var r=this.radius*this.radius,n=this.x-e,a=this.y-t;return n*=n,a*=a,n+a<=r},e.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}();t.default=s},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(28),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=r(1),s=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;n(this,e),this.x=t,this.y=r,this.width=a,this.height=o,this.type=i.SHAPES.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(0>=this.width||0>=this.height)return!1;var r=(e-this.x)/this.width,n=(t-this.y)/this.height;return r*=r,n*=n,1>=r+n},e.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},e}();t.default=s},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(26),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=r(1),i=function(){function e(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];if(n(this,e),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var d=[],l=0,i=r.length;l<i;l++)d.push(r[l].x,r[l].y);r=d}this.closed=!0,this.points=r,this.type=s.SHAPES.POLY}return e.prototype.clone=function(){return new e(this.points.slice())},e.prototype.close=function(){var e=this.points;(e[0]!==e[e.length-2]||e[1]!==e[e.length-1])&&e.push(e[0],e[1])},e.prototype.contains=function(e,t){for(var r=!1,n=this.points.length/2,a=0,o=n-1;a<n;o=a++){var i=this.points[2*a],s=this.points[2*a+1],d=this.points[2*o],l=this.points[2*o+1];s>t!=l>t&&e<(d-i)*((t-s)/(l-s))+i&&(r=!r)}return r},e}();t.default=i},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(1),o=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;n(this,e),this.x=t,this.y=r,this.width=o,this.height=i,this.radius=s,this.type=a.SHAPES.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(0>=this.width||0>=this.height)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var r=e-(this.x+this.radius),n=t-(this.y+this.radius),a=this.radius*this.radius;if(r*r+n*n<=a)return!0;if(r=e-(this.x+this.width-this.radius),r*r+n*n<=a)return!0;if(n=t-(this.y+this.height-this.radius),r*r+n*n<=a)return!0;if(r=e-(this.x+this.radius),r*r+n*n<=a)return!0}return!1},e}();t.default=o},function(e){e.exports=function(e,t){var r=e.getContext('webgl',t)||e.getContext('experimental-webgl',t);if(!r)throw new Error('This browser does not support webGL. Try using the canvas renderer');return r}},function(e){var t=new ArrayBuffer(0),r=function(e,r,n,a){this.gl=e,this.buffer=e.createBuffer(),this.type=r||e.ARRAY_BUFFER,this.drawType=a||e.STATIC_DRAW,this.data=t,n&&this.upload(n),this._updateID=0};r.prototype.upload=function(e,t,r){r||this.bind();var n=this.gl;e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?n.bufferSubData(this.type,t,e):n.bufferData(this.type,e,this.drawType),this.data=e},r.prototype.bind=function(){var e=this.gl;e.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(e,t,n){return new r(e,e.ARRAY_BUFFER,t,n)},r.createIndexBuffer=function(e,t,n){return new r(e,e.ELEMENT_ARRAY_BUFFER,t,n)},r.create=function(e,t,n,a){return new r(e,t,n,a)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=r},function(e,t,r){var n=r(45),a=function(e,t,r){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=r||100};a.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new n(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)},a.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}},a.prototype.clear=function(e,t,r,n){this.bind();var a=this.gl;a.clearColor(e,t,r,n),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},a.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},a.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},a.prototype.resize=function(e,t){var r=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,t))},a.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},a.createRGBA=function(e,t,r){var o=n.fromData(e,null,t,r);o.enableNearestScaling(),o.enableWrapClamp();var i=new a(e,t,r);return i.enableTexture(o),i.unbind(),i},a.createFloat32=function(e,t,r,o){var i=new n.fromData(e,o,t,r);i.enableNearestScaling(),i.enableWrapClamp();var s=new a(e,t,r);return s.enableTexture(i),s.unbind(),s},e.exports=a},function(e,t,r){var n=r(46),a=r(47),o=r(49),i=r(51),s=r(52),d=function(e,t,r,d,l){this.gl=e,d&&(t=i(t,d),r=i(r,d)),this.program=n(e,t,r,l),this.attributes=a(e,this.program),this.uniformData=o(e,this.program),this.uniforms=s(e,this.uniformData)};d.prototype.bind=function(){this.gl.useProgram(this.program)},d.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var e=this.gl;e.deleteProgram(this.program)},e.exports=d},function(e,t,r){function n(e,t){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension('OES_vertex_array_object')||e.getExtension('MOZ_OES_vertex_array_object')||e.getExtension('WEBKIT_OES_vertex_array_object')),this.nativeState=t,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:Array(r),attribState:Array(r)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var a=r(44);n.prototype.constructor=n,e.exports=n,n.FORCE_NATIVE=!1,n.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var e=this.gl,t=null,r=0,n;r<this.attributes.length;r++)n=this.attributes[r],t!==n.buffer&&(n.buffer.bind(),t=n.buffer),e.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||e.FLOAT,n.normalized||!1,n.stride||0,n.start||0);return a(e,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},n.prototype.addAttribute=function(e,t,r,n,a,o){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:a||0,start:o||0}),this.dirty=!0,this},n.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(e,t,r){var n=this.gl;return this.indexBuffer?n.drawElements(e,t||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(e,r,t||this.getSize()),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},n.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}},function(e,t,r){e.exports={compileProgram:r(46),defaultValue:r(50),extractAttributes:r(47),extractUniforms:r(49),generateUniformAccessObject:r(52),setPrecision:r(51),mapSize:r(48),mapType:r(29)}},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e){return a.default.tablet||a.default.phone?4:e};var n=r(31),a=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t){'use strict';t.__esModule=!0,t.default=function(){var e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!e}},function(e,t){'use strict';function r(e){e.__plugins={},e.registerPlugin=function(t,r){e.__plugins[t]=r},e.prototype.initPlugins=function(){for(var t in this.plugins=this.plugins||{},e.__plugins)this.plugins[t]=new e.__plugins[t](this)},e.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}t.__esModule=!0,t.default={mixin:function(e){r(e)}}},function(e,t){'use strict';function r(e,t){if(e&&t)for(var r=Object.keys(t),n=0,a;n<r.length;++n)a=r[n],Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}t.__esModule=!0,t.mixin=r,t.delayMixin=function(e,t){n.push(e,t)},t.performMixins=function(){for(var e=0;e<n.length;e+=2)r(n[e],n[e+1]);n.length=0};var n=[]},function(e){'use strict';e.exports=function(e,t,r){var n=e.length,a;if(!(t>=n||0===r)){r=t+r>n?n-t:r;var o=n-r;for(a=t;a<o;++a)e[a]=e[a+r];e.length=o}}},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(){for(var e=[],t=[],r=0;32>r;r++)e[r]=r,t[r]=r;e[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,e[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,e[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,t[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,t[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,t[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;return[t,e]};var n=r(1)},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:window.location;if(0===e.indexOf('data:'))return'';t=t||window.location,o||(o=document.createElement('a')),o.href=e,e=a.default.parse(o.href);var r=!e.port&&''===t.port||e.port===t.port;return e.hostname===t.hostname&&r&&e.protocol===t.protocol?'':'anonymous'};var n=r(56),a=function(e){return e&&e.__esModule?e:{default:e}}(n),o=void 0},function(e,t,r){(function(e,n){var a;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(o){function s(e){throw new RangeError(M[e])}function i(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function d(e,t){var r=e.split('@'),n='';1<r.length&&(n=r[0]+'@',e=r[1]),e=e.replace(C,'.');var a=e.split('.'),o=i(a,t).join('.');return n+o}function l(e){for(var t=[],r=0,n=e.length,a,o;r<n;)a=e.charCodeAt(r++),55296<=a&&56319>=a&&r<n?(o=e.charCodeAt(r++),56320==(64512&o)?t.push(((1023&a)<<10)+(1023&o)+65536):(t.push(a),r--)):t.push(a);return t}function u(e){return i(e,function(e){var t='';return 65535<e&&(e-=65536,t+=L(55296|1023&e>>>10),e=56320|1023&e),t+=L(e),t}).join('')}function p(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:b}function c(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,r){var n=0;for(e=r?O(e/E):e>>1,e+=O(e/t);e>w*v>>1;n+=b)e=O(e/w);return O(n+(w+1)*e/(e+S))}function f(e){var r=[],a=e.length,o=0,i=A,n=R,d,l,c,f,g,m,_,y,S,t;for(l=e.lastIndexOf(I),0>l&&(l=0),c=0;c<l;++c)128<=e.charCodeAt(c)&&s('not-basic'),r.push(e.charCodeAt(c));for(f=0<l?l+1:0;f<a;){for(g=o,m=1,_=b;;_+=b){if(f>=a&&s('invalid-input'),y=p(e.charCodeAt(f++)),(y>=b||y>O((x-o)/m))&&s('overflow'),o+=y*m,S=_<=n?T:_>=n+v?v:_-n,y<S)break;t=b-S,m>O(x/t)&&s('overflow'),m*=t}d=r.length+1,n=h(o-g,d,0==g),O(o/d)>x-i&&s('overflow'),i+=O(o/d),o%=d,r.splice(o++,0,i)}return u(r)}function g(e){var r=[],a,n,o,i,d,u,p,f,g,m,t,_,y,S,E;for(e=l(e),_=e.length,a=A,n=0,d=R,u=0;u<_;++u)t=e[u],128>t&&r.push(L(t));for(o=i=r.length,i&&r.push(I);o<_;){for(p=x,u=0;u<_;++u)t=e[u],t>=a&&t<p&&(p=t);for(y=o+1,p-a>O((x-n)/y)&&s('overflow'),n+=(p-a)*y,a=p,u=0;u<_;++u)if(t=e[u],t<a&&++n>x&&s('overflow'),t==a){for(f=n,g=b;;g+=b){if(m=g<=d?T:g>=d+v?v:g-d,f<m)break;E=f-m,S=b-m,r.push(L(c(m+E%S,0))),f=O(E/S)}r.push(L(c(f,0))),d=h(n,y,o==i),n=0,++o}++n,++a}return r.join('')}var m='object'==typeof t&&t&&!t.nodeType&&t,_='object'==typeof e&&e&&!e.nodeType&&e,y='object'==typeof n&&n;(y.global===y||y.window===y||y.self===y)&&(o=y);var x=2147483647,b=36,T=1,v=26,S=38,E=700,R=72,A=128,I='-',D=/^xn--/,P=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:'Overflow: input needs wider integers to process',"not-basic":'Illegal input >= 0x80 (not a basic code point)',"invalid-input":'Invalid input'},w=b-T,O=Math.floor,L=String.fromCharCode,k;k={version:'1.4.1',ucs2:{decode:l,encode:u},decode:f,encode:g,toASCII:function(e){return d(e,function(e){return P.test(e)?'xn--'+g(e):e})},toUnicode:function(e){return d(e,function(e){return D.test(e)?f(e.slice(4).toLowerCase()):e})}};a=function(){return k}.call(t,r,t,e),!(void 0!==a&&(e.exports=a))})(this)}).call(t,r(57)(e),r(14))},function(e){'use strict';e.exports={isString:function(e){return'string'==typeof e},isObject:function(e){return'object'==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){'use strict';t.decode=t.parse=r(124),t.encode=t.stringify=r(125)},function(e){'use strict';function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,a,o){n=n||'&',a=a||'=';var s={};if('string'!=typeof e||0===e.length)return s;var d=/\+/g;e=e.split(n);var l=1e3;o&&'number'==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;0<l&&u>l&&(u=l);for(var p=0;p<u;++p){var i=e[p].replace(d,'%20'),c=i.indexOf(a),h,f,g,m;0<=c?(h=i.substr(0,c),f=i.substr(c+1)):(h=i,f=''),g=decodeURIComponent(h),m=decodeURIComponent(f),t(s,g)?r(s[g])?s[g].push(m):s[g]=[s[g],m]:s[g]=m}return s};var r=Array.isArray||function(e){return'[object Array]'===Object.prototype.toString.call(e)}},function(e){'use strict';function t(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var r=function(e){switch(typeof e){case'string':return e;case'boolean':return e?'true':'false';case'number':return isFinite(e)?e:'';default:return'';}};e.exports=function(e,o,i,s){return o=o||'&',i=i||'=',null===e&&(e=void 0),'object'==typeof e?t(a(e),function(a){var s=encodeURIComponent(r(a))+i;return n(e[a])?t(e[a],function(e){return s+encodeURIComponent(r(e))}).join(o):s+encodeURIComponent(r(e[a]))}).join(o):s?encodeURIComponent(r(s))+i+encodeURIComponent(r(e)):''};var n=Array.isArray||function(e){return'[object Array]'===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5),s=n(i),d=r(1),l=r(127),u=n(l),p=function(){function e(){var t=this;a(this,e),this._head=new u.default(null,null,Infinity),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/s.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:d.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,t,r))},e.prototype.addOnce=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:d.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,t,r,!0))},e.prototype._addListener=function(e){var t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var r=this._head.next;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null},e.prototype.update=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),t;if(e>this.lastTime){t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*s.default.TARGET_FPMS*this.speed;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=e},o(e,[{key:'FPS',get:function(){return 1e3/this.elapsedMS}},{key:'minFPS',get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(Math.max(0,e)/1e3,s.default.TARGET_FPMS);this._maxElapsedMS=1/t}}]),e}();t.default=p},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];r(this,e),this.fn=t,this.context=n,this.priority=a,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(e,t){return t=t||null,this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.previous;return this.next=e?null:t,this.previous=null,t},e}();t.default=n},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=r(16),i=n(o),s=r(1),d=r(6),l=r(37),u=n(l),p=new d.Matrix,c=function(){function e(t){a(this,e),this.renderer=t}return e.prototype.render=function(e){var t=e._texture,r=this.renderer,n=t._frame.width,a=t._frame.height,o=e.transform.worldTransform,i=0,l=0;if(!(0>=t.orig.width||0>=t.orig.height||!t.baseTexture.source)&&(r.setBlendMode(e.blendMode),t.valid)){r.context.globalAlpha=e.worldAlpha;var c=t.baseTexture.scaleMode===s.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==c&&(r.context[r.smoothProperty]=c),t.trim?(i=t.trim.width/2+t.trim.x-e.anchor.x*t.orig.width,l=t.trim.height/2+t.trim.y-e.anchor.y*t.orig.height):(i=(0.5-e.anchor.x)*t.orig.width,l=(0.5-e.anchor.y)*t.orig.height),t.rotate&&(o.copy(p),o=p,d.GroupD8.matrixAppendRotationInv(o,t.rotate,i,l),i=0,l=0),i-=n/2,l-=a/2,r.roundPixels?(r.context.setTransform(o.a,o.b,o.c,o.d,0|o.tx*r.resolution,0|o.ty*r.resolution),i|=0,l|=0):r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution,o.ty*r.resolution);var h=t.baseTexture.resolution;16777215===e.tint?r.context.drawImage(t.baseTexture.source,t._frame.x*h,t._frame.y*h,n*h,a*h,i*r.resolution,l*r.resolution,n*r.resolution,a*r.resolution):((e.cachedTint!==e.tint||e.tintedTexture.tintId!==e._texture._updateID)&&(e.cachedTint=e.tint,e.tintedTexture=u.default.getTintedTexture(e,e.tint)),r.context.drawImage(e.tintedTexture,0,0,n*h,a*h,i*r.resolution,l*r.resolution,n*r.resolution,a*r.resolution))}},e.prototype.destroy=function(){this.renderer=null},e}();t.default=c,i.default.registerPlugin('sprite',c)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(1),o=function(){function e(t){n(this,e),this.renderer=t}return e.prototype.pushMask=function(e){var t=this.renderer;t.context.save();var r=e.alpha,n=e.transform.worldTransform,a=t.resolution;t.context.setTransform(n.a*a,n.b*a,n.c*a,n.d*a,n.tx*a,n.ty*a),e._texture||(this.renderGraphicsShape(e),t.context.clip()),e.worldAlpha=r},e.prototype.renderGraphicsShape=function(e){var t=this.renderer.context,r=e.graphicsData.length;if(0!==r){t.beginPath();for(var n=0;n<r;n++){var o=e.graphicsData[n],i=o.shape;if(o.type===a.SHAPES.POLY){var s=i.points;t.moveTo(s[0],s[1]);for(var d=1;d<s.length/2;d++)t.lineTo(s[2*d],s[2*d+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&t.closePath()}else if(o.type===a.SHAPES.RECT)t.rect(i.x,i.y,i.width,i.height),t.closePath();else if(o.type===a.SHAPES.CIRC)t.arc(i.x,i.y,i.radius,0,2*Math.PI),t.closePath();else if(o.type===a.SHAPES.ELIP){var l=2*i.width,u=2*i.height,p=i.x-l/2,c=i.y-u/2,h=0.5522848,f=l/2*h,g=u/2*h,m=p+l,_=c+u,y=p+l/2,x=c+u/2;t.moveTo(p,x),t.bezierCurveTo(p,x-g,y-f,c,y,c),t.bezierCurveTo(y+f,c,m,x-g,m,x),t.bezierCurveTo(m,x+g,y+f,_,y,_),t.bezierCurveTo(y-f,_,p,x+g,p,x),t.closePath()}else if(o.type===a.SHAPES.RREC){var b=i.x,T=i.y,v=i.width,S=i.height,E=i.radius,R=0|Math.min(v,S)/2;E=E>R?R:E,t.moveTo(b,T+E),t.lineTo(b,T+S-E),t.quadraticCurveTo(b,T+S,b+E,T+S),t.lineTo(b+v-E,T+S),t.quadraticCurveTo(b+v,T+S,b+v,T+S-E),t.lineTo(b+v,T+E),t.quadraticCurveTo(b+v,T,b+v-E,T),t.lineTo(b+E,T),t.quadraticCurveTo(b,T,b,T+E),t.closePath()}}}},e.prototype.popMask=function(e){e.context.restore(),e.invalidateBlendMode()},e.prototype.destroy=function(){},e}();t.default=o},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,o.default)()?(e[n.BLEND_MODES.NORMAL]='source-over',e[n.BLEND_MODES.ADD]='lighter',e[n.BLEND_MODES.MULTIPLY]='multiply',e[n.BLEND_MODES.SCREEN]='screen',e[n.BLEND_MODES.OVERLAY]='overlay',e[n.BLEND_MODES.DARKEN]='darken',e[n.BLEND_MODES.LIGHTEN]='lighten',e[n.BLEND_MODES.COLOR_DODGE]='color-dodge',e[n.BLEND_MODES.COLOR_BURN]='color-burn',e[n.BLEND_MODES.HARD_LIGHT]='hard-light',e[n.BLEND_MODES.SOFT_LIGHT]='soft-light',e[n.BLEND_MODES.DIFFERENCE]='difference',e[n.BLEND_MODES.EXCLUSION]='exclusion',e[n.BLEND_MODES.HUE]='hue',e[n.BLEND_MODES.SATURATION]='saturate',e[n.BLEND_MODES.COLOR]='color',e[n.BLEND_MODES.LUMINOSITY]='luminosity'):(e[n.BLEND_MODES.NORMAL]='source-over',e[n.BLEND_MODES.ADD]='lighter',e[n.BLEND_MODES.MULTIPLY]='source-over',e[n.BLEND_MODES.SCREEN]='source-over',e[n.BLEND_MODES.OVERLAY]='source-over',e[n.BLEND_MODES.DARKEN]='source-over',e[n.BLEND_MODES.LIGHTEN]='source-over',e[n.BLEND_MODES.COLOR_DODGE]='source-over',e[n.BLEND_MODES.COLOR_BURN]='source-over',e[n.BLEND_MODES.HARD_LIGHT]='source-over',e[n.BLEND_MODES.SOFT_LIGHT]='source-over',e[n.BLEND_MODES.DIFFERENCE]='source-over',e[n.BLEND_MODES.EXCLUSION]='source-over',e[n.BLEND_MODES.HUE]='source-over',e[n.BLEND_MODES.SATURATION]='source-over',e[n.BLEND_MODES.COLOR]='source-over',e[n.BLEND_MODES.LUMINOSITY]='source-over'),e[n.BLEND_MODES.NORMAL_NPM]=e[n.BLEND_MODES.NORMAL],e[n.BLEND_MODES.ADD_NPM]=e[n.BLEND_MODES.ADD],e[n.BLEND_MODES.SCREEN_NPM]=e[n.BLEND_MODES.SCREEN],e};var n=r(1),a=r(63),o=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.min;t.__esModule=!0;var d=r(21),l=n(d),u=r(22),p=n(u),c=r(38),h=n(c),f=r(144),g=n(f),m=r(145),_=n(m),y=r(146),x=n(y),b=r(5),T=n(b),v=r(2),S=r(7),E=n(S),R=r(34),A=n(R),I=0,D=0,P=function(e){function t(r){a(this,t);var n=o(this,e.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=T.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var s=1;s<=A.default.nextPow2(n.size);s*=2)n.buffers.push(new x.default(4*s*n.vertByteSize));n.indices=(0,h.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var i=0;i<n.size;i++)n.groups[i]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on('prerender',n.onPrerender,n),n}return i(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=s(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),T.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,_.default)(this.MAX_TEXTURES,e)),this.shader=(0,g.default)(e,this.MAX_TEXTURES),this.indexBuffer=E.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var t=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=E.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),a=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,t.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(n,t.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,t.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);t.aTextureId&&a.addAttribute(n,t.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=a}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=Array(this.MAX_TEXTURES)},t.prototype.onPrerender=function(){this.vertexCount=0},t.prototype.render=function(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)},t.prototype.flush=function(){if(0!==this.currentIndex){var e=this.renderer.gl,r=this.MAX_TEXTURES,n=A.default.nextPow2(this.currentIndex),a=A.default.log2(n),o=this.buffers[a],d=this.sprites,l=this.groups,u=o.float32View,p=o.uint32View,c=this.boundTextures,h=this.renderer.boundTextures,f=this.renderer.textureGC.count,g=0,m=1,_=0,y=l[0],x=v.premultiplyBlendMode[d[0]._texture.baseTexture.premultipliedAlpha?1:0][d[0].blendMode],b,S,R,P;y.textureCount=0,y.start=0,y.blend=x,I++;var C;for(C=0;C<r;++C)c[C]=h[C],c[C]._virtalBoundId=C;for(C=0;C<this.currentIndex;++C){var i=d[C];b=i._texture.baseTexture;var M=v.premultiplyBlendMode[+b.premultipliedAlpha][i.blendMode];if(x!==M&&(x=M,S=null,_=r,I++),S!==b&&(S=b,b._enabled!==I)){if(_===r&&(I++,y.size=C-y.start,_=0,y=l[m++],y.blend=x,y.textureCount=0,y.start=C),b.touched=f,-1===b._virtalBoundId)for(var w=0;w<r;++w){var O=(w+D)%r,k=c[O];if(k._enabled!==I){D++,k._virtalBoundId=-1,b._virtalBoundId=O,c[O]=b;break}}b._enabled=I,y.textureCount++,y.ids[_]=b._virtalBoundId,y.textures[_++]=b}if(R=i.vertexData,P=i._texture._uvs.uvsUint32,this.renderer.roundPixels){var t=this.renderer.resolution;u[g]=(0|R[0]*t)/t,u[g+1]=(0|R[1]*t)/t,u[g+5]=(0|R[2]*t)/t,u[g+6]=(0|R[3]*t)/t,u[g+10]=(0|R[4]*t)/t,u[g+11]=(0|R[5]*t)/t,u[g+15]=(0|R[6]*t)/t,u[g+16]=(0|R[7]*t)/t}else u[g]=R[0],u[g+1]=R[1],u[g+5]=R[2],u[g+6]=R[3],u[g+10]=R[4],u[g+11]=R[5],u[g+15]=R[6],u[g+16]=R[7];p[g+2]=P[0],p[g+7]=P[1],p[g+12]=P[2],p[g+17]=P[3];var L=s(i.worldAlpha,1),N=1>L&&b.premultipliedAlpha?(0,v.premultiplyTint)(i._tintRGB,L):i._tintRGB+(255*L<<24);p[g+3]=p[g+8]=p[g+13]=p[g+18]=N,u[g+4]=u[g+9]=u[g+14]=u[g+19]=b._virtalBoundId,g+=20}if(y.size=C-y.start,!T.default.CAN_UPLOAD_SAME_BUFFER){if(this.vaoMax<=this.vertexCount){this.vaoMax++;var B=this.shader.attributes,F=this.vertexBuffers[this.vertexCount]=E.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),U=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F,B.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(F,B.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(F,B.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);B.aTextureId&&U.addAttribute(F,B.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=U}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!1),this.vertexCount++}else this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!0);for(C=0;C<r;++C)h[C]._virtalBoundId=-1;for(C=0;C<m;++C){for(var X=l[C],W=X.textureCount,G=0;G<W;G++)S=X.textures[G],h[X.ids[G]]!==S&&this.renderer.bindTexture(S,X.ids[G],!0),S._virtalBoundId=-1;this.renderer.state.setBlendMode(X.blend),e.drawElements(e.TRIANGLES,6*X.size,e.UNSIGNED_SHORT,2*(6*X.start))}this.currentIndex=0}},t.prototype.start=function(){this.renderer.bindShader(this.shader),T.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off('prerender',this.onPrerender,this),e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},t}(l.default);t.default=P,p.default.registerPlugin('sprite',P)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(17),d=n(s),l=r(64),u=n(l),p=function(e){function t(r){a(this,t);var n=o(this,e.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return i(t,e),t.prototype.pushMask=function(e,t){if(t.texture)this.pushSpriteMask(e,t);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&t.isFastRect()){var r=t.worldTransform,n=Math.atan2(r.b,r.a);n=Math.round(n*(180/Math.PI)),n%90?this.pushStencilMask(t):this.pushScissorMask(e,t)}else this.pushStencilMask(t)},t.prototype.popMask=function(e,t){t.texture?this.popSpriteMask(e,t):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,t):this.popStencilMask(e,t)},t.prototype.pushSpriteMask=function(e,t){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new u.default(t)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=t,e.filterArea=t.getBounds(!0),this.renderer.filterManager.pushFilter(e,r),this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)},t.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(e,t){t.renderable=!0;var r=this.renderer._activeRenderTarget,n=t.getBounds();n.fit(r.size),t.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var a=this.renderer.resolution;this.renderer.gl.scissor(n.x*a,(r.root?r.size.height-n.y-n.height:n.y)*a,n.width*a,n.height*a),this.scissorRenderTarget=r,this.scissorData=t,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)},t}(d.default);t.default=p},function(e,t,r){'use strict';function n(e){for(var t=/^(projectionMatrix|uSampler|filterArea|filterClamp)$/,r={},n=void 0,a=e.replace(/\s+/g,' ').split(/\s*;\s*/),o=0,s;o<a.length;o++)if(s=a[o].trim(),-1<s.indexOf('uniform')){var d=s.split(' '),l=d[1],u=d[2],p=1;-1<u.indexOf('[')&&(n=u.split(/\[|]/),u=n[0],p*=+n[1]),u.match(t)||(r[u]={value:i(l,p),name:u,type:l})}return r}t.__esModule=!0,t.default=function(e,t,r){var a=n(e,r),o=n(t,r);return Object.assign(a,o)};var a=r(7),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=o.default.shader.defaultValue},function(e){function t(){throw new Error('setTimeout has not been defined')}function r(){throw new Error('clearTimeout has not been defined')}function n(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function o(){h&&g&&(h=!1,g.length?c=g.concat(c):f=-1,c.length&&s())}function s(){if(!h){var e=n(o);h=!0;for(var t=c.length;t;){for(g=c,c=[];++f<t;)g&&g[f].run();f=-1,t=c.length}g=null,h=!1,a(e)}}function d(e,t){this.fun=e,this.array=t}function i(){}var l=e.exports={},u,p;(function(){try{u='function'==typeof setTimeout?setTimeout:t}catch(r){u=t}try{p='function'==typeof clearTimeout?clearTimeout:r}catch(t){p=r}})();var c=[],h=!1,f=-1,g;l.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||h||n(s)},d.prototype.run=function(){this.fun.apply(null,this.array)},l.title='browser',l.browser=!0,l.env={},l.argv=[],l.version='',l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.prependListener=i,l.prependOnceListener=i,l.listeners=function(){return[]},l.binding=function(){throw new Error('process.binding is not supported')},l.cwd=function(){return'/'},l.chdir=function(){throw new Error('process.chdir is not supported')},l.umask=function(){return 0}},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(17),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(r){n(this,t);var o=a(this,e.call(this,r));return o.stencilMaskStack=null,o}return o(t,e),t.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)},t.prototype.pushStencil=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var t=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&t.enable(t.STENCIL_TEST),this.stencilMaskStack.push(e),t.colorMask(!1,!1,!1,!1),t.stencilFunc(t.EQUAL,r,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()},t.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,t=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(t),this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){s.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},t}(s.default);t.default=d},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var s=r(17),d=n(s),l=r(23),u=n(l),p=r(66),c=n(p),h=r(6),f=r(18),g=n(f),m=r(137),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(m),y=r(34),x=n(y),b=function e(){i(this,e),this.renderTarget=null,this.sourceFrame=new h.Rectangle,this.destinationFrame=new h.Rectangle,this.filters=[],this.target=null,this.resolution=1},T=function(e){function t(r){i(this,t);var n=a(this,e.call(this,r));return n.gl=n.renderer.gl,n.quad=new c.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n}return o(t,e),t.prototype.pushFilter=function(e,t){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var a=new b;a.sourceFrame=a.destinationFrame=this.renderer._activeRenderTarget.size,a.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[a]},this.filterData=n}var o=n.stack[++n.index];o||(o=n.stack[n.index]=new b);var i=t[0].resolution,s=0|t[0].padding,d=e.filterArea||e.getBounds(!0),l=o.sourceFrame,u=o.destinationFrame;l.x=(0|d.x*i)/i,l.y=(0|d.y*i)/i,l.width=(0|d.width*i)/i,l.height=(0|d.height*i)/i,n.stack[0].renderTarget.transform||t[0].autoFit&&l.fit(n.stack[0].destinationFrame),l.pad(s),u.width=l.width,u.height=l.height;var p=this.getPotRenderTarget(r.gl,l.width,l.height,i);o.target=e,o.filters=t,o.resolution=i,o.renderTarget=p,p.setFrame(u,l),r.bindRenderTarget(p),p.clear()},t.prototype.popFilter=function(){var e=this.filterData,r=e.stack[e.index-1],n=e.stack[e.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var a=n.filters;if(1===a.length)a[0].apply(this,n.renderTarget,r.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var o=n.renderTarget,s=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);s.setFrame(n.destinationFrame,n.sourceFrame),s.clear();var d=0;for(d=0;d<a.length-1;++d){a[d].apply(this,o,s,!0,n);var i=o;o=s,s=i}a[d].apply(this,o,r.renderTarget,!1,n),this.freePotRenderTarget(o),this.freePotRenderTarget(s)}e.index--,0===e.index&&(this.filterData=null)},t.prototype.applyFilter=function(e,t,r,n){var a=this.renderer,o=a.gl,i=e.glShaders[a.CONTEXT_UID];i||(e.glShaderKey?(i=this.shaderCache[e.glShaderKey],!i&&(i=new g.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[a.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=i)):i=e.glShaders[a.CONTEXT_UID]=new g.default(this.gl,e.vertexSrc,e.fragmentSrc),this.managedFilters.push(e),a.bindVao(null),this.quad.initVao(i)),a.bindVao(this.quad.vao),a.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),a.clear(),o.enable(o.SCISSOR_TEST)),r===a.maskManager.scissorRenderTarget&&a.maskManager.pushScissorMask(null,a.maskManager.scissorData),a.bindShader(i);var s=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=s,this.syncUniforms(i,e),a.state.setBlendMode(e.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)},t.prototype.syncUniforms=function(e,t){var r=t.uniformData,n=t.uniforms,a=1,o;if(e.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=e.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,e.uniforms.filterArea=s}if(e.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var d=e.uniforms.filterClamp;d[0]=0,d[1]=0,d[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,d[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,e.uniforms.filterClamp=d}for(var l in r){var i=r[l].type;if('sampler2d'===i&&0!==n[l]){if(n[l].baseTexture)e.uniforms[l]=this.renderer.bindTexture(n[l].baseTexture,a);else{e.uniforms[l]=a;var u=this.renderer.gl;this.renderer.boundTextures[a]=this.renderer.emptyTextures[a],u.activeTexture(u.TEXTURE0+a),n[l].texture.bind()}a++}else if('mat3'===i)e.uniforms[l]=void 0===n[l].a?n[l]:n[l].toArray(!0);else if('vec2'!==i)'float'===i?e.uniforms.data[l].value!==r[l]&&(e.uniforms[l]=n[l]):e.uniforms[l]=n[l];else if(void 0!==n[l].x){var p=e.uniforms[l]||new Float32Array(2);p[0]=n[l].x,p[1]=n[l].y,e.uniforms[l]=p}else e.uniforms[l]=n[l]}},t.prototype.getRenderTarget=function(e,t){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,t||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},t.prototype.returnRenderTarget=function(e){this.freePotRenderTarget(e)},t.prototype.calculateScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return _.calculateScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return _.calculateNormalizedScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size,t.destinationFrame)},t.prototype.calculateSpriteMatrix=function(e,t){var r=this.filterData.stack[this.filterData.index];return _.calculateSpriteMatrix(e,r.sourceFrame,r.renderTarget.size,t)},t.prototype.destroy=function(){for(var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.renderer,r=this.managedFilters,n=0;n<r.length;n++)e||r[n].glShaders[t.CONTEXT_UID].destroy(),delete r[n].glShaders[t.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()},t.prototype.getPotRenderTarget=function(e,t,r,n){t=x.default.nextPow2(t*n),r=x.default.nextPow2(r*n);var a=(65535&t)<<16|65535&r;this.pool[a]||(this.pool[a]=[]);var o=this.pool[a].pop();if(!o){var i=this.renderer.boundTextures[0];e.activeTexture(e.TEXTURE0),o=new u.default(e,t,r,null,1),e.bindTexture(e.TEXTURE_2D,i._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=n,o.defaultFrame.width=o.size.width=t/n,o.defaultFrame.height=o.size.height=r/n,o},t.prototype.emptyPool=function(){for(var e in this.pool){var t=this.pool[e];if(t)for(var r=0;r<t.length;r++)t[r].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(e){var t=e.size.width*e.resolution,r=e.size.height*e.resolution;this.pool[(65535&t)<<16|65535&r].push(e)},t}(d.default);t.default=T},function(e,t,r){'use strict';t.__esModule=!0,t.calculateScreenSpaceMatrix=function(e,t,r){var n=e.identity();return n.translate(t.x/r.width,t.y/r.height),n.scale(r.width,r.height),n},t.calculateNormalizedScreenSpaceMatrix=function(e,t,r){var n=e.identity();n.translate(t.x/r.width,t.y/r.height);var a=r.width/t.width,o=r.height/t.height;return n.scale(a,o),n},t.calculateSpriteMatrix=function(e,t,r,a){var o=a._texture.baseTexture,i=e.set(r.width,0,0,r.height,t.x,t.y),s=a.worldTransform.copy(n.Matrix.TEMP_MATRIX);return s.invert(),i.prepend(s),i.scale(1/o.width,1/o.height),i.translate(a.anchor.x,a.anchor.y),i};var n=r(6)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(7),o=r(1),i=r(23),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=r(2),l=function(){function e(t){n(this,e),this.renderer=t,this.gl=t.gl,this._managedTextures=[]}return e.prototype.bindTexture=function(){},e.prototype.getTexture=function(){},e.prototype.updateTexture=function(e,t){var r=this.gl,n=!!e._glRenderTargets;if(!e.hasLoaded)return null;var d=this.renderer.boundTextures;if(void 0===t){t=0;for(var l=0;l<d.length;++l)if(d[l]===e){t=l;break}}d[t]=e,r.activeTexture(r.TEXTURE0+t);var i=e._glTextures[this.renderer.CONTEXT_UID];if(!i){if(n){var u=new s.default(this.gl,e.width,e.height,e.scaleMode,e.resolution);u.resize(e.width,e.height),e._glRenderTargets[this.renderer.CONTEXT_UID]=u,i=u.texture}else i=new a.GLTexture(this.gl,null,null,null,null),i.bind(t),i.premultiplyAlpha=!0,i.upload(e.source);e._glTextures[this.renderer.CONTEXT_UID]=i,e.on('update',this.updateTexture,this),e.on('dispose',this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&i.enableMipmap(),e.wrapMode===o.WRAP_MODES.CLAMP?i.enableWrapClamp():e.wrapMode===o.WRAP_MODES.REPEAT?i.enableWrapRepeat():i.enableWrapMirrorRepeat()):i.enableWrapClamp(),e.scaleMode===o.SCALE_MODES.NEAREST?i.enableNearestScaling():i.enableLinearScaling()}else n?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):i.upload(e.source);return i},e.prototype.destroyTexture=function(e,t){if(e=e.baseTexture||e,!!e.hasLoaded){var r=this.renderer.CONTEXT_UID,n=e._glTextures,a=e._glRenderTargets;if(n[r]&&(this.renderer.unbindTexture(e),n[r].destroy(),e.off('update',this.updateTexture,this),e.off('dispose',this.destroyTexture,this),delete n[r],!t)){var o=this._managedTextures.indexOf(e);-1!==o&&(0,d.removeItems)(this._managedTextures,o,1)}a&&a[r]&&(a[r].destroy(),delete a[r])}},e.prototype.removeAll=function(){for(var e=0,t;e<this._managedTextures.length;++e)t=this._managedTextures[e],t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]},e.prototype.destroy=function(){for(var e=0,t;e<this._managedTextures.length;++e)t=this._managedTextures[e],this.destroyTexture(t,!0),t.off('update',this.updateTexture,this),t.off('dispose',this.destroyTexture,this);this._managedTextures=null},e}();t.default=l},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(1),o=r(5),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t){n(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=i.default.GC_MAX_IDLE,this.checkCountMax=i.default.GC_MAX_CHECK_COUNT,this.mode=i.default.GC_MODE}return e.prototype.update=function(){this.count++,this.mode===a.GC_MODES.MANUAL||(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var e=this.renderer.textureManager,t=e._managedTextures,r=!1,n=0,a;n<t.length;n++)a=t[n],!a._glRenderTargets&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),t[n]=null,r=!0);if(r){for(var o=0,i=0;i<t.length;i++)null!==t[i]&&(t[o++]=t[i]);t.length=o}},e.prototype.unload=function(e){var t=this.renderer.textureManager;e._texture&&e._texture._glRenderTargets&&t.destroyTexture(e._texture,!0);for(var r=e.children.length-1;0<=r;r--)this.unload(e.children[r])},e}();t.default=s},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(141),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=0,s=1,d=2,l=3,u=4,p=function(){function e(t){n(this,e),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)},this.blendModes=(0,o.default)(t),this.nativeVaoExtension=t.getExtension('OES_vertex_array_object')||t.getExtension('MOZ_OES_vertex_array_object')||t.getExtension('WEBKIT_OES_vertex_array_object')}return e.prototype.push=function(){var e=this.stack[this.stackIndex];e||(e=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var t=0;t<this.activeState.length;t++)e[t]=this.activeState[t]},e.prototype.pop=function(){var e=this.stack[--this.stackIndex];this.setState(e)},e.prototype.setState=function(e){this.setBlend(e[i]),this.setDepthTest(e[s]),this.setFrontFace(e[d]),this.setCullFace(e[l]),this.setBlendMode(e[u])},e.prototype.setBlend=function(e){e=e?1:0,this.activeState[i]===e||(this.activeState[i]=e,this.gl[e?'enable':'disable'](this.gl.BLEND))},e.prototype.setBlendMode=function(e){if(e!==this.activeState[u]){this.activeState[u]=e;var t=this.blendModes[e];2===t.length?this.gl.blendFunc(t[0],t[1]):this.gl.blendFuncSeparate(t[0],t[1],t[2],t[3])}},e.prototype.setDepthTest=function(e){e=e?1:0,this.activeState[s]===e||(this.activeState[s]=e,this.gl[e?'enable':'disable'](this.gl.DEPTH_TEST))},e.prototype.setCullFace=function(e){e=e?1:0,this.activeState[l]===e||(this.activeState[l]=e,this.gl[e?'enable':'disable'](this.gl.CULL_FACE))},e.prototype.setFrontFace=function(e){e=e?1:0,this.activeState[d]===e||(this.activeState[d]=e,this.gl.frontFace(this.gl[e?'CW':'CCW']))},e.prototype.resetAttributes=function(){for(var e=0;e<this.attribState.tempAttribState.length;e++)this.attribState.tempAttribState[e]=0;for(var t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},e.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},e}();t.default=p},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t[n.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.ADD]=[e.ONE,e.DST_ALPHA],t[n.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR],t[n.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.DST_ALPHA,e.ONE,e.DST_ALPHA],t[n.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_COLOR],t};var n=r(1)},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t[n.DRAW_MODES.POINTS]=e.POINTS,t[n.DRAW_MODES.LINES]=e.LINES,t[n.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,t[n.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,t[n.DRAW_MODES.TRIANGLES]=e.TRIANGLES,t[n.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,t[n.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN,t};var n=r(1)},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){var t=e.getContextAttributes();t.stencil||console.warn('Provided WebGL context does not have a stencil buffer, masks may not render correctly')}},function(e,t,r){'use strict';function n(e){var t='';t+='\n',t+='\n';for(var r=0;r<e;r++)0<r&&(t+='\nelse '),r<e-1&&(t+='if(textureId == '+r+'.0)'),t+='\n{',t+='\n\tcolor = texture2D(uSamplers['+r+'], vTextureCoord);',t+='\n}';return t+='\n',t+='\n',t}t.__esModule=!0,t.default=function(e,t){var r=s;r=r.replace(/%count%/gi,t),r=r.replace(/%forloop%/gi,n(t));for(var a=new o.default(e,'precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n',r),d=[],l=0;l<t;l++)d[l]=l;return a.bind(),a.uniforms.uSamplers=d,a};var a=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=r(8),s='varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}'},function(e,t,r){'use strict';function n(e){for(var t='',r=0;r<e;++r)0<r&&(t+='\nelse '),r<e-1&&(t+='if(test == '+r+'.0){}');return t}t.__esModule=!0,t.default=function(e,t){var r=!t;if(0===e)throw new Error('Invalid value of `0` passed to `checkMaxIfStatementsInShader`');if(r){var a=document.createElement('canvas');a.width=1,a.height=1,t=o.default.createContext(a)}for(var s=t.createShader(t.FRAGMENT_SHADER),d;d=i.replace(/%forloop%/gi,n(e)),t.shaderSource(s,d),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS);)e=0|e/2;return r&&t.getExtension('WEBGL_lose_context')&&t.getExtension('WEBGL_lose_context').loseContext(),e};var a=r(7),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i='precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}'},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(t){r(this,e),this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return e.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},e}();t.default=n},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.ceil,d=Math.abs;t.__esModule=!0;var l=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(33),p=n(u),c=r(11),h=n(c),f=r(6),g=r(2),m=r(1),_=r(5),y=n(_),x=r(67),b=n(x),T=r(68),v=n(T),S=r(148),E=n(S),R={texture:!0,children:!1,baseTexture:!0},A=function(e){function t(r,n,i){a(this,t),i=i||document.createElement('canvas'),i.width=3,i.height=3;var s=h.default.fromCanvas(i,y.default.SCALE_MODE,'text');s.orig=new f.Rectangle,s.trim=new f.Rectangle;var d=o(this,e.call(this,s));return h.default.addToCache(d._texture,d._texture.baseTexture.textureCacheIds[0]),d.canvas=i,d.context=d.canvas.getContext('2d'),d.resolution=y.default.RESOLUTION,d._text=null,d._style=null,d._styleListener=null,d._font='',d.text=r,d.style=n,d.localStyleID=-1,d}return i(t,e),t.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var r=this.context,n=v.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),a=n.width,o=n.height,d=n.lines,l=n.lineHeight,u=n.lineWidths,p=n.maxLineWidth,c=n.fontProperties;this.canvas.width=s((a+2*t.padding)*this.resolution),this.canvas.height=s((o+2*t.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=t.stroke,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;var h,f;if(t.dropShadow){r.fillStyle=t.dropShadowColor,r.globalAlpha=t.dropShadowAlpha,r.shadowBlur=t.dropShadowBlur,0<t.dropShadowBlur&&(r.shadowColor=t.dropShadowColor);for(var g=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,m=Math.sin(t.dropShadowAngle)*t.dropShadowDistance,_=0;_<d.length;_++)h=t.strokeThickness/2,f=t.strokeThickness/2+_*l+c.ascent,'right'===t.align?h+=p-u[_]:'center'===t.align&&(h+=(p-u[_])/2),t.fill&&(this.drawLetterSpacing(d[_],h+g+t.padding,f+m+t.padding),t.stroke&&t.strokeThickness&&(r.strokeStyle=t.dropShadowColor,this.drawLetterSpacing(d[_],h+g+t.padding,f+m+t.padding,!0),r.strokeStyle=t.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(t,d);for(var i=0;i<d.length;i++)h=t.strokeThickness/2,f=t.strokeThickness/2+i*l+c.ascent,'right'===t.align?h+=p-u[i]:'center'===t.align&&(h+=(p-u[i])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(d[i],h+t.padding,f+t.padding,!0),t.fill&&this.drawLetterSpacing(d[i],h+t.padding,f+t.padding);this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=this._style,o=a.letterSpacing;if(0===o)return void(n?this.context.strokeText(e,t,r):this.context.fillText(e,t,r));for(var i=String.prototype.split.call(e,''),s=t,d=0,l='';d<e.length;)l=i[d++],n?this.context.strokeText(l,s,r):this.context.fillText(l,s,r),s+=this.context.measureText(l).width+o},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=(0,E.default)(e);e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0)}var r=this._texture,n=this._style,a=n.trim?0:n.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=e.width,o.realHeight=e.height,o.width=e.width/this.resolution,o.height=e.height/this.resolution,r.trim.width=r._frame.width=e.width/this.resolution,r.trim.height=r._frame.height=e.height/this.resolution,r.trim.x=-a,r.trim.y=-a,r.orig.width=r._frame.width-2*a,r.orig.height=r._frame.height-2*a,this._onTextureUpdate(),o.emit('update',o),this.dirty=!1},t.prototype.renderWebGL=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype.renderWebGL.call(this,t)},t.prototype._renderCanvas=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._renderCanvas.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._onStyleChange=function(){this.dirty=!0},t.prototype._generateFillStyle=function(e,t){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var r=this.canvas.width/this.resolution,n=this.canvas.height/this.resolution,a=e.fill.slice(),o=e.fillGradientStops.slice(),s,d,l,u;if(!o.length)for(var p=a.length+1,c=1;c<p;++c)o.push(c/p);if(a.unshift(e.fill[0]),o.unshift(0),a.push(e.fill[e.fill.length-1]),o.push(1),e.fillGradientType===m.TEXT_GRADIENT.LINEAR_VERTICAL){s=this.context.createLinearGradient(r/2,0,r/2,n),d=(a.length+1)*t.length,l=0;for(var i=0;i<t.length;i++){l+=1;for(var h=0;h<a.length;h++)u='number'==typeof o[h]?o[h]/t.length+i/t.length:l/d,s.addColorStop(u,a[h]),l++}}else{s=this.context.createLinearGradient(0,n/2,r,n/2),d=a.length+1,l=1;for(var f=0;f<a.length;f++)u='number'==typeof o[f]?o[f]:l/d,s.addColorStop(u,a[f]),l++}return s},t.prototype.destroy=function(t){'boolean'==typeof t&&(t={children:t}),t=Object.assign({},R,t),e.prototype.destroy.call(this,t),this.context=null,this.canvas=null,this._style=null},l(t,[{key:'width',get:function(){return this.updateText(!0),d(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=(0,g.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:'height',get:function(){return this.updateText(!0),d(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=(0,g.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:'style',get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof b.default?e:new b.default(e),this.localStyleID=-1,this.dirty=!0}},{key:'text',get:function(){return this._text},set:function(e){e=(''===e||null===e||void 0===e?' ':e)+'',this._text===e||(this._text=e,this.dirty=!0)}}]),t}(p.default);t.default=A},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){var t=e.width,r=e.height,n=e.getContext('2d'),a=n.getImageData(0,0,t,r),o=a.data,s=o.length,d={top:null,left:null,right:null,bottom:null},l,i,u;for(l=0;l<s;l+=4)0!==o[l+3]&&(i=l/4%t,u=~~(l/4/t),null===d.top&&(d.top=u),null===d.left?d.left=i:i<d.left&&(d.left=i),null===d.right?d.right=i+1:d.right<i&&(d.right=i+1),null===d.bottom?d.bottom=u:d.bottom<u&&(d.bottom=u));t=d.right-d.left,r=d.bottom-d.top+1;var p=n.getImageData(d.left,d.top,t,r);return{height:r,width:t,data:p}}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.atan2,d=Math.sin,l=Math.cos,u=Math.abs,p=Math.sqrt,h=Math.PI;t.__esModule=!0;var c=r(15),f=n(c),g=r(36),m=n(g),_=r(11),y=n(_),x=r(69),b=n(x),T=r(33),v=n(T),S=r(6),E=r(2),R=r(1),A=r(30),I=n(A),D=r(150),P=n(D),C=r(16),M=n(C),w=new S.Matrix,O=new S.Point,k=new Float32Array(4),L=new Float32Array(4),N=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]&&arguments[0];a(this,t);var n=o(this,e.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=R.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new I.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n}return i(t,e),t.prototype.clone=function(){var e=new t;e.renderable=this.renderable,e.fillAlpha=this.fillAlpha,e.lineWidth=this.lineWidth,e.lineColor=this.lineColor,e.tint=this.tint,e.blendMode=this.blendMode,e.isMask=this.isMask,e.boundsPadding=this.boundsPadding,e.dirty=0,e.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)e.graphicsData.push(this.graphicsData[r].clone());return e.currentPath=e.graphicsData[e.graphicsData.length-1],e.updateLocalBounds(),e},t.prototype.lineStyle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=e,this.lineColor=t,this.lineAlpha=r,this.currentPath)if(this.currentPath.shape.points.length){var n=new S.Polygon(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},t.prototype.moveTo=function(e,t){var r=new S.Polygon([e,t]);return r.closed=!1,this.drawShape(r),this},t.prototype.lineTo=function(e,t){return this.currentPath.shape.points.push(e,t),this.dirty++,this},t.prototype.quadraticCurveTo=function(e,t,r,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=20,n=this.currentPath.shape.points,s=0,d=0;0===n.length&&this.moveTo(0,0);for(var l=n[n.length-2],u=n[n.length-1],p=1,i;p<=o;++p)i=p/o,s=l+(e-l)*i,d=u+(t-u)*i,n.push(s+(e+(r-e)*i-s)*i,d+(t+(a-t)*i-d)*i);return this.dirty++,this},t.prototype.bezierCurveTo=function(e,t,r,n,a,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=this.currentPath.shape.points,s=i[i.length-2],d=i[i.length-1];return i.length-=2,(0,P.default)(s,d,e,t,r,n,a,o,i),this.dirty++,this},t.prototype.arcTo=function(e,t,r,n,a){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var o=this.currentPath.shape.points,i=o[o.length-2],d=o[o.length-1],l=d-t,c=i-e,h=n-t,f=r-e,g=u(l*f-c*h);if(1e-8>g||0===a)(o[o.length-2]!==e||o[o.length-1]!==t)&&o.push(e,t);else{var m=l*l+c*c,_=h*h+f*f,y=l*h+c*f,x=a*p(m)/g,b=a*p(_)/g,T=x*y/m,v=b*y/_,S=x*f+b*c,E=x*h+b*l,R=s(l*(b+T)-E,c*(b+T)-S),A=s(h*(x+v)-E,f*(x+v)-S);this.arc(S+e,E+t,a,R,A,c*h>f*l)}return this.dirty++,this},t.prototype.arc=function(e,t,r,n,a){var o=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(n===a)return this;!o&&a<=n?a+=2*h:o&&n<=a&&(n+=2*h);var p=a-n,f=40*Math.ceil(u(p)/(2*h));if(0==p)return this;var g=e+l(n)*r,m=t+d(n)*r,_=this.currentPath?this.currentPath.shape.points:null;_?(_[_.length-2]!==g||_[_.length-1]!==m)&&_.push(g,m):(this.moveTo(g,m),_=this.currentPath.shape.points);for(var y=p/(2*f),x=l(y),b=d(y),T=f-1,v=0;v<=T;++v){var i=v+T%1/T*v,S=y+n+2*y*i,E=l(S),c=-d(S);_.push((x*E+b*c)*r+e,(x*-c+b*E)*r+t)}return this.dirty++,this},t.prototype.beginFill=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=e,this.fillAlpha=t,this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},t.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},t.prototype.drawRect=function(e,t,r,n){return this.drawShape(new S.Rectangle(e,t,r,n)),this},t.prototype.drawRoundedRect=function(e,t,r,n,a){return this.drawShape(new S.RoundedRectangle(e,t,r,n,a)),this},t.prototype.drawCircle=function(e,t,r){return this.drawShape(new S.Circle(e,t,r)),this},t.prototype.drawEllipse=function(e,t,r,n){return this.drawShape(new S.Ellipse(e,t,r,n)),this},t.prototype.drawPolygon=function(e){var t=e,r=!0;if(t instanceof S.Polygon&&(r=t.closed,t=t.points),!Array.isArray(t)){t=Array(arguments.length);for(var n=0;n<t.length;++n)t[n]=arguments[n]}var a=new S.Polygon(t);return a.closed=r,this.drawShape(a),this},t.prototype.clear=function(){return(this.lineWidth||this.filling||0<this.graphicsData.length)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},t.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===R.SHAPES.RECT&&!this.graphicsData[0].lineWidth},t.prototype._renderWebGL=function(e){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(e):(e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this))},t.prototype._renderSpriteRect=function(e){var t=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new v.default(new y.default(y.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var n=k,a=L;(0,E.hex2rgb)(this.graphicsData[0].fillColor,n),(0,E.hex2rgb)(this.tint,a),n[0]*=a[0],n[1]*=a[1],n[2]*=a[2],r.tint=(0,E.rgb2hex)(n)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=t.width,r._texture._frame.height=t.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-t.x/t.width,-t.y/t.height),r._onAnchorUpdate(),r._renderWebGL(e)},t.prototype._renderCanvas=function(e){!0===this.isMask||e.plugins.graphics.render(this)},t.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var e=this._localBounds;this._bounds.addFrame(this.transform,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,O);for(var t=this.graphicsData,r=0,n;r<t.length;++r)if((n=t[r],!!n.fill)&&n.shape&&n.shape.contains(O.x,O.y)){if(n.holes)for(var a=0,o;a<n.holes.length;a++)if(o=n.holes[a],o.contains(O.x,O.y))return!1;return!0}return!1},t.prototype.updateLocalBounds=function(){var e=Infinity,t=-Infinity,r=Infinity,n=-Infinity;if(this.graphicsData.length)for(var a=0,o=0,s=0,d=0,l=0,c=0;c<this.graphicsData.length;c++){var i=this.graphicsData[c],h=i.type,f=i.lineWidth;if(a=i.shape,h===R.SHAPES.RECT||h===R.SHAPES.RREC)o=a.x-f/2,s=a.y-f/2,d=a.width+f,l=a.height+f,e=o<e?o:e,t=o+d>t?o+d:t,r=s<r?s:r,n=s+l>n?s+l:n;else if(h===R.SHAPES.CIRC)o=a.x,s=a.y,d=a.radius+f/2,l=a.radius+f/2,e=o-d<e?o-d:e,t=o+d>t?o+d:t,r=s-l<r?s-l:r,n=s+l>n?s+l:n;else if(h===R.SHAPES.ELIP)o=a.x,s=a.y,d=a.width+f/2,l=a.height+f/2,e=o-d<e?o-d:e,t=o+d>t?o+d:t,r=s-l<r?s-l:r,n=s+l>n?s+l:n;else for(var g=a.points,m=0,_=0,y=0,x=0,b=0,T=0,v=0,S=0,E=0;E+2<g.length;E+=2)(o=g[E],s=g[E+1],m=g[E+2],_=g[E+3],y=u(m-o),x=u(_-s),l=f,d=p(y*y+x*x),!(1e-9>d))&&(b=(l/d*x+y)/2,T=(l/d*y+x)/2,v=(m+o)/2,S=(_+s)/2,e=v-b<e?v-b:e,t=v+b>t?v+b:t,r=S-T<r?S-T:r,n=S+T>n?S+T:n)}else e=0,t=0,r=0,n=0;var A=this.boundsPadding;this._localBounds.minX=e-A,this._localBounds.maxX=t+A,this._localBounds.minY=r-A,this._localBounds.maxY=n+A},t.prototype.drawShape=function(e){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop(),this.currentPath=null;var t=new b.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,e);return this.graphicsData.push(t),t.type===R.SHAPES.POLY&&(t.shape.closed=t.shape.closed||this.filling,this.currentPath=t),this.dirty++,t},t.prototype.generateCanvasTexture=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=m.default.create(r.width,r.height,e,t);B||(B=new M.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(w),w.invert(),w.tx-=r.x,w.ty-=r.y,B.render(this,n,!0,w);var a=y.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,e,'graphics');return a.baseTexture.resolution=t,a.baseTexture.update(),a},t.prototype.closePath=function(){var e=this.currentPath;return e&&e.shape&&e.shape.close(),this},t.prototype.addHole=function(){var e=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(e.shape),this.currentPath=null,this},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webgl)for(var a=0;a<this._webgl[n].data.length;++a)this._webgl[n].data[a].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},t}(f.default),B;t.default=N,N._SPRITE_TEXTURE=null},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t,r,a,o,s,d,l){var u=8<arguments.length&&arguments[8]!==void 0?arguments[8]:[],p=20,n=0,c=0,h=0,f=0,g=0;u.push(e,t);for(var m=1,i=0;m<=p;++m)i=m/p,n=1-i,c=n*n,h=c*n,f=i*i,g=f*i,u.push(h*e+3*c*i*r+3*n*f*o+g*d,h*t+3*c*i*a+3*n*f*s+g*l);return u}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(2),d=r(1),l=r(21),u=n(l),p=r(22),c=n(p),h=r(152),f=n(h),g=r(153),m=n(g),_=r(154),y=n(_),x=r(155),b=n(x),T=r(156),v=n(T),S=r(157),E=n(S),R=function(e){function t(r){a(this,t);var n=o(this,e.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return i(t,e),t.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new m.default(this.gl)},t.prototype.destroy=function(){u.default.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},t.prototype.render=function(e){var t=this.renderer,r=t.gl,a=e._webGL[this.CONTEXT_UID],o;a&&e.dirty===a.dirty||(this.updateGraphics(e),a=e._webGL[this.CONTEXT_UID]);var d=this.primitiveShader;t.bindShader(d),t.state.setBlendMode(e.blendMode);for(var l=0,i=a.data.length;l<i;l++){o=a.data[l];var n=o.shader;t.bindShader(n),n.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),n.uniforms.tint=(0,s.hex2rgb)(e.tint),n.uniforms.alpha=e.worldAlpha,t.bindVao(o.vao),o.nativeLines?r.drawArrays(r.LINES,0,o.points.length/6):o.vao.draw(r.TRIANGLE_STRIP,o.indices.length)}},t.prototype.updateGraphics=function(e){var t=this.renderer.gl,r=e._webGL[this.CONTEXT_UID];if(r||(r=e._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:t,clearDirty:-1,dirty:-1}),r.dirty=e.dirty,e.clearDirty!==r.clearDirty){r.clearDirty=e.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var a=void 0,o=void 0,i=r.lastIndex,s;i<e.graphicsData.length;i++)s=e.graphicsData[i],a=this.getWebGLData(r,0),s.nativeLines&&s.lineWidth&&(o=this.getWebGLData(r,0,!0),r.lastIndex++),s.type===d.SHAPES.POLY&&(0,y.default)(s,a,o),s.type===d.SHAPES.RECT?(0,b.default)(s,a,o):s.type===d.SHAPES.CIRC||s.type===d.SHAPES.ELIP?(0,E.default)(s,a,o):s.type===d.SHAPES.RREC&&(0,v.default)(s,a,o),r.lastIndex++;this.renderer.bindVao(null);for(var l=0;l<r.data.length;l++)a=r.data[l],a.dirty&&a.upload()},t.prototype.getWebGLData=function(e,t,r){var n=e.data[e.data.length-1];return(!n||n.nativeLines!==r||3.2e5<n.points.length)&&(n=this.graphicsDataPool.pop()||new f.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),n.nativeLines=r,n.reset(t),e.data.push(n)),n.dirty=!0,n},t}(u.default);t.default=R,c.default.registerPlugin('graphics',R)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(7),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(t,r,a){n(this,e),this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new o.default.VertexArrayObject(t,a).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,t.FLOAT,!1,24,8)}return e.prototype.reset=function(){this.points.length=0,this.indices.length=0},e.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},e.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},e}();t.default=i},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(18),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(r){return n(this,t),a(this,e.call(this,r,'attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}','varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}'))}return o(t,e),t}(s.default);t.default=d},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e,t,n){e.points=e.shape.points.slice();var a=e.points;if(e.fill&&6<=a.length){for(var l=[],u=e.holes,p=0,i;p<u.length;p++)i=u[p],l.push(a.length/2),a=a.concat(i.points);var c=t.points,h=t.indices,f=a.length/2,m=(0,s.hex2rgb)(e.fillColor),_=e.fillAlpha,y=m[0]*_,r=m[1]*_,g=m[2]*_,x=(0,d.default)(a,l,2);if(!x)return;for(var b=c.length/6,T=0;T<x.length;T+=3)h.push(x[T]+b),h.push(x[T]+b),h.push(x[T+1]+b),h.push(x[T+2]+b),h.push(x[T+2]+b);for(var v=0;v<f;v++)c.push(a[2*v],a[2*v+1],y,r,g,_)}0<e.lineWidth&&(0,o.default)(e,t,n)};var a=r(24),o=n(a),s=r(2),i=r(70),d=n(i)},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e,t,n){var i=e.shape,s=i.x,d=i.y,l=i.width,u=i.height;if(e.fill){var p=(0,o.hex2rgb)(e.fillColor),c=e.fillAlpha,h=p[0]*c,r=p[1]*c,f=p[2]*c,g=t.points,m=t.indices,_=g.length/6;g.push(s,d),g.push(h,r,f,c),g.push(s+l,d),g.push(h,r,f,c),g.push(s,d+u),g.push(h,r,f,c),g.push(s+l,d+u),g.push(h,r,f,c),m.push(_,_,_+1,_+2,_+3,_+3)}if(e.lineWidth){var y=e.points;e.points=[s,d,s+l,d,s+l,d+u,s,d+u,s,d],(0,a.default)(e,t,n),e.points=y}};var n=r(24),a=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(2)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return e+(t-e)*r}function o(e,t,r,o,s,d){for(var l=6<arguments.length&&arguments[6]!==void 0?arguments[6]:[],u=20,n=l,p=0,c=0,h=0,f=0,g=0,m=0,_=0,i=0;_<=u;++_)i=_/u,p=a(e,r,i),c=a(t,o,i),h=a(r,s,i),f=a(o,d,i),g=a(p,h,i),m=a(c,f,i),n.push(g,m);return n}t.__esModule=!0,t.default=function(e,t,n){var a=e.shape,d=a.x,p=a.y,c=a.width,h=a.height,f=a.radius,m=[];if(m.push(d,p+f),o(d,p+h-f,d,p+h,d+f,p+h,m),o(d+c-f,p+h,d+c,p+h,d+c,p+h-f,m),o(d+c,p+f,d+c,p,d+c-f,p,m),o(d+f,p,d,p,d,p+f+1e-10,m),e.fill){for(var _=(0,u.hex2rgb)(e.fillColor),y=e.fillAlpha,x=_[0]*y,r=_[1]*y,g=_[2]*y,b=t.points,T=t.indices,v=b.length/6,S=(0,s.default)(m,null,2),E=0,i=S.length;E<i;E+=3)T.push(S[E]+v),T.push(S[E]+v),T.push(S[E+1]+v),T.push(S[E+2]+v),T.push(S[E+2]+v);for(var R=0,A=m.length;R<A;R++)b.push(m[R],m[++R],x,r,g,y)}if(e.lineWidth){var I=e.points;e.points=m,(0,l.default)(e,t,n),e.points=I}};var i=r(70),s=n(i),d=r(24),l=n(d),u=r(2)},function(e,t,r){'use strict';var n=Math.floor,a=Math.sin,o=Math.cos,s=Math.sqrt;t.__esModule=!0,t.default=function(e,t,p){var c=e.shape,h=c.x,f=c.y,m,_;if(e.type===l.SHAPES.CIRC?(m=c.radius,_=c.radius):(m=c.width,_=c.height),0!==m&&0!==_){var y=n(30*s(c.radius))||n(15*s(c.width+c.height)),x=2*Math.PI/y;if(e.fill){var T=(0,u.hex2rgb)(e.fillColor),v=e.fillAlpha,S=T[0]*v,r=T[1]*v,g=T[2]*v,b=t.points,E=t.indices,R=b.length/6;E.push(R);for(var A=0;A<y+1;A++)b.push(h,f,S,r,g,v),b.push(h+a(x*A)*m,f+o(x*A)*_,S,r,g,v),E.push(R++,R++);E.push(R-1)}if(e.lineWidth){var i=e.points;e.points=[];for(var I=0;I<y+1;I++)e.points.push(h+a(x*I)*m,f+o(x*I)*_);(0,d.default)(e,t,p),e.points=i}}};var i=r(24),d=function(e){return e&&e.__esModule?e:{default:e}}(i),l=r(1),u=r(2)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(16),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=r(1),i=function(){function e(t){n(this,e),this.renderer=t}return e.prototype.render=function(e){var t=this.renderer,r=t.context,n=e.worldAlpha,a=e.transform.worldTransform,o=t.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(a.a*o,a.b*o,a.c*o,a.d*o,a.tx*o,a.ty*o),e.dirty&&(this.updateGraphicsTint(e),e.dirty=!1),t.setBlendMode(e.blendMode);for(var d=0;d<e.graphicsData.length;d++){var i=e.graphicsData[d],l=i.shape,u=i._fillTint,p=i._lineTint;if(r.lineWidth=i.lineWidth,i.type===s.SHAPES.POLY){r.beginPath(),this.renderPolygon(l.points,l.closed,r);for(var c=0;c<i.holes.length;c++)this.renderPolygon(i.holes[c].points,!0,r);i.fill&&(r.globalAlpha=i.fillAlpha*n,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*n,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.stroke())}else if(i.type===s.SHAPES.RECT)(i.fillColor||0===i.fillColor)&&(r.globalAlpha=i.fillAlpha*n,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fillRect(l.x,l.y,l.width,l.height)),i.lineWidth&&(r.globalAlpha=i.lineAlpha*n,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.strokeRect(l.x,l.y,l.width,l.height));else if(i.type===s.SHAPES.CIRC)r.beginPath(),r.arc(l.x,l.y,l.radius,0,2*Math.PI),r.closePath(),i.fill&&(r.globalAlpha=i.fillAlpha*n,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*n,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.stroke());else if(i.type===s.SHAPES.ELIP){var f=2*l.width,g=2*l.height,h=l.x-f/2,m=l.y-g/2;r.beginPath();var _=0.5522848,y=f/2*_,x=g/2*_,b=h+f,T=m+g,v=h+f/2,S=m+g/2;r.moveTo(h,S),r.bezierCurveTo(h,S-x,v-y,m,v,m),r.bezierCurveTo(v+y,m,b,S-x,b,S),r.bezierCurveTo(b,S+x,v+y,T,v,T),r.bezierCurveTo(v-y,T,h,S+x,h,S),r.closePath(),i.fill&&(r.globalAlpha=i.fillAlpha*n,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*n,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.stroke())}else if(i.type===s.SHAPES.RREC){var E=l.x,R=l.y,A=l.width,I=l.height,D=l.radius,P=0|Math.min(A,I)/2;D=D>P?P:D,r.beginPath(),r.moveTo(E,R+D),r.lineTo(E,R+I-D),r.quadraticCurveTo(E,R+I,E+D,R+I),r.lineTo(E+A-D,R+I),r.quadraticCurveTo(E+A,R+I,E+A,R+I-D),r.lineTo(E+A,R+D),r.quadraticCurveTo(E+A,R,E+A-D,R),r.lineTo(E+D,R),r.quadraticCurveTo(E,R,E,R+D),r.closePath(),(i.fillColor||0===i.fillColor)&&(r.globalAlpha=i.fillAlpha*n,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*n,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.stroke())}}},e.prototype.updateGraphicsTint=function(e){e._prevTint=e.tint;for(var t=(255&e.tint>>16)/255,r=(255&e.tint>>8)/255,n=(255&e.tint)/255,a=0;a<e.graphicsData.length;++a){var o=e.graphicsData[a],i=0|o.fillColor,s=0|o.lineColor;o._fillTint=(255*((255&i>>16)/255*t)<<16)+(255*((255&i>>8)/255*r)<<8)+255*((255&i)/255*n),o._lineTint=(255*((255&s>>16)/255*t)<<16)+(255*((255&s>>8)/255*r)<<8)+255*((255&s)/255*n)}},e.prototype.renderPolygon=function(e,t,r){r.moveTo(e[0],e[1]);for(var n=1;n<e.length/2;++n)r.lineTo(e[2*n],e[2*n+1]);t&&r.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();t.default=i,o.default.registerPlugin('graphics',i)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=Math.floor;t.__esModule=!0;var o=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),i=r(2),d=function(){function e(t,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;n(this,e),this.baseTexture=t,this.textures={},this.data=r,this.resolution=this._updateResolution(a||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return o(e,null,[{key:'BATCH_SIZE',get:function(){return 1e3}}]),e.prototype._updateResolution=function(e){var t=this.data.meta.scale,r=(0,i.getResolutionOfUrl)(e,null);return null===r&&(r=void 0===t?1:parseFloat(t)),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,n=e.BATCH_SIZE,o=this.baseTexture.sourceScale;r-t<n&&r<this._frameKeys.length;){var d=this._frameKeys[r],i=this._frames[d].frame;if(i){var l=null,u=null,p=new s.Rectangle(0,0,a(this._frames[d].sourceSize.w*o)/this.resolution,a(this._frames[d].sourceSize.h*o)/this.resolution);l=this._frames[d].rotated?new s.Rectangle(a(i.x*o)/this.resolution,a(i.y*o)/this.resolution,a(i.h*o)/this.resolution,a(i.w*o)/this.resolution):new s.Rectangle(a(i.x*o)/this.resolution,a(i.y*o)/this.resolution,a(i.w*o)/this.resolution,a(i.h*o)/this.resolution),this._frames[d].trimmed&&(u=new s.Rectangle(a(this._frames[d].spriteSourceSize.x*o)/this.resolution,a(this._frames[d].spriteSourceSize.y*o)/this.resolution,a(i.w*o)/this.resolution,a(i.h*o)/this.resolution)),this.textures[d]=new s.Texture(this.baseTexture,l,p,u,this._frames[d].rotated?2:0),s.Texture.addToCache(this.textures[d],d)}r++}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():t._parseComplete()},0)},e.prototype.destroy=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(var t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&this.baseTexture.destroy(),this.baseTexture=null},e}();t.default=d},function(e,t){'use strict';function r(e){var t=new Error().stack;'undefined'==typeof t?console.warn('Deprecation Warning: ',e):(t=t.split('\n').splice(3).join('\n'),console.groupCollapsed?(console.groupCollapsed('%cDeprecation Warning: %c%s','color:#614108;background:#fffbe6','font-weight:normal;color:#614108;background:#fffbe6',e),console.warn(t),console.groupEnd()):(console.warn('Deprecation Warning: ',e),console.warn(t)))}t.__esModule=!0,t.default=function(e){var t=e.mesh,n=e.particles,a=e.extras,o=e.filters,s=e.prepare,d=e.loaders,l=e.interaction;Object.defineProperties(e,{SpriteBatch:{get:function(){throw new ReferenceError('SpriteBatch does not exist any more, please use the new ParticleContainer instead.')}},AssetLoader:{get:function(){throw new ReferenceError('The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.')}},Stage:{get:function(){return r('You do not need to use a PIXI Stage any more, you can simply render any container.'),e.Container}},DisplayObjectContainer:{get:function(){return r('DisplayObjectContainer has been shortened to Container, please use Container from now on.'),e.Container}},Strip:{get:function(){return r('The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.'),t.Mesh}},Rope:{get:function(){return r('The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.'),t.Rope}},ParticleContainer:{get:function(){return r('The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.'),n.ParticleContainer}},MovieClip:{get:function(){return r('The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.'),a.AnimatedSprite}},TilingSprite:{get:function(){return r('The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.'),a.TilingSprite}},BitmapText:{get:function(){return r('The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.'),a.BitmapText}},blendModes:{get:function(){return r('The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.'),e.BLEND_MODES}},scaleModes:{get:function(){return r('The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.'),e.SCALE_MODES}},BaseTextureCache:{get:function(){return r('The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.'),e.utils.BaseTextureCache}},TextureCache:{get:function(){return r('The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.'),e.utils.TextureCache}},math:{get:function(){return r('The math namespace is deprecated, please access members already accessible on PIXI.'),e}},AbstractFilter:{get:function(){return r('AstractFilter has been renamed to Filter, please use PIXI.Filter'),e.Filter}},TransformManual:{get:function(){return r('TransformManual has been renamed to TransformBase, please update your pixi-spine'),e.TransformBase}},TARGET_FPMS:{get:function(){return r('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS'),e.settings.TARGET_FPMS},set:function(t){r('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS'),e.settings.TARGET_FPMS=t}},FILTER_RESOLUTION:{get:function(){return r('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION'),e.settings.FILTER_RESOLUTION},set:function(t){r('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION'),e.settings.FILTER_RESOLUTION=t}},RESOLUTION:{get:function(){return r('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION'),e.settings.RESOLUTION},set:function(t){r('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION'),e.settings.RESOLUTION=t}},MIPMAP_TEXTURES:{get:function(){return r('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES'),e.settings.MIPMAP_TEXTURES},set:function(t){r('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES'),e.settings.MIPMAP_TEXTURES=t}},SPRITE_BATCH_SIZE:{get:function(){return r('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE'),e.settings.SPRITE_BATCH_SIZE},set:function(t){r('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE'),e.settings.SPRITE_BATCH_SIZE=t}},SPRITE_MAX_TEXTURES:{get:function(){return r('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES'),e.settings.SPRITE_MAX_TEXTURES},set:function(t){r('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES'),e.settings.SPRITE_MAX_TEXTURES=t}},RETINA_PREFIX:{get:function(){return r('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX'),e.settings.RETINA_PREFIX},set:function(t){r('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX'),e.settings.RETINA_PREFIX=t}},DEFAULT_RENDER_OPTIONS:{get:function(){return r('PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS'),e.settings.RENDER_OPTIONS}}});for(var u=[{parent:'TRANSFORM_MODE',target:'TRANSFORM_MODE'},{parent:'GC_MODES',target:'GC_MODE'},{parent:'WRAP_MODES',target:'WRAP_MODE'},{parent:'SCALE_MODES',target:'SCALE_MODE'},{parent:'PRECISION',target:'PRECISION_FRAGMENT'}],p=function(t){var n=u[t];Object.defineProperty(e[n.parent],'DEFAULT',{get:function(){return r('PIXI.'+n.parent+'.DEFAULT has been deprecated, '+('please use PIXI.settings.'+n.target)),e.settings[n.target]},set:function(t){r('PIXI.'+n.parent+'.DEFAULT has been deprecated, '+('please use PIXI.settings.'+n.target)),e.settings[n.target]=t}})},c=0;c<u.length;c++)p(c);Object.defineProperties(e.settings,{PRECISION:{get:function(){return r('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT'),e.settings.PRECISION_FRAGMENT},set:function(t){r('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT'),e.settings.PRECISION_FRAGMENT=t}}}),a.AnimatedSprite&&Object.defineProperties(a,{MovieClip:{get:function(){return r('The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.'),a.AnimatedSprite}}}),e.DisplayObject.prototype.generateTexture=function(e,t,n){return r('generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)'),e.generateTexture(this,t,n)},e.Graphics.prototype.generateTexture=function(e,t){return r('graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture'),this.generateCanvasTexture(e,t)},e.RenderTexture.prototype.render=function(e,t,n,a){this.legacyRenderer.render(e,this,n,t,!a),r('RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)')},e.RenderTexture.prototype.getImage=function(e){return r('RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)'),this.legacyRenderer.extract.image(e)},e.RenderTexture.prototype.getBase64=function(e){return r('RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)'),this.legacyRenderer.extract.base64(e)},e.RenderTexture.prototype.getCanvas=function(e){return r('RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)'),this.legacyRenderer.extract.canvas(e)},e.RenderTexture.prototype.getPixels=function(e){return r('RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)'),this.legacyRenderer.pixels(e)},e.Sprite.prototype.setTexture=function(e){this.texture=e,r('setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;')},a.BitmapText&&(a.BitmapText.prototype.setText=function(e){this.text=e,r('setText is now deprecated, please use the text property, e.g : myBitmapText.text = \'my text\';')}),e.Text.prototype.setText=function(e){this.text=e,r('setText is now deprecated, please use the text property, e.g : myText.text = \'my text\';')},e.Text.calculateFontProperties=function(t){return r('Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont'),e.TextMetrics.measureFont(t)},Object.defineProperties(e.Text,{fontPropertiesCache:{get:function(){return r('Text.fontPropertiesCache is deprecated'),e.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return r('Text.fontPropertiesCanvas is deprecated'),e.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return r('Text.fontPropertiesContext is deprecated'),e.TextMetrics._context}}}),e.Text.prototype.setStyle=function(e){this.style=e,r('setStyle is now deprecated, please use the style property, e.g : myText.style = style;')},e.Text.prototype.determineFontProperties=function(t){return r('determineFontProperties is now deprecated, please use TextMetrics.measureFont method'),e.TextMetrics.measureFont(t)},e.Text.getFontStyle=function(t){return r('getFontStyle is now deprecated, please use TextStyle.toFontString() instead'),t=t||{},t instanceof e.TextStyle||(t=new e.TextStyle(t)),t.toFontString()},Object.defineProperties(e.TextStyle.prototype,{font:{get:function(){r('text style property \'font\' is now deprecated, please use the \'fontFamily\', \'fontSize\', \'fontStyle\', \'fontVariant\' and \'fontWeight\' properties from now on');var e='number'==typeof this._fontSize?this._fontSize+'px':this._fontSize;return this._fontStyle+' '+this._fontVariant+' '+this._fontWeight+' '+e+' '+this._fontFamily},set:function(e){r('text style property \'font\' is now deprecated, please use the \'fontFamily\',\'fontSize\',fontStyle\',\'fontVariant\' and \'fontWeight\' properties from now on'),this._fontStyle=1<e.indexOf('italic')?'italic':-1<e.indexOf('oblique')?'oblique':'normal',this._fontVariant=-1<e.indexOf('small-caps')?'small-caps':'normal';var t=e.split(' '),n=-1;this._fontSize=26;for(var a=0;a<t.length;++a)if(t[a].match(/(px|pt|em|%)/)){n=a,this._fontSize=t[a];break}this._fontWeight='normal';for(var o=0;o<n;++o)if(t[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=t[o];break}if(-1<n&&n<t.length-1){this._fontFamily='';for(var i=n+1;i<t.length;++i)this._fontFamily+=t[i]+' ';this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily='Arial';this.styleID++}}}),e.Texture.prototype.setFrame=function(e){this.frame=e,r('setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;')},e.Texture.addTextureToCache=function(t,n){e.Texture.addToCache(t,n),r('Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.')},e.Texture.removeTextureFromCache=function(t){return r('Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache'),e.BaseTexture.removeFromCache(t),e.Texture.removeFromCache(t)},Object.defineProperties(o,{AbstractFilter:{get:function(){return r('AstractFilter has been renamed to Filter, please use PIXI.Filter'),e.AbstractFilter}},SpriteMaskFilter:{get:function(){return r('filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.'),e.SpriteMaskFilter}}}),e.utils.uuid=function(){return r('utils.uuid() is deprecated, please use utils.uid() from now on.'),e.utils.uid()},e.utils.canUseNewCanvasBlendModes=function(){return r('utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on'),e.CanvasTinter.canUseMultiply};var i=!0;if(Object.defineProperty(e.utils,'_saidHello',{set:function(e){e&&(r('PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()'),this.skipHello()),i=e},get:function(){return i}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(e,t){return r('renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook'),e&&this.registerFindHook(e),t&&this.registerUploadHook(t),this}),s.canvas&&Object.defineProperty(s.canvas,'UPLOADS_PER_FRAME',{set:function(){r('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer')},get:function(){return r('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter'),NaN}}),s.webgl&&Object.defineProperty(s.webgl,'UPLOADS_PER_FRAME',{set:function(){r('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer')},get:function(){return r('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter'),NaN}}),d.Loader){var h=d.Resource,f=d.Loader;Object.defineProperties(h.prototype,{isJson:{get:function(){return r('The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.'),this.type===h.TYPE.JSON}},isXml:{get:function(){return r('The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.'),this.type===h.TYPE.XML}},isImage:{get:function(){return r('The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.'),this.type===h.TYPE.IMAGE}},isAudio:{get:function(){return r('The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.'),this.type===h.TYPE.AUDIO}},isVideo:{get:function(){return r('The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.'),this.type===h.TYPE.VIDEO}}}),Object.defineProperties(f.prototype,{before:{get:function(){return r('The before() method is deprecated, please use pre().'),this.pre}},after:{get:function(){return r('The after() method is deprecated, please use use().'),this.use}}})}l.interactiveTarget&&Object.defineProperty(l.interactiveTarget,'defaultCursor',{set:function(e){r('Property defaultCursor has been replaced with \'cursor\'. '),this.cursor=e},get:function(){return r('Property defaultCursor has been replaced with \'cursor\'. '),this.cursor}}),l.InteractionManager&&(Object.defineProperty(l.InteractionManager,'defaultCursorStyle',{set:function(e){r('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. '),this.cursorStyles.default=e},get:function(){return r('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. '),this.cursorStyles.default}}),Object.defineProperty(l.InteractionManager,'currentCursorStyle',{set:function(e){r('Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.'),this.currentCursorMode=e},get:function(){return r('Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.'),this.currentCursorMode}}))}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(73);Object.defineProperty(t,'accessibleTarget',{enumerable:!0,get:function(){return n(a).default}});var o=r(162);Object.defineProperty(t,'AccessibilityManager',{enumerable:!0,get:function(){return n(o).default}})},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),i=r(31),d=n(i),l=r(73),u=n(l);s.utils.mixins.delayMixin(s.DisplayObject.prototype,u.default);var p=100,c=2,h=1,f=function(){function e(t){a(this,e),(d.default.tablet||d.default.phone)&&!navigator.isCocoonJS&&this.createTouchHook();var r=document.createElement('div');r.style.width=p+'px',r.style.height=p+'px',r.style.position='absolute',r.style.top=0+'px',r.style.left=0+'px',r.style.zIndex=c,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener('keydown',this._onKeyDown,!1)}return e.prototype.createTouchHook=function(){var e=this,t=document.createElement('button');t.style.width=h+'px',t.style.height=h+'px',t.style.position='absolute',t.style.top=-1e3+'px',t.style.left=-1e3+'px',t.style.zIndex=2,t.style.backgroundColor='#FF0000',t.title='HOOK DIV',t.addEventListener('focus',function(){e.isMobileAccessabillity=!0,e.activate(),document.body.removeChild(t)}),document.body.appendChild(t)},e.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener('mousemove',this._onMouseMove,!0),window.removeEventListener('keydown',this._onKeyDown,!1),this.renderer.on('postrender',this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){!this.isActive||this.isMobileAccessabillity||(this.isActive=!1,window.document.removeEventListener('mousemove',this._onMouseMove),window.addEventListener('keydown',this._onKeyDown,!1),this.renderer.off('postrender',this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible){e.accessible&&e.interactive&&(!e._accessibleActive&&this.addChild(e),e.renderId=this.renderId);for(var t=e.children,r=t.length-1;0<=r;r--)this.updateAccessibleObjects(t[r])}},e.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=e.width/this.renderer.width,r=e.height/this.renderer.height,n=this.div;n.style.left=e.left+'px',n.style.top=e.top+'px',n.style.width=this.renderer.width+'px',n.style.height=this.renderer.height+'px';for(var a=0,o;a<this.children.length;a++)if(o=this.children[a],o.renderId!==this.renderId)o._accessibleActive=!1,s.utils.removeItems(this.children,a,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,a--,0===this.children.length&&this.deactivate();else{n=o._accessibleDiv;var i=o.hitArea,d=o.worldTransform;o.hitArea?(n.style.left=(d.tx+i.x*d.a)*t+'px',n.style.top=(d.ty+i.y*d.d)*r+'px',n.style.width=i.width*d.a*t+'px',n.style.height=i.height*d.d*r+'px'):(i=o.getBounds(),this.capHitArea(i),n.style.left=i.x*t+'px',n.style.top=i.y*r+'px',n.style.width=i.width*t+'px',n.style.height=i.height*r+'px')}this.renderId++}},e.prototype.capHitArea=function(e){0>e.x&&(e.width+=e.x,e.x=0),0>e.y&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement('button'),t.style.width=p+'px',t.style.height=p+'px',t.style.backgroundColor=this.debug?'rgba(255,0,0,0.5)':'transparent',t.style.position='absolute',t.style.zIndex=c,t.style.borderStyle='none',t.addEventListener('click',this._onClick.bind(this)),t.addEventListener('focus',this._onFocus.bind(this)),t.addEventListener('focusout',this._onFocusOut.bind(this))),e.accessibleTitle?t.title=e.accessibleTitle:!e.accessibleTitle&&!e.accessibleHint&&(t.title='displayObject '+this.tabIndex),e.accessibleHint&&t.setAttribute('aria-label',e.accessibleHint),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,'click',e.eventData)},e.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,'mouseover',e.eventData)},e.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,'mouseout',e.eventData)},e.prototype._onKeyDown=function(t){t.keyCode!==9||this.activate()},e.prototype._onMouseMove=function(){this.deactivate()},e.prototype.destroy=function(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener('mousemove',this._onMouseMove),window.removeEventListener('keydown',this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();t.default=f,s.WebGLRenderer.registerPlugin('accessibility',f),s.CanvasRenderer.registerPlugin('accessibility',f)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(164);Object.defineProperty(t,'webgl',{enumerable:!0,get:function(){return n(a).default}});var o=r(165);Object.defineProperty(t,'canvas',{enumerable:!0,get:function(){return n(o).default}})},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),i=new o.Rectangle,s=4,d=function(){function e(t){n(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,r=!1,n,a,d,l;e&&(e instanceof o.RenderTexture?l=e:l=this.renderer.generateTexture(e)),l?(n=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=n.resolution,d=l.frame,r=!1):(n=this.renderer.rootRenderTarget,a=n.resolution,r=!0,d=i,d.width=n.size.width,d.height=n.size.height);var u=d.width*a,p=d.height*a,c=new o.CanvasRenderTarget(u,p);if(n){t.bindRenderTarget(n);var h=new Uint8Array(s*u*p),f=t.gl;f.readPixels(d.x*a,d.y*a,u,p,f.RGBA,f.UNSIGNED_BYTE,h);var g=c.context.getImageData(0,0,u,p);g.data.set(h),c.context.putImageData(g,0,0),r&&(c.context.scale(1,-1),c.context.drawImage(c.canvas,0,-p))}return c.canvas},e.prototype.pixels=function(e){var t=this.renderer,r,n,a,d;e&&(e instanceof o.RenderTexture?d=e:d=this.renderer.generateTexture(e)),d?(r=d.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,a=d.frame):(r=this.renderer.rootRenderTarget,n=r.resolution,a=i,a.width=r.size.width,a.height=r.size.height);var l=a.width*n,u=a.height*n,p=new Uint8Array(s*l*u);if(r){t.bindRenderTarget(r);var c=t.gl;c.readPixels(a.x*n,a.y*n,l,u,c.RGBA,c.UNSIGNED_BYTE,p)}return p},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();t.default=d,o.WebGLRenderer.registerPlugin('extract',d)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),i=new o.Rectangle,s=function(){function e(t){n(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,r,n,a,s;e&&(e instanceof o.RenderTexture?s=e:s=t.generateTexture(e)),s?(r=s.baseTexture._canvasRenderTarget.context,n=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(r=t.rootContext,a=i,a.width=this.renderer.width,a.height=this.renderer.height);var d=a.width*n,l=a.height*n,u=new o.CanvasRenderTarget(d,l),p=r.getImageData(a.x*n,a.y*n,d,l);return u.context.putImageData(p,0,0),u.canvas},e.prototype.pixels=function(e){var t=this.renderer,r,n,a,s;return e&&(e instanceof o.RenderTexture?s=e:s=t.generateTexture(e)),s?(r=s.baseTexture._canvasRenderTarget.context,n=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(r=t.rootContext,a=i,a.width=t.width,a.height=t.height),r.getImageData(0,0,a.width*n,a.height*n).data},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();t.default=s,o.CanvasRenderer.registerPlugin('extract',s)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Math.floor;t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),u=function(e){function t(r,o){n(this,t);var i=a(this,e.call(this,r[0]instanceof l.Texture?r[0]:r[0].texture));return i._textures=null,i._durations=null,i.textures=r,i._autoUpdate=!1!==o,i.animationSpeed=1,i.loop=!0,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i.playing=!1,i}return o(t,e),t.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&l.ticker.shared.remove(this.update,this))},t.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&l.ticker.shared.add(this.update,this,l.UPDATE_PRIORITY.HIGH))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){var t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=1e3*(t/60);0>n;)this._currentTime--,n+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*e);for(this._currentTime=i(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=t;0>this._currentTime&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<r?this.onLoop():0>this.animationSpeed&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},t.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t)},t.fromFrames=function(e){for(var r=[],n=0;n<e.length;++n)r.push(l.Texture.fromFrame(e[n]));return new t(r)},t.fromImages=function(e){for(var r=[],n=0;n<e.length;++n)r.push(l.Texture.fromImage(e[n]));return new t(r)},s(t,[{key:'totalFrames',get:function(){return this._textures.length}},{key:'textures',get:function(){return this._textures},set:function(e){if(e[0]instanceof l.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this.gotoAndStop(0),this.updateTexture()}},{key:'currentFrame',get:function(){var e=i(this._currentTime)%this._textures.length;return 0>e&&(e+=this._textures.length),e}}]),t}(l.Sprite);t.default=u},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),u=r(37),p=n(u),c=r(39),h=n(c),f=new l.Point,g=function(e){function t(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;a(this,t);var s=o(this,e.call(this,r));return s.tileTransform=new l.TransformStatic,s._width=n,s._height=i,s._canvasPattern=null,s.uvTransform=r.transform||new h.default(r),s.pluginName='tilingSprite',s.uvRespectAnchor=!1,s}return i(t,e),t.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},t.prototype._renderWebGL=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.hasLoaded){var r=e.context,n=this.worldTransform,a=e.resolution,o=t.baseTexture,i=o.resolution,s=this.tilePosition.x/this.tileScale.x%t._frame.width*i,d=this.tilePosition.y/this.tileScale.y%t._frame.height*i;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var u=new l.CanvasRenderTarget(t._frame.width,t._frame.height,i);16777215===this.tint?u.context.drawImage(o.source,-t._frame.x*i,-t._frame.y*i):(this.tintedTexture=p.default.getTintedTexture(this,this.tint),u.context.drawImage(this.tintedTexture,0,0)),this.cachedTint=this.tint,this._canvasPattern=u.context.createPattern(u.canvas,'repeat')}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*a,n.b*a,n.c*a,n.d*a,n.tx*a,n.ty*a),e.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/i,this.tileScale.y/i);var c=this.anchor.x*-this._width,h=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(s,d),r.fillRect(-s+c,-d+h,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i)):(r.translate(s+c,d+h),r.fillRect(-s,-d,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i))}},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,n)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),t||(!this._localBoundsRect&&(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,f);var t=this._width,r=this._height,n=-t*this.anchor._x;if(f.x>=n&&f.x<n+t){var a=-r*this.anchor._y;if(f.y>=a&&f.y<a+r)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvTransform=null},t.from=function(e,r,n){return new t(l.Texture.from(e),r,n)},t.fromFrame=function(e,r,n){var a=l.utils.TextureCache[e];if(!a)throw new Error('The frameId "'+e+'" does not exist in the texture cache '+this);return new t(a,r,n)},t.fromImage=function(e,r,n,a,o){return new t(l.Texture.fromImage(e,a,o),r,n)},s(t,[{key:'clampMargin',get:function(){return this.uvTransform.clampMargin},set:function(e){this.uvTransform.clampMargin=e,this.uvTransform.update(!0)}},{key:'tileScale',get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copy(e)}},{key:'tilePosition',get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copy(e)}},{key:'width',get:function(){return this._width},set:function(e){this._width=e}},{key:'height',get:function(){return this._height},set:function(e){this._height=e}}]),t}(l.Sprite);t.default=g},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i),d=r(1),l=r(8),u=new s.Matrix,p=function(e){function t(r){n(this,t);var o=a(this,e.call(this,r));return o.shader=null,o.simpleShader=null,o.quad=null,o}return o(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new s.Shader(e,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n'),this.simpleShader=new s.Shader(e,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n'),this.renderer.bindVao(null),this.quad=new s.Quad(e,this.renderer.state.attribState),this.quad.initVao(this.shader)},t.prototype.render=function(e){var t=this.renderer,r=this.quad;t.bindVao(r.vao);var n=r.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&(n=r.uvs,n[0]=n[6]=-e.anchor.x,n[1]=n[3]=-e.anchor.y,n[2]=n[4]=1-e.anchor.x,n[5]=n[7]=1-e.anchor.y),r.upload();var a=e._texture,o=a.baseTexture,i=e.tileTransform.localTransform,l=e.uvTransform,p=o.isPowerOfTwo&&a.frame.width===o.width&&a.frame.height===o.height;p&&(o._glTextures[t.CONTEXT_UID]?p=o.wrapMode!==d.WRAP_MODES.CLAMP:o.wrapMode===d.WRAP_MODES.CLAMP&&(o.wrapMode=d.WRAP_MODES.REPEAT));var c=p?this.simpleShader:this.shader;t.bindShader(c);var f=a.width,g=a.height,h=e._width,m=e._height;u.set(i.a*f/h,i.b*f/m,i.c*g/h,i.d*g/m,i.tx/h,i.ty/m),u.invert(),p?u.prepend(l.mapCoord):(c.uniforms.uMapCoord=l.mapCoord.toArray(!0),c.uniforms.uClampFrame=l.uClampFrame,c.uniforms.uClampOffset=l.uClampOffset),c.uniforms.uTransform=u.toArray(!0),c.uniforms.uColor=s.utils.premultiplyTintToRgba(e.tint,e.worldAlpha,c.uniforms.uColor,o.premultipliedAlpha),c.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),c.uniforms.uSampler=t.bindTexture(a),t.setBlendMode(s.utils.correctBlendMode(e.blendMode,o.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},t}(s.ObjectRenderer);t.default=p,s.WebGLRenderer.registerPlugin('tilingSprite',p)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.max;t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),p=r(42),c=n(p),h=r(5),f=n(h),g=function(e){function t(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,t);var i=o(this,e.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0===n.tint?16777215:n.tint,align:n.align||'left',name:null,size:0},i.font=n.font,i._text=r,i._maxWidth=0,i._maxLineHeight=0,i._anchor=new c.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return i(t,e),t.prototype.updateText=function(){for(var e=t.fonts[this._font.name],r=this._font.size/e.size,n=new u.Point,a=[],o=[],d=null,l=0,p=0,h=0,f=-1,g=0,m=0,_=0,y=0,i;y<this.text.length;y++){if(i=this.text.charCodeAt(y),/(\s)/.test(this.text.charAt(y))&&(f=y,g=l),/(?:\r\n|\r|\n)/.test(this.text.charAt(y))){o.push(l),p=s(p,l),h++,n.x=0,n.y+=e.lineHeight,d=null;continue}if(-1!==f&&0<this._maxWidth&&n.x*r>this._maxWidth){u.utils.removeItems(a,f-m,y-f),y=f,f=-1,++m,o.push(g),p=s(p,g),h++,n.x=0,n.y+=e.lineHeight,d=null;continue}var x=e.chars[i];x&&(d&&x.kerning[d]&&(n.x+=x.kerning[d]),a.push({texture:x.texture,line:h,charCode:i,position:new u.Point(n.x+x.xOffset,n.y+x.yOffset)}),l=n.x+(x.texture.width+x.xOffset),n.x+=x.xAdvance,_=s(_,x.yOffset+x.texture.height),d=i)}o.push(l),p=s(p,l);for(var b=[],T=0,v;T<=h;T++)v=0,'right'===this._font.align?v=p-o[T]:'center'===this._font.align&&(v=(p-o[T])/2),b.push(v);for(var S=a.length,E=this.tint,R=0,A;R<S;R++)A=this._glyphs[R],A?A.texture=a[R].texture:(A=new u.Sprite(a[R].texture),this._glyphs.push(A)),A.position.x=(a[R].position.x+b[a[R].line])*r,A.position.y=a[R].position.y*r,A.scale.x=A.scale.y=r,A.tint=E,A.parent||this.addChild(A);for(var c=S;c<this._glyphs.length;++c)this.removeChild(this._glyphs[c]);if(this._textWidth=p*r,this._textHeight=(n.y+e.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var I=0;I<S;I++)this._glyphs[I].x-=this._textWidth*this.anchor.x,this._glyphs[I].y-=this._textHeight*this.anchor.y;this._maxLineHeight=_*r},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},t.registerFont=function(e,r){var n={},a=e.getElementsByTagName('info')[0],o=e.getElementsByTagName('common')[0],s=r.baseTexture.resolution||f.default.RESOLUTION;n.font=a.getAttribute('face'),n.size=parseInt(a.getAttribute('size'),10),n.lineHeight=parseInt(o.getAttribute('lineHeight'),10)/s,n.chars={};for(var d=e.getElementsByTagName('char'),l=0;l<d.length;l++){var i=d[l],p=parseInt(i.getAttribute('id'),10),c=new u.Rectangle(parseInt(i.getAttribute('x'),10)/s+r.frame.x/s,parseInt(i.getAttribute('y'),10)/s+r.frame.y/s,parseInt(i.getAttribute('width'),10)/s,parseInt(i.getAttribute('height'),10)/s);n.chars[p]={xOffset:parseInt(i.getAttribute('xoffset'),10)/s,yOffset:parseInt(i.getAttribute('yoffset'),10)/s,xAdvance:parseInt(i.getAttribute('xadvance'),10)/s,kerning:{},texture:new u.Texture(r.baseTexture,c)}}for(var h=e.getElementsByTagName('kerning'),g=0;g<h.length;g++){var m=h[g],_=parseInt(m.getAttribute('first'),10)/s,y=parseInt(m.getAttribute('second'),10)/s,x=parseInt(m.getAttribute('amount'),10)/s;n.chars[y]&&(n.chars[y].kerning[_]=x)}return t.fonts[n.font]=n,n},d(t,[{key:'tint',get:function(){return this._font.tint},set:function(e){this._font.tint='number'==typeof e&&0<=e?e:16777215,this.dirty=!0}},{key:'align',get:function(){return this._font.align},set:function(e){this._font.align=e||'left',this.dirty=!0}},{key:'anchor',get:function(){return this._anchor},set:function(e){'number'==typeof e?this._anchor.set(e):this._anchor.copy(e)}},{key:'font',get:function(){return this._font},set:function(e){e&&('string'==typeof e?(e=e.split(' '),this._font.name=1===e.length?e[0]:e.slice(1).join(' '),this._font.size=2<=e.length?parseInt(e[0],10):t.fonts[this._font.name].size):(this._font.name=e.name,this._font.size='number'==typeof e.size?e.size:parseInt(e.size,10)),this.dirty=!0)}},{key:'text',get:function(){return this._text},set:function(e){e=e.toString()||' ',this._text===e||(this._text=e,this.dirty=!0)}},{key:'maxWidth',get:function(){return this._maxWidth},set:function(e){this._maxWidth===e||(this._maxWidth=e,this.dirty=!0)}},{key:'maxLineHeight',get:function(){return this.validate(),this._maxLineHeight}},{key:'textWidth',get:function(){return this.validate(),this._textWidth}},{key:'textHeight',get:function(){return this.validate(),this._textHeight}}]),t}(u.Container);t.default=g,g.fonts={}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var o=r(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),s=r(11),d=n(s),l=r(13),u=n(l),p=r(2),c=i.DisplayObject,h=new i.Matrix;c.prototype._cacheAsBitmap=!1,c.prototype._cacheData=!1;var f=function e(){a(this,e),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(c.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(!this._cacheData&&(this._cacheData=new f),t=this._cacheData,t.originalRenderWebGL=this.renderWebGL,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this._calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=t.originalRenderWebGL,this.renderCanvas=t.originalRenderCanvas,this._calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}}),c.prototype._renderCachedWebGL=function(e){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObject(e),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(e))},c.prototype._initCachedDisplayObject=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.alpha;this.alpha=1,e.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var n=this._filters[0].padding;r.pad(n)}var a=e._activeRenderTarget,o=e.filterManager.filterStack,s=i.RenderTexture.create(0|r.width,0|r.height),l='cacheAsBitmap_'+(0,p.uid)();this._cacheData.textureCacheId=l,u.default.addToCache(s.baseTexture,l),d.default.addToCache(s,l);var c=h;c.tx=-r.x,c.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,e.render(this,s,!0,c,!0),e.bindRenderTarget(a),e.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var f=new i.Sprite(s);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=t,f._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}},c.prototype._renderCachedCanvas=function(e){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(e))},c.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(),r=this.alpha;this.alpha=1;var n=e.context,a=i.RenderTexture.create(0|t.width,0|t.height),o='cacheAsBitmap_'+(0,p.uid)();this._cacheData.textureCacheId=o,u.default.addToCache(a.baseTexture,o),d.default.addToCache(a,o);var s=h;this.transform.localTransform.copy(s),s.invert(),s.tx-=t.x,s.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,a,!0,s,!1),e.context=n,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var l=new i.Sprite(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(t.x/t.width),l.anchor.y=-(t.y/t.height),l._bounds=this._bounds,l.alpha=r,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=l,this.containsPoint=l.containsPoint.bind(l)}},c.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},c.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},c.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,u.default.removeFromCache(this._cacheData.textureCacheId),d.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},c.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)}},function(e,t,r){'use strict';var n=r(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n);a.DisplayObject.prototype.name=null,a.Container.prototype.getChildByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null}},function(e,t,r){'use strict';var n=r(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n);a.DisplayObject.prototype.getGlobalPosition=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new a.Point,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(174);Object.defineProperty(t,'FXAAFilter',{enumerable:!0,get:function(){return n(a).default}});var o=r(175);Object.defineProperty(t,'NoiseFilter',{enumerable:!0,get:function(){return n(o).default}});var i=r(176);Object.defineProperty(t,'DisplacementFilter',{enumerable:!0,get:function(){return n(i).default}});var s=r(177);Object.defineProperty(t,'BlurFilter',{enumerable:!0,get:function(){return n(s).default}});var d=r(75);Object.defineProperty(t,'BlurXFilter',{enumerable:!0,get:function(){return n(d).default}});var l=r(79);Object.defineProperty(t,'BlurYFilter',{enumerable:!0,get:function(){return n(l).default}});var u=r(178);Object.defineProperty(t,'ColorMatrixFilter',{enumerable:!0,get:function(){return n(u).default}});var p=r(179);Object.defineProperty(t,'VoidFilter',{enumerable:!0,get:function(){return n(p).default}})},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i),d=r(8),l=function(e){function t(){return n(this,t),a(this,e.call(this,'\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}','varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return o(t,e),t}(s.Filter);t.default=l},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(8),u=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0.5,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();n(this,t);var i=a(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n'));return i.noise=r,i.seed=o,i}return o(t,e),i(t,[{key:'noise',get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e}},{key:'seed',get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e}}]),t}(d.Filter);t.default=u},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(8),u=function(e){function t(r,o){n(this,t);var i=new d.Matrix;r.renderable=!1;var s=a(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}','varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n'));return s.maskSprite=r,s.maskMatrix=i,s.uniforms.mapSampler=r._texture,s.uniforms.filterMatrix=i,s.uniforms.scale={x:1,y:1},(null===o||void 0===o)&&(o=20),s.scale=new d.Point(o,o),s}return o(t,e),t.prototype.apply=function(e,t,r){var n=1/r.destinationFrame.width*(r.size.width/t.size.width);this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*n,this.uniforms.scale.y=this.scale.y*n,e.applyFilter(this,t,r)},i(t,[{key:'map',get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),t}(d.Filter);t.default=u},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.max,d=Math.abs;t.__esModule=!0;var l=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),c=r(75),h=n(c),f=r(79),g=n(f),m=function(e){function t(r,n,i,s){a(this,t);var d=o(this,e.call(this));return d.blurXFilter=new h.default(r,n,i,s),d.blurYFilter=new g.default(r,n,i,s),d.padding=0,d.resolution=i||p.settings.RESOLUTION,d.quality=n||4,d.blur=r||8,d}return i(t,e),t.prototype.apply=function(e,t,r){var n=e.getRenderTarget(!0);this.blurXFilter.apply(e,t,n,!0),this.blurYFilter.apply(e,n,r,!1),e.returnRenderTarget(n)},l(t,[{key:'blur',get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*s(d(this.blurXFilter.strength),d(this.blurYFilter.strength))}},{key:'quality',get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:'blurX',get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.padding=2*s(d(this.blurXFilter.strength),d(this.blurYFilter.strength))}},{key:'blurY',get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.padding=2*s(d(this.blurXFilter.strength),d(this.blurYFilter.strength))}},{key:'blendMode',get:function(){return this.blurYFilter._blendMode},set:function(e){this.blurYFilter._blendMode=e}}]),t}(p.Filter);t.default=m},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(8),u=function(e){function t(){n(this,t);var r=a(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n'));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return o(t,e),t.prototype._loadMatrix=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)},t.prototype.greyscale=function(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var r=Math.cos(e),n=Math.sin(e),a=Math.sqrt,o=1/3,i=a(o);this._loadMatrix([r+(1-r)*o,o*(1-r)-i*n,o*(1-r)+i*n,0,0,o*(1-r)+i*n,r+o*(1-r),o*(1-r)-i*n,0,0,o*(1-r)-i*n,o*(1-r)+i*n,r+o*(1-r),0,0,0,0,0,1,0],t)},t.prototype.contrast=function(e,t){var r=(e||0)+1,n=-0.5*(r-1);this._loadMatrix([r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0],t)},t.prototype.saturate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],r=2*e/3+1,n=-0.5*(r-1);this._loadMatrix([r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0],t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([0.393,0.7689999,0.18899999,0,0,0.349,0.6859999,0.16799999,0,0,0.272,0.5339999,0.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-0.8545344976951645,-0.09155508482755585,0,11.793603434377337,-0.3087833385928097,1.7658908555458428,-0.10601743074722245,0,-70.35205161461398,-0.231103377548616,-0.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-0.3967382283601348,-0.03992559172921793,0,63.72958762196502,-0.16404339962244616,1.0835251566291304,-0.05498805115633132,0,24.732407896706203,-0.16786010706155763,-0.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([0.5997023498159715,0.34553243048391263,-0.2708298674538042,0,47.43192855600873,-0.037703249837783157,0.8609577587992641,0.15059552388459913,0,-36.96841498319127,0.24113635128153335,-0.07441037908422492,0.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([0.6279345635605994,0.3202183420819367,-0.03965408211312453,0,9.651285835294123,0.02578397704808868,0.6441188644374771,0.03259127616149294,0,7.462829176470591,0.0466055556782719,-0.0851232987247891,0.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,r,n,a){e=e||0.2,t=t||0.15,r=r||16770432,n=n||3375104;var o=(255&r>>16)/255,i=(255&r>>8)/255,s=(255&r)/255,d=(255&n>>16)/255,l=(255&n>>8)/255,u=(255&n)/255,p=[0.3,0.59,0.11,0,0,o,i,s,e,0,d,l,u,t,0,o-d,i-l,s-u,0,0];this._loadMatrix(p,a)},t.prototype.night=function(e,t){e=e||0.1;var r=[-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.predator=function(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,0.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,0.8044459223747253*e,0,0,0,1,0],t)},t.prototype.lsd=function(e){this._loadMatrix([2,-0.4,0.5,0,0,-0.5,2,-0.4,0,0,-0.4,-0.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i(t,[{key:'matrix',get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:'alpha',get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),t}(d.Filter);t.default=u,u.prototype.grayscale=u.prototype.greyscale},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i),d=r(8),l=function(e){function t(){n(this,t);var r=a(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n'));return r.glShaderKey='void',r}return o(t,e),t}(s.Filter);t.default=l},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(80);Object.defineProperty(t,'InteractionData',{enumerable:!0,get:function(){return n(a).default}});var o=r(181);Object.defineProperty(t,'InteractionManager',{enumerable:!0,get:function(){return n(o).default}});var i=r(83);Object.defineProperty(t,'interactiveTarget',{enumerable:!0,get:function(){return n(i).default}});var s=r(82);Object.defineProperty(t,'InteractionTrackingData',{enumerable:!0,get:function(){return n(s).default}});var d=r(81);Object.defineProperty(t,'InteractionEvent',{enumerable:!0,get:function(){return n(d).default}})},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},d=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),u=r(80),p=n(u),c=r(81),h=n(c),f=r(82),g=n(f),m=r(10),_=n(m),y=r(83),x=n(y);l.utils.mixins.delayMixin(l.DisplayObject.prototype,x.default);var b='MOUSE',T={target:null,data:{global:null}},v=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this));return n=n||{},i.renderer=r,i.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new p.default,i.mouse.identifier=b,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[b]=i.mouse,i.interactionDataPool=[],i.eventData=new h.default,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents='ontouchstart'in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:'inherit',pointer:'pointer'},i.currentCursorMode=null,i.cursor=null,i._tempPoint=new l.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return i(t,e),t.prototype.hitTest=function(e,t){return T.target=null,T.data.global=e,t||(t=this.renderer._lastObjectRendered),this.processInteractive(T,t,null,!0),T.target},t.prototype.setTargetElement=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents()},t.prototype.addEvents=function(){this.interactionDOMElement&&(l.ticker.shared.add(this.update,this,l.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style['-ms-content-zooming']='none',this.interactionDOMElement.style['-ms-touch-action']='none'):this.supportsPointerEvents&&(this.interactionDOMElement.style['touch-action']='none'),this.supportsPointerEvents?(window.document.addEventListener('pointermove',this.onPointerMove,!0),this.interactionDOMElement.addEventListener('pointerdown',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('pointerleave',this.onPointerOut,!0),this.interactionDOMElement.addEventListener('pointerover',this.onPointerOver,!0),window.addEventListener('pointercancel',this.onPointerCancel,!0),window.addEventListener('pointerup',this.onPointerUp,!0)):(window.document.addEventListener('mousemove',this.onPointerMove,!0),this.interactionDOMElement.addEventListener('mousedown',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('mouseout',this.onPointerOut,!0),this.interactionDOMElement.addEventListener('mouseover',this.onPointerOver,!0),window.addEventListener('mouseup',this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener('touchstart',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('touchcancel',this.onPointerCancel,!0),this.interactionDOMElement.addEventListener('touchend',this.onPointerUp,!0),this.interactionDOMElement.addEventListener('touchmove',this.onPointerMove,!0)),this.eventsAdded=!0)},t.prototype.removeEvents=function(){this.interactionDOMElement&&(l.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style['-ms-content-zooming']='',this.interactionDOMElement.style['-ms-touch-action']=''):this.supportsPointerEvents&&(this.interactionDOMElement.style['touch-action']=''),this.supportsPointerEvents?(window.document.removeEventListener('pointermove',this.onPointerMove,!0),this.interactionDOMElement.removeEventListener('pointerdown',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('pointerleave',this.onPointerOut,!0),this.interactionDOMElement.removeEventListener('pointerover',this.onPointerOver,!0),window.removeEventListener('pointercancel',this.onPointerCancel,!0),window.removeEventListener('pointerup',this.onPointerUp,!0)):(window.document.removeEventListener('mousemove',this.onPointerMove,!0),this.interactionDOMElement.removeEventListener('mousedown',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('mouseout',this.onPointerOut,!0),this.interactionDOMElement.removeEventListener('mouseover',this.onPointerOver,!0),window.removeEventListener('mouseup',this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener('touchstart',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('touchcancel',this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener('touchend',this.onPointerUp,!0),this.interactionDOMElement.removeEventListener('touchmove',this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},t.prototype.update=function(e){if((this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency))&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var r=this.activeInteractionData[t];if(r.originalEvent&&'touch'!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){if(e=e||'default',this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch('undefined'==typeof t?'undefined':s(t)){case'string':this.interactionDOMElement.style.cursor=t;break;case'function':t(e);break;case'object':Object.assign(this.interactionDOMElement.style,t);}else'string'!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,r){r.stopped||(r.currentTarget=e,r.type=t,e.emit(t,r),e[t]&&e[t](r))},t.prototype.mapPositionToPoint=function(e,t,r){var n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var a=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(t-n.left)*(this.interactionDOMElement.width/n.width)*a,e.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*a},t.prototype.processInteractive=function(e,t,r,n,a){if(!t||!t.visible)return!1;var o=e.data.global;a=t.interactive||a;var s=!1,d=a;if(t.hitArea?d=!1:n&&t._mask&&!t._mask.containsPoint(o)&&(n=!1),t.interactiveChildren&&t.children)for(var l=t.children,u=l.length-1;0<=u;u--){var i=l[u],p=this.processInteractive(e,i,r,n,d);if(p){if(!i.parent)continue;d=!1,p&&(e.target&&(n=!1),s=!0)}}return a&&(n&&!e.target&&(t.hitArea?(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(s=!0)):t.containsPoint&&t.containsPoint(o)&&(s=!0)),t.interactive&&(s&&!e.target&&(e.target=t),r&&r(e,t,!!s))),s},t.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&'touch'===e.pointerType)){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();for(var r=t.length,n=0;n<r;n++){var a=t[n],o=this.getInteractionDataForPointerId(a),i=this.configureInteractionEventForDOMEvent(this.eventData,a,o);if(i.data.originalEvent=e,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit('pointerdown',i),'touch'===a.pointerType)this.emit('touchstart',i);else if('mouse'===a.pointerType||'pen'===a.pointerType){var s=2===a.button;this.emit(s?'rightdown':'mousedown',this.eventData)}}}},t.prototype.processPointerDown=function(e,t,r){var n=e.data,a=e.data.identifier;if(r)if(t.trackedPointers[a]||(t.trackedPointers[a]=new g.default(a)),this.dispatchEvent(t,'pointerdown',e),'touch'===n.pointerType)this.dispatchEvent(t,'touchstart',e);else if('mouse'===n.pointerType||'pen'===n.pointerType){var o=2===n.button;o?t.trackedPointers[a].rightDown=!0:t.trackedPointers[a].leftDown=!0,this.dispatchEvent(t,o?'rightdown':'mousedown',e)}},t.prototype.onPointerComplete=function(e,t,r){for(var n=this.normalizeToPointerData(e),a=n.length,o=e.target===this.interactionDOMElement?'':'outside',s=0;s<a;s++){var i=n[s],d=this.getInteractionDataForPointerId(i),l=this.configureInteractionEventForDOMEvent(this.eventData,i,d);if(l.data.originalEvent=e,this.processInteractive(l,this.renderer._lastObjectRendered,r,t||!o),this.emit(t?'pointercancel':'pointerup'+o,l),'mouse'===i.pointerType||'pen'===i.pointerType){var u=2===i.button;this.emit(u?'rightup'+o:'mouseup'+o,l)}else'touch'===i.pointerType&&(this.emit(t?'touchcancel':'touchend'+o,l),this.releaseInteractionDataForPointerId(i.pointerId,d))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&'touch'===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var r=e.data,n=e.data.identifier;void 0!==t.trackedPointers[n]&&(delete t.trackedPointers[n],this.dispatchEvent(t,'pointercancel',e),'touch'===r.pointerType&&this.dispatchEvent(t,'touchcancel',e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&'touch'===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,r){var n=e.data,a=e.data.identifier,o=t.trackedPointers[a],i='touch'===n.pointerType,s='mouse'===n.pointerType||'pen'===n.pointerType;if(s){var d=2===n.button,l=g.default.FLAGS,u=d?l.RIGHT_DOWN:l.LEFT_DOWN,p=void 0!==o&&o.flags&u;r?(this.dispatchEvent(t,d?'rightup':'mouseup',e),p&&this.dispatchEvent(t,d?'rightclick':'click',e)):p&&this.dispatchEvent(t,d?'rightupoutside':'mouseupoutside',e),o&&(d?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(t,'pointerup',e),i&&this.dispatchEvent(t,'touchend',e),o&&(this.dispatchEvent(t,'pointertap',e),i&&(this.dispatchEvent(t,'tap',e),o.over=!1))):o&&(this.dispatchEvent(t,'pointerupoutside',e),i&&this.dispatchEvent(t,'touchendoutside',e)),o&&o.none&&delete t.trackedPointers[a]},t.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&'touch'===e.pointerType)){var t=this.normalizeToPointerData(e);'mouse'===t[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var r=t.length,n=0;n<r;n++){var a=t[n],o=this.getInteractionDataForPointerId(a),i=this.configureInteractionEventForDOMEvent(this.eventData,a,o);i.data.originalEvent=e;var s='touch'!==a.pointerType||this.moveWhenInside;this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit('pointermove',i),'touch'===a.pointerType&&this.emit('touchmove',i),('mouse'===a.pointerType||'pen'===a.pointerType)&&this.emit('mousemove',i)}'mouse'===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,r){var n=e.data,a='touch'===n.pointerType,o='mouse'===n.pointerType||'pen'===n.pointerType;o&&this.processPointerOverOut(e,t,r),(!this.moveWhenInside||r)&&(this.dispatchEvent(t,'pointermove',e),a&&this.dispatchEvent(t,'touchmove',e),o&&this.dispatchEvent(t,'mousemove',e))},t.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&'touch'===e.pointerType)){var t=this.normalizeToPointerData(e),r=t[0];'mouse'===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(r),a=this.configureInteractionEventForDOMEvent(this.eventData,r,n);a.data.originalEvent=r,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit('pointerout',a),'mouse'===r.pointerType||'pen'===r.pointerType?this.emit('mouseout',a):this.releaseInteractionDataForPointerId(n.identifier)}},t.prototype.processPointerOverOut=function(e,t,r){var n=e.data,a=e.data.identifier,o='mouse'===n.pointerType||'pen'===n.pointerType,i=t.trackedPointers[a];r&&!i&&(i=t.trackedPointers[a]=new g.default(a)),void 0===i||(r&&this.mouseOverRenderer?(!i.over&&(i.over=!0,this.dispatchEvent(t,'pointerover',e),o&&this.dispatchEvent(t,'mouseover',e)),o&&null===this.cursor&&(this.cursor=t.cursor)):i.over&&(i.over=!1,this.dispatchEvent(t,'pointerout',this.eventData),o&&this.dispatchEvent(t,'mouseout',e),i.none&&delete t.trackedPointers[a]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e),r=t[0],n=this.getInteractionDataForPointerId(r),a=this.configureInteractionEventForDOMEvent(this.eventData,r,n);a.data.originalEvent=r,'mouse'===r.pointerType&&(this.mouseOverRenderer=!0),this.emit('pointerover',a),('mouse'===r.pointerType||'pen'===r.pointerType)&&this.emit('mouseover',a)},t.prototype.getInteractionDataForPointerId=function(e){var t=e.pointerId,r;return t===b||'mouse'===e.pointerType?r=this.mouse:this.activeInteractionData[t]?r=this.activeInteractionData[t]:(r=this.interactionDataPool.pop()||new p.default,r.identifier=t,this.activeInteractionData[t]=r),r._copyEvent(e),r},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t._reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,r){return e.data=r,this.mapPositionToPoint(r.global,t.clientX,t.clientY),navigator.isCocoonJS&&'touch'===t.pointerType&&(r.global.x/=this.resolution,r.global.y/=this.resolution),'touch'===t.pointerType&&(t.globalX=r.global.x,t.globalY=r.global.y),r.originalEvent=t,e._reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,n=e.changedTouches.length,a;r<n;r++)a=e.changedTouches[r],'undefined'==typeof a.button&&(a.button=e.touches.length?1:0),'undefined'==typeof a.buttons&&(a.buttons=e.touches.length?1:0),'undefined'==typeof a.isPrimary&&(a.isPrimary=1===e.touches.length&&'touchstart'===e.type),'undefined'==typeof a.width&&(a.width=a.radiusX||1),'undefined'==typeof a.height&&(a.height=a.radiusY||1),'undefined'==typeof a.tiltX&&(a.tiltX=0),'undefined'==typeof a.tiltY&&(a.tiltY=0),'undefined'==typeof a.pointerType&&(a.pointerType='touch'),'undefined'==typeof a.pointerId&&(a.pointerId=a.identifier||0),'undefined'==typeof a.pressure&&(a.pressure=a.force||0.5),a.twist=0,a.tangentialPressure=0,'undefined'==typeof a.layerX&&(a.layerX=a.offsetX=a.clientX),'undefined'==typeof a.layerY&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,t.push(a);else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent?t.push(e):('undefined'==typeof e.isPrimary&&(e.isPrimary=!0),'undefined'==typeof e.width&&(e.width=1),'undefined'==typeof e.height&&(e.height=1),'undefined'==typeof e.tiltX&&(e.tiltX=0),'undefined'==typeof e.tiltY&&(e.tiltY=0),'undefined'==typeof e.pointerType&&(e.pointerType='mouse'),'undefined'==typeof e.pointerId&&(e.pointerId=b),'undefined'==typeof e.pressure&&(e.pressure=0.5),e.twist=0,e.tangentialPressure=0,e.isNormalized=!0,t.push(e));return t},t.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},t}(_.default);t.default=v,l.WebGLRenderer.registerPlugin('interaction',v),l.CanvasRenderer.registerPlugin('interaction',v)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.shared=t.Resource=t.textureParser=t.getResourcePath=t.spritesheetParser=t.parseBitmapFontData=t.bitmapFontParser=t.Loader=void 0;var a=r(84);Object.defineProperty(t,'bitmapFontParser',{enumerable:!0,get:function(){return n(a).default}}),Object.defineProperty(t,'parseBitmapFontData',{enumerable:!0,get:function(){return a.parse}});var o=r(89);Object.defineProperty(t,'spritesheetParser',{enumerable:!0,get:function(){return n(o).default}}),Object.defineProperty(t,'getResourcePath',{enumerable:!0,get:function(){return o.getResourcePath}});var i=r(90);Object.defineProperty(t,'textureParser',{enumerable:!0,get:function(){return n(i).default}});var s=r(19);Object.defineProperty(t,'Resource',{enumerable:!0,get:function(){return s.Resource}});var d=r(71),l=n(d),u=r(184),p=n(u);t.Loader=p.default;var c=new p.default;c.destroy=function(){},t.shared=c;var h=l.default.prototype;h._loader=null,Object.defineProperty(h,'loader',{get:function(){if(!this._loader){var e=this._options.sharedLoader;this._loader=e?c:new p.default}return this._loader}}),h._parentDestroy=h.destroy,h.destroy=function(e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(e)}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},i=r(85),s=n(i),d=r(86),l=n(d),u=r(87),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),c=r(40),h=n(c),f=/(#[\w-]+)?$/,g=function(){function e(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;a(this,e),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString='',this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,r){return t._loadResource(e,r)},this._queue=p.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new s.default,this.onError=new s.default,this.onLoad=new s.default,this.onStart=new s.default,this.onComplete=new s.default}return e.prototype.add=function(e,t,r,n){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if('object'===('undefined'==typeof e?'undefined':o(e))&&(n=t||e.callback||e.onComplete,r=e,t=e.url,e=e.name||e.key||e.url),'string'!=typeof t&&(n=r,r=t,t=e),'string'!=typeof t)throw new Error('No url passed to add resource to loader.');if('function'==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error('Cannot add resources while the loader is running.');if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new h.default(e,t,r),'function'==typeof n&&this.resources[e].onAfterMiddleware.once(n),this.loading){for(var i=r.parentResource,s=[],d=0;d<i.children.length;++d)i.children[d].isComplete||s.push(i.children[d]);var l=i.progressChunk*(s.length+1),u=l/(s.length+2);i.children.push(this.resources[e]),i.progressChunk=u;for(var p=0;p<s.length;++p)s[p].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},e.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},e.prototype.use=function(e){return this._afterMiddleware.push(e),this},e.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},e.prototype.load=function(e){if('function'==typeof e&&this.onComplete.once(e),this.loading)return this;for(var t=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=t;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},e.prototype._prepareUrl=function(e){var t=(0,l.default)(e,{strictMode:!0}),r;if(r=t.protocol||!t.path||0===e.indexOf('//')?e:this.baseUrl.length&&this.baseUrl.lastIndexOf('/')!==this.baseUrl.length-1&&'/'!==e.charAt(0)?this.baseUrl+'/'+e:this.baseUrl+e,this.defaultQueryString){var n=f.exec(r)[0];r=r.substr(0,r.length-n.length),r+=-1===r.indexOf('?')?'?'+this.defaultQueryString:'&'+this.defaultQueryString,r+=n}return r},e.prototype._loadResource=function(e,t){var r=this;e._dequeue=t,p.eachSeries(this._beforeMiddleware,function(t,n){t.call(r,e,function(){n(e.isComplete?{}:null)})},function(){e.isComplete?r._onLoad(e):(e._onLoadBinding=e.onComplete.once(r._onLoad,r),e.load())},!0)},e.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),p.eachSeries(this._afterMiddleware,function(r,n){r.call(t,e,n)},function(){e.onAfterMiddleware.dispatch(e),t.progress+=e.progressChunk,t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&(t.progress=100,t._onComplete())},!0)},e}();t.default=g},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(19),d=n(s),l=r(185),u=r(10),p=n(u),c=r(90),h=n(c),f=r(89),g=n(f),m=r(84),_=n(m),y=function(e){function t(r,n){a(this,t);var s=o(this,e.call(this,r,n));p.default.call(s);for(var d=0;d<t._pixiMiddleware.length;++d)s.use(t._pixiMiddleware[d]());return s.onStart.add(function(e){return s.emit('start',e)}),s.onProgress.add(function(e,t){return s.emit('progress',e,t)}),s.onError.add(function(t,e,n){return s.emit('error',t,e,n)}),s.onLoad.add(function(e,t){return s.emit('load',e,t)}),s.onComplete.add(function(e,t){return s.emit('complete',e,t)}),s}return i(t,e),t.addPixiMiddleware=function(e){t._pixiMiddleware.push(e)},t.prototype.destroy=function(){this.removeAllListeners(),this.reset()},t}(d.default);for(var x in t.default=y,p.default.prototype)y.prototype[x]=p.default.prototype[x];y._pixiMiddleware=[l.blobMiddlewareFactory,h.default,g.default,_.default];var b=d.default.Resource;b.setExtensionXhrType('fnt',b.XHR_RESPONSE_TYPE.DOCUMENT)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.blobMiddlewareFactory=function(){return function(e,t){if(!e.data)return void t();if(e.xhr&&e.xhrType===i.default.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||'string'==typeof e.data){var r=e.xhr.getResponseHeader('content-type');if(r&&0===r.indexOf('image'))return e.data=new Image,e.data.src='data:'+r+';base64,'+d.default.encodeBinary(e.xhr.responseText),e.type=i.default.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}else if(0===e.data.type.indexOf('image')){var n=function(){var r=l.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=r,e.type=i.default.TYPE.IMAGE,e.data.onload=function(){l.revokeObjectURL(r),e.data.onload=null,t()},{v:void 0}}();if('object'===('undefined'==typeof n?'undefined':a(n)))return n.v}t()}};var o=r(40),i=n(o),s=r(88),d=n(s),l=window.URL||window.webkitURL},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(20);Object.defineProperty(t,'Mesh',{enumerable:!0,get:function(){return n(a).default}});var o=r(187);Object.defineProperty(t,'MeshRenderer',{enumerable:!0,get:function(){return n(o).default}});var i=r(188);Object.defineProperty(t,'CanvasMeshRenderer',{enumerable:!0,get:function(){return n(i).default}});var s=r(91);Object.defineProperty(t,'Plane',{enumerable:!0,get:function(){return n(s).default}});var d=r(189);Object.defineProperty(t,'NineSlicePlane',{enumerable:!0,get:function(){return n(d).default}});var l=r(190);Object.defineProperty(t,'Rope',{enumerable:!0,get:function(){return n(l).default}})},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(7),u=n(l),p=r(20),c=n(p),h=r(8),f=d.Matrix.IDENTITY,g=function(e){function t(r){a(this,t);var n=o(this,e.call(this,r));return n.shader=null,n}return i(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new d.Shader(e,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n')},t.prototype.render=function(e){var t=this.renderer,r=t.gl,n=e._texture;if(n.valid){var a=e._glDatas[t.CONTEXT_UID];a||(t.bindVao(null),a={shader:this.shader,vertexBuffer:u.default.GLBuffer.createVertexBuffer(r,e.vertices,r.STREAM_DRAW),uvBuffer:u.default.GLBuffer.createVertexBuffer(r,e.uvs,r.STREAM_DRAW),indexBuffer:u.default.GLBuffer.createIndexBuffer(r,e.indices,r.STATIC_DRAW),vao:null,dirty:e.dirty,indexDirty:e.indexDirty},a.vao=new u.default.VertexArrayObject(r).addIndex(a.indexBuffer).addAttribute(a.vertexBuffer,a.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(a.uvBuffer,a.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),e._glDatas[t.CONTEXT_UID]=a),t.bindVao(a.vao),e.dirty!==a.dirty&&(a.dirty=e.dirty,a.uvBuffer.upload(e.uvs)),e.indexDirty!==a.indexDirty&&(a.indexDirty=e.indexDirty,a.indexBuffer.upload(e.indices)),a.vertexBuffer.upload(e.vertices),t.bindShader(a.shader),a.shader.uniforms.uSampler=t.bindTexture(n),t.state.setBlendMode(d.utils.correctBlendMode(e.blendMode,n.baseTexture.premultipliedAlpha)),a.shader.uniforms.uTransform&&(e.uploadUvTransform?a.shader.uniforms.uTransform=e._uvTransform.mapCoord.toArray(!0):a.shader.uniforms.uTransform=f.toArray(!0)),a.shader.uniforms.translationMatrix=e.worldTransform.toArray(!0),a.shader.uniforms.uColor=d.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,a.shader.uniforms.uColor,n.baseTexture.premultipliedAlpha);var o=e.drawMode===c.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;a.vao.draw(o,e.indices.length,0)}},t}(d.ObjectRenderer);t.default=g,d.WebGLRenderer.registerPlugin('mesh',g)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=Math.sqrt;t.__esModule=!0;var o=r(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),s=r(20),d=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(){function e(t){n(this,e),this.renderer=t}return e.prototype.render=function(e){var t=this.renderer,r=t.context,n=e.worldTransform,a=t.resolution;t.roundPixels?r.setTransform(n.a*a,n.b*a,n.c*a,n.d*a,0|n.tx*a,0|n.ty*a):r.setTransform(n.a*a,n.b*a,n.c*a,n.d*a,n.tx*a,n.ty*a),t.setBlendMode(e.blendMode),e.drawMode===d.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},e.prototype._renderTriangleMesh=function(e){for(var t=e.vertices.length/2,r=0,n;r<t-2;r++)n=2*r,this._renderDrawTriangle(e,n,n+2,n+4)},e.prototype._renderTriangles=function(e){for(var t=e.indices,r=t.length,n=0;n<r;n+=3){var a=2*t[n],o=2*t[n+1],i=2*t[n+2];this._renderDrawTriangle(e,a,o,i)}},e.prototype._renderDrawTriangle=function(e,t,r,n){var o=this.renderer.context,i=e.uvs,s=e.vertices,d=e._texture;if(d.valid){var l=d.baseTexture,u=l.source,p=l.width,c=l.height,h,f,g,m,_,y;if(e.uploadUvTransform){var x=e._uvTransform.mapCoord;h=(i[t]*x.a+i[t+1]*x.c+x.tx)*l.width,f=(i[r]*x.a+i[r+1]*x.c+x.tx)*l.width,g=(i[n]*x.a+i[n+1]*x.c+x.tx)*l.width,m=(i[t]*x.b+i[t+1]*x.d+x.ty)*l.height,_=(i[r]*x.b+i[r+1]*x.d+x.ty)*l.height,y=(i[n]*x.b+i[n+1]*x.d+x.ty)*l.height}else h=i[t]*l.width,f=i[r]*l.width,g=i[n]*l.width,m=i[t+1]*l.height,_=i[r+1]*l.height,y=i[n+1]*l.height;var b=s[t],T=s[r],v=s[n],S=s[t+1],E=s[r+1],R=s[n+1];if(0<e.canvasPadding){var A=e.canvasPadding/e.worldTransform.a,I=e.canvasPadding/e.worldTransform.d,D=(b+T+v)/3,P=(S+E+R)/3,C=b-D,M=S-P,w=a(C*C+M*M);b=D+C/w*(w+A),S=P+M/w*(w+I),C=T-D,M=E-P,w=a(C*C+M*M),T=D+C/w*(w+A),E=P+M/w*(w+I),C=v-D,M=R-P,w=a(C*C+M*M),v=D+C/w*(w+A),R=P+M/w*(w+I)}o.save(),o.beginPath(),o.moveTo(b,S),o.lineTo(T,E),o.lineTo(v,R),o.closePath(),o.clip();var O=h*_+m*g+f*y-_*g-m*f-h*y,k=b*_+m*v+T*y-_*v-m*T-b*y,L=h*T+b*g+f*v-T*g-b*f-h*v,N=h*_*v+m*T*g+b*f*y-b*_*g-m*f*v-h*T*y,B=S*_+m*R+E*y-_*R-m*E-S*y,F=h*E+S*g+f*R-E*g-S*f-h*R,U=h*_*R+m*E*g+S*f*y-S*_*g-m*f*R-h*E*y;o.transform(k/O,B/O,L/O,F/O,N/O,U/O),o.drawImage(u,0,0,p*l.resolution,c*l.resolution,0,0,p,c),o.restore(),this.renderer.invalidateBlendMode()}},e.prototype.renderMeshFlat=function(e){var t=this.renderer.context,r=e.vertices,n=r.length/2;t.beginPath();for(var a=1;a<n-2;++a){var o=2*a,i=r[o],s=r[o+1],d=r[o+2],l=r[o+3],u=r[o+4],p=r[o+5];t.moveTo(i,s),t.lineTo(d,l),t.lineTo(u,p)}t.fillStyle='#FF0000',t.fill(),t.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();t.default=l,i.CanvasRenderer.registerPlugin('mesh',l)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(91),d=function(e){return e&&e.__esModule?e:{default:e}}(s),l=10,u=function(e){function t(r,o,i,s,d){n(this,t);var u=a(this,e.call(this,r,4,4));return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u.leftWidth='undefined'==typeof o?l:o,u.rightWidth='undefined'==typeof s?l:s,u.topHeight='undefined'==typeof i?l:i,u.bottomHeight='undefined'==typeof d?l:d,u.refresh(!0),u}return o(t,e),t.prototype.updateHorizontalVertices=function(){var e=this.vertices;e[9]=e[11]=e[13]=e[15]=this._topHeight,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices;e[2]=e[10]=e[18]=e[26]=this._leftWidth,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._renderCanvas=function(e){var t=e.context;t.globalAlpha=this.worldAlpha;var r=this.worldTransform,n=e.resolution;e.roundPixels?t.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,0|r.tx*n,0|r.ty*n):t.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var a=this._texture.baseTexture,o=a.source,i=a.width,s=a.height;this.drawSegment(t,o,i,s,0,1,10,11),this.drawSegment(t,o,i,s,2,3,12,13),this.drawSegment(t,o,i,s,4,5,14,15),this.drawSegment(t,o,i,s,8,9,18,19),this.drawSegment(t,o,i,s,10,11,20,21),this.drawSegment(t,o,i,s,12,13,22,23),this.drawSegment(t,o,i,s,16,17,26,27),this.drawSegment(t,o,i,s,18,19,28,29),this.drawSegment(t,o,i,s,20,21,30,31)},t.prototype.drawSegment=function(e,t,r,n,a,o,i,s){var d=this.uvs,l=this.vertices,u=(d[i]-d[a])*r,p=(d[s]-d[o])*n,c=l[i]-l[a],h=l[s]-l[o];1>u&&(u=1),1>p&&(p=1),1>c&&(c=1),1>h&&(h=1),e.drawImage(t,d[a]*r,d[o]*n,u,p,l[a],l[o],c,h)},t.prototype._refresh=function(){e.prototype._refresh.call(this);var t=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var n=1/this._origWidth,a=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=a*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},i(t,[{key:'width',get:function(){return this._width},set:function(e){this._width=e,this._refresh()}},{key:'height',get:function(){return this._height},set:function(e){this._height=e,this._refresh()}},{key:'leftWidth',get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()}},{key:'rightWidth',get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()}},{key:'topHeight',get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()}},{key:'bottomHeight',get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()}}]),t}(d.default);t.default=u},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(20),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(r,o){n(this,t);var i=a(this,e.call(this,r));return i.points=o,i.vertices=new Float32Array(4*o.length),i.uvs=new Float32Array(4*o.length),i.colors=new Float32Array(2*o.length),i.indices=new Uint16Array(2*o.length),i.autoUpdate=!0,i.refresh(),i}return o(t,e),t.prototype._refresh=function(){var e=this.points;if(!(1>e.length)&&this._texture._uvs){this.vertices.length/4!==e.length&&(this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length));var t=this.uvs,r=this.indices,n=this.colors;t[0]=0,t[1]=0,t[2]=0,t[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var a=e.length,o=1;o<a;o++){var i=4*o,s=o/(a-1);t[i]=s,t[i+1]=0,t[i+2]=s,t[i+3]=1,i=2*o,n[i]=1,n[i+1]=1,i=2*o,r[i]=i,r[i+1]=i+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},t.prototype.refreshVertices=function(){var e=this.points;if(!(1>e.length))for(var t=e[0],r=void 0,n=0,a=0,o=this.vertices,s=e.length,d=0;d<s;d++){var i=e[d],l=4*d;r=d<e.length-1?e[d+1]:i,a=-(r.x-t.x),n=r.y-t.y;var u=10*(1-d/(s-1));1<u&&(u=1);var p=Math.sqrt(n*n+a*a),c=this._texture.height/2;n/=p,a/=p,n*=c,a*=c,o[l]=i.x+n,o[l+1]=i.y+a,o[l+2]=i.x-n,o[l+3]=i.y-a,t=i}},t.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},t}(s.default);t.default=d},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(192);Object.defineProperty(t,'ParticleContainer',{enumerable:!0,get:function(){return n(a).default}});var o=r(193);Object.defineProperty(t,'ParticleRenderer',{enumerable:!0,get:function(){return n(o).default}})},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(2),u=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,o=arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384,s=3<arguments.length&&void 0!==arguments[3]&&arguments[3];n(this,t);var l=a(this,e.call(this)),u=16384;return i>u&&(i=u),i>r&&(i=r),l._properties=[!1,!0,!1,!1,!1],l._maxSize=r,l._batchSize=i,l._glBuffers={},l._bufferToUpdate=0,l.interactiveChildren=!1,l.blendMode=d.BLEND_MODES.NORMAL,l.autoResize=s,l.roundPixels=!0,l.baseTexture=null,l.setProperties(o),l._tint=0,l.tintRgb=new Float32Array(4),l.tint=16777215,l}return o(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]='scale'in e?!!e.scale:this._properties[0],this._properties[1]='position'in e?!!e.position:this._properties[1],this._properties[2]='rotation'in e?!!e.rotation:this._properties[2],this._properties[3]='uvs'in e?!!e.uvs:this._properties[3],this._properties[4]='alpha'in e||'tint'in e?!!e.alpha||!!e.tint:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},t.prototype.renderWebGL=function(e){var t=this;this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable&&(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded&&this.baseTexture.once('update',function(){return t.onChildrenChange(0)})),e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){var t=Math.floor(e/this._batchSize);t<this._bufferToUpdate&&(this._bufferToUpdate=t)},t.prototype.renderCanvas=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){var t=e.context,r=this.worldTransform,n=!0,a=0,o=0,s=0,d=0;e.setBlendMode(this.blendMode),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0,i;l<this.children.length;++l)if(i=this.children[l],!!i.visible){var u=i._texture.frame;if(t.globalAlpha=this.worldAlpha*i.alpha,0==i.rotation%(2*Math.PI))n&&(t.setTransform(r.a,r.b,r.c,r.d,r.tx*e.resolution,r.ty*e.resolution),n=!1),a=i.anchor.x*(-u.width*i.scale.x)+i.position.x+0.5,o=i.anchor.y*(-u.height*i.scale.y)+i.position.y+0.5,s=u.width*i.scale.x,d=u.height*i.scale.y;else{n||(n=!0),i.displayObjectUpdateTransform();var p=i.worldTransform;e.roundPixels?t.setTransform(p.a,p.b,p.c,p.d,0|p.tx*e.resolution,0|p.ty*e.resolution):t.setTransform(p.a,p.b,p.c,p.d,p.tx*e.resolution,p.ty*e.resolution),a=i.anchor.x*-u.width+0.5,o=i.anchor.y*-u.height+0.5,s=u.width,d=u.height}var c=i._texture.baseTexture.resolution;t.drawImage(i._texture.baseTexture.source,u.x*c,u.y*c,u.width*c,u.height*c,a*e.resolution,o*e.resolution,s*e.resolution,d*e.resolution)}}},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null},i(t,[{key:'tint',get:function(){return this._tint},set:function(e){this._tint=e,(0,l.hex2rgb)(e,this.tintRgb)}}]),t}(d.Container);t.default=u},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(194),u=n(l),p=r(195),c=n(p),h=r(2),f=function(e){function t(r){a(this,t);var n=o(this,e.call(this,r));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new d.Matrix,n.CONTEXT_UID=0,n}return i(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new u.default(e),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},t.prototype.start=function(){this.renderer.bindShader(this.shader)},t.prototype.render=function(e){var t=e.children,r=e._maxSize,n=e._batchSize,a=this.renderer,o=t.length;if(0!==o){o>r&&(o=r);var s=e._glBuffers[a.CONTEXT_UID];s||(s=e._glBuffers[a.CONTEXT_UID]=this.generateBuffers(e));var l=t[0]._texture.baseTexture;this.renderer.setBlendMode(d.utils.correctBlendMode(e.blendMode,l.premultipliedAlpha));var u=a.gl,p=e.worldTransform.copy(this.tempMatrix);p.prepend(a._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=p.toArray(!0),this.shader.uniforms.uColor=d.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,l.premultipliedAlpha),this.shader.uniforms.uSampler=a.bindTexture(l);for(var c=0,i=0,h;c<o;c+=n,i+=1){if(h=o-c,h>n&&(h=n),i>=s.length){if(!e.autoResize)break;s.push(this._generateOneMoreBuffer(e))}var f=s[i];f.uploadDynamic(t,c,h),e._bufferToUpdate===i&&(f.uploadStatic(t,c,h),e._bufferToUpdate=i+1),a.bindVao(f.vao),f.vao.draw(u.TRIANGLES,6*h)}}},t.prototype.generateBuffers=function(e){for(var t=this.renderer.gl,r=[],n=e._maxSize,a=e._batchSize,o=e._properties,s=0;s<n;s+=a)r.push(new c.default(t,this.properties,o,a));return r},t.prototype._generateOneMoreBuffer=function(e){var t=this.renderer.gl,r=e._batchSize,n=e._properties;return new c.default(t,this.properties,n,r)},t.prototype.uploadVertices=function(e,t,r,n,a,o){for(var s=0,d=0,l=0,u=0,p=0;p<r;++p){var i=e[t+p],c=i._texture,h=i.scale.x,f=i.scale.y,g=c.trim,m=c.orig;g?(d=g.x-i.anchor.x*m.width,s=d+g.width,u=g.y-i.anchor.y*m.height,l=u+g.height):(s=m.width*(1-i.anchor.x),d=m.width*-i.anchor.x,l=m.height*(1-i.anchor.y),u=m.height*-i.anchor.y),n[o]=d*h,n[o+1]=u*f,n[o+a]=s*h,n[o+a+1]=u*f,n[o+2*a]=s*h,n[o+2*a+1]=l*f,n[o+3*a]=d*h,n[o+3*a+1]=l*f,o+=4*a}},t.prototype.uploadPosition=function(e,t,r,n,a,o){for(var s=0,i;s<r;s++)i=e[t+s].position,n[o]=i.x,n[o+1]=i.y,n[o+a]=i.x,n[o+a+1]=i.y,n[o+2*a]=i.x,n[o+2*a+1]=i.y,n[o+3*a]=i.x,n[o+3*a+1]=i.y,o+=4*a},t.prototype.uploadRotation=function(e,t,r,n,a,o){for(var s=0,i;s<r;s++)i=e[t+s].rotation,n[o]=i,n[o+a]=i,n[o+2*a]=i,n[o+3*a]=i,o+=4*a},t.prototype.uploadUvs=function(e,t,r,n,a,o){for(var s=0,i;s<r;++s)i=e[t+s]._texture._uvs,i?(n[o]=i.x0,n[o+1]=i.y0,n[o+a]=i.x1,n[o+a+1]=i.y1,n[o+2*a]=i.x2,n[o+2*a+1]=i.y2,n[o+3*a]=i.x3,n[o+3*a+1]=i.y3,o+=4*a):(n[o]=0,n[o+1]=0,n[o+a]=0,n[o+a+1]=0,n[o+2*a]=0,n[o+2*a+1]=0,n[o+3*a]=0,n[o+3*a+1]=0,o+=4*a)},t.prototype.uploadTint=function(e,t,r,n,a,o){for(var s=0;s<r;++s){var i=e[t+s],d=i._texture.baseTexture.premultipliedAlpha,l=i.alpha,u=1>l&&d?(0,h.premultiplyTint)(i._tintRGB,l):i._tintRGB+(255*l<<24);n[o]=u,n[o+a]=u,n[o+2*a]=u,n[o+3*a]=u,o+=4*a}},t.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),e.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},t}(d.ObjectRenderer);t.default=f,d.WebGLRenderer.registerPlugin('particle',f)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(18),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(r){return n(this,t),a(this,e.call(this,r,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute vec2 aPositionCoord;\nattribute vec2 aScale;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nuniform vec4 uColor;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void){\n   vec2 v = aVertexPosition;\n   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor * uColor;\n}','varying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}'))}return o(t,e),t}(s.default);t.default=d},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=r(7),s=n(o),i=r(38),d=n(i),l=function(){function e(t,r,n,o){a(this,e),this.gl=t,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var s=0,i;s<r.length;++s)i=r[s],i={attribute:i.attribute,size:i.size,uploadFunction:i.uploadFunction,unsignedByte:i.unsignedByte,offset:i.offset},n[s]?this.dynamicProperties.push(i):this.staticProperties.push(i);this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.gl,t=0;this.indices=(0,d.default)(this.size),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.dynamicStride=0;for(var r=0,n;r<this.dynamicProperties.length;++r)n=this.dynamicProperties[r],n.offset=t,t+=n.size,this.dynamicStride+=n.size;var a=new ArrayBuffer(4*(4*(this.size*this.dynamicStride)));this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=s.default.GLBuffer.createVertexBuffer(e,a,e.STREAM_DRAW);var o=0;this.staticStride=0;for(var i=0,l;i<this.staticProperties.length;++i)l=this.staticProperties[i],l.offset=o,o+=l.size,this.staticStride+=l.size;var u=new ArrayBuffer(4*(4*(this.size*this.staticStride)));this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=s.default.GLBuffer.createVertexBuffer(e,u,e.STATIC_DRAW),this.vao=new s.default.VertexArrayObject(e).addIndex(this.indexBuffer);for(var p=0,c;p<this.dynamicProperties.length;++p)c=this.dynamicProperties[p],c.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,c.attribute,e.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*c.offset):this.vao.addAttribute(this.dynamicBuffer,c.attribute,e.FLOAT,!1,4*this.dynamicStride,4*c.offset);for(var h=0,f;h<this.staticProperties.length;++h)f=this.staticProperties[h],f.unsignedByte?this.vao.addAttribute(this.staticBuffer,f.attribute,e.UNSIGNED_BYTE,!0,4*this.staticStride,4*f.offset):this.vao.addAttribute(this.staticBuffer,f.attribute,e.FLOAT,!1,4*this.staticStride,4*f.offset)},e.prototype.uploadDynamic=function(e,t,r){for(var n=0,a;n<this.dynamicProperties.length;n++)a=this.dynamicProperties[n],a.uploadFunction(e,t,r,a.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset);this.dynamicBuffer.upload()},e.prototype.uploadStatic=function(e,t,r){for(var n=0,a;n<this.staticProperties.length;n++)a=this.staticProperties[n],a.uploadFunction(e,t,r,a.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,a.offset);this.staticBuffer.upload()},e.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.dynamicBuffer.destroy(),this.staticProperties=null,this.staticData=null,this.staticBuffer.destroy()},e}();t.default=l},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(197);Object.defineProperty(t,'webgl',{enumerable:!0,get:function(){return n(a).default}});var o=r(198);Object.defineProperty(t,'canvas',{enumerable:!0,get:function(){return n(o).default}});var i=r(41);Object.defineProperty(t,'BasePrepare',{enumerable:!0,get:function(){return n(i).default}});var s=r(92);Object.defineProperty(t,'CountLimiter',{enumerable:!0,get:function(){return n(s).default}});var d=r(199);Object.defineProperty(t,'TimeLimiter',{enumerable:!0,get:function(){return n(d).default}})},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return!!(t instanceof u.BaseTexture)&&(t._glTextures[e.CONTEXT_UID]||e.textureManager.updateTexture(t),!0)}function s(e,t){return!!(t instanceof u.Graphics)&&((t.dirty||t.clearDirty||!t._webGL[e.plugins.graphics.CONTEXT_UID])&&e.plugins.graphics.updateGraphics(t),!0)}function d(e,t){return!!(e instanceof u.Graphics)&&(t.push(e),!0)}t.__esModule=!0;var l=r(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),p=r(41),c=function(e){return e&&e.__esModule?e:{default:e}}(p),h=function(e){function t(r){n(this,t);var o=a(this,e.call(this,r));return o.uploadHookHelper=o.renderer,o.registerFindHook(d),o.registerUploadHook(i),o.registerUploadHook(s),o}return o(t,e),t}(c.default);t.default=h,u.WebGLRenderer.registerPlugin('prepare',h)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(t instanceof l.BaseTexture){var r=t.source,n=0===r.width?e.canvas.width:s(e.canvas.width,r.width),a=0===r.height?e.canvas.height:s(e.canvas.height,r.height);return e.ctx.drawImage(r,0,0,n,a,0,0,e.canvas.width,e.canvas.height),!0}return!1}var s=Math.min;t.__esModule=!0;var d=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),u=r(41),p=function(e){return e&&e.__esModule?e:{default:e}}(u),c=16,h=function(e){function t(r){n(this,t);var o=a(this,e.call(this,r));return o.uploadHookHelper=o,o.canvas=document.createElement('canvas'),o.canvas.width=c,o.canvas.height=c,o.ctx=o.canvas.getContext('2d'),o.registerUploadHook(i),o}return o(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(p.default);t.default=h,l.CanvasRenderer.registerPlugin('prepare',h)},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(t){r(this,e),this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();t.default=n},function(e,t,r){'use strict';function n(){p.removeChildren(),p.addChild(u.a.bgBuilder(h),c),c.removeChildren();const e=h.getState(),t=u.b.unitOrganizer(e),r=u.b.cuOrganizer(e),n=u.b.descriptionOrganizer(e),a=u.b.rwPathOrganizer(e),o=u.b.lowerButtonsOrganizer(e,h),i=u.b.upperButtonsOrganizer(e,h);c.addChild(t,r,n,a,o,i)}function a(){p.removeChildren(),p.addChild(u.a.aboutBuilder('STARTUP',h))}function o(){p.removeChildren(),p.addChild(u.a.aboutBuilder('ABOUT',h))}t.b=function(){switch(h.getState().mode){case'STARTUP':a();break;case'ABOUT':o();break;default:n();}};var i=r(3),s=r.n(i),d=r(201),l=r(216),u=r(217);const p=new i.Container;t.a=p;const c=new i.Container,h=Object(d.a)(l.a,{mode:'STARTUP',step:0});t.c=h},function(e,t,r){'use strict';var n=r(93),a=r(213),o=r(214),i=r(215),s=r(97),d=r(96);r.d(t,'a',function(){return n.b}),!1},function(e,t,r){'use strict';var n=r(95),a=r(205),o=r(206),i=n.a?n.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?'[object Undefined]':'[object Null]':i&&i in Object(e)?Object(a.a)(e):Object(o.a)(e)}},function(e,t,r){'use strict';var n=r(204),a='object'==typeof self&&self&&self.Object===Object&&self,o=n.a||a||Function('return this')();t.a=o},function(e,t,r){'use strict';(function(e){var r='object'==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(t,r(14))},function(e,t,r){'use strict';var n=r(95),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=n.a?n.a.toStringTag:void 0;t.a=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0}catch(t){}var n=i.call(e);return t?e[s]=r:delete e[s],n}},function(e,t){'use strict';var r=Object.prototype,n=r.toString;t.a=function(e){return n.call(e)}},function(e,t,r){'use strict';var n=r(208),a=Object(n.a)(Object.getPrototypeOf,Object);t.a=a},function(e,t){'use strict';t.a=function(e,t){return function(r){return e(t(r))}}},function(e,t){'use strict';t.a=function(e){return null!=e&&'object'==typeof e}},function(e,t,r){e.exports=r(211)},function(e,t,r){'use strict';(function(e,n){Object.defineProperty(t,'__esModule',{value:!0});var a=r(212),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i;i='undefined'==typeof self?'undefined'==typeof window?'undefined'==typeof e?n:e:window:self;var s=(0,o['default'])(i);t['default']=s}).call(t,r(14),r(57)(e))},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t['default']=function(e){var t=e.Symbol,r;return'function'==typeof t?t.observable?r=t.observable:(r=t('observable'),t.observable=r):r='@@observable',r}},function(e,t,r){'use strict';var n=r(93),a=r(94),o=r(96)},function(){'use strict'},function(e,t,r){'use strict';var n=r(97),a=Object.assign||function(e){for(var t=1,r;t<arguments.length;t++)for(var n in r=arguments[t],r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}},function(e,t){'use strict';t.a=function(e={mode:'IDLE',step:0},t={type:'MODE_CHANGE',payload:name}){const r={mode:e.mode,step:e.step};switch(t.type){case'MODE_CHANGE':r.mode=t.payload,r.step=0;break;case'NAV':switch(t.payload){case'BACK':r.step-=1;break;case'START':case'NEXT':r.step+=1;break;case'SKIP':r.step=7;break;case'END':r.step=0;}}return r}},function(e,t,r){'use strict';var n=r(12),a=r(9),o=r(241);r.d(t,'a',function(){return n}),r.d(t,'b',function(){return o})},function(e,t,r){'use strict';function n(e=new c.Graphics){e.beginFill(f.a.GAINSBORO),e.drawRoundedRect(0,0,g.rendererSize.width,g.rendererSize.height,8)}function a(e=new c.Graphics){e.beginFill(f.a.WHITE),e.drawRoundedRect(20,490,760,100,8)}function o(e=new c.Graphics){e.beginFill(f.a.LIGHT_GRAY),e.drawRoundedRect(540,70,240,360,8),e.beginFill(f.a.WHITE),e.drawRect(540,90,240,320);const t=new c.Text('STEUERWERK',{fontFamily:'Courier',fontSize:'12pt',fontWeight:'bold'});t.anchor.set(0.5,0.5),t.x=660,t.y=80,e.addChild(t)}function i(e=new c.Graphics){e.beginFill(f.a.WHITE),e.drawRoundedRect(20,20,500,460,8)}function s(e=new c.Graphics){e.beginFill(f.a.DARK_GRAY),e.drawPolygon([200,30,196,38,198,38,198,58,202,58,202,38,204,38]),e.drawPolygon([198,432,202,432,202,458,204,458,200,466,196,458,198,458])}function d(e=new c.Graphics){e.beginFill(f.a.DARK_GRAY),e.drawPolygon([398,160,398,172,511,172,511,174,519,170,511,166,511,168,402,168,402,160]);const t=new c.Text('8',{fontFamily:'Courier',fontSize:'9pt'});t.x=455,t.y=175,e.addChild(t)}function l(e=new c.Graphics){e.beginFill(f.a.DARK_GRAY),e.drawPolygon([370,240,366,248,368,248,368,260,372,260,372,248,374,248]),e.drawPolygon([340,300,336,308,338,308,338,330,342,330,342,308,344,308]),e.drawPolygon([400,300,396,308,398,308,398,360,402,360,402,308,404,308])}function u(e=new c.Graphics){e.beginFill(f.a.EVEN_LIGHTER_GRAY),['Akku','Eins','SAR','IAR','IR','Z','X','Y','SDR','R','W'].reduce((t,r)=>{const[n,a,o]=f.c.unitSpec(r);e.drawRect(n,a,20*o,40)},e),e.drawPolygon([340,260,300,300,360,300,370,290,380,300,440,300,400,260,340,260])}function p(e=new c.Graphics,t){let r=new c.Graphics;r.beginFill(f.a.WHITE),r.drawCircle(780,20,10),r.interactive=!0,r.buttonMode=!0,r.hitArea=new c.Circle(780,20,10);let n=new c.Text('?',{fontFamily:'Courier',fontSize:'12pt',fontWeight:'bold',fill:f.a.BLUE_LINK});n.anchor.set(0.5,0.5),n.x=780,n.y=20,r.addChild(n),r.on('pointerdown',()=>t.dispatch({type:'MODE_CHANGE',payload:'ABOUT'})),e.addChild(r)}t.a=function(e){let t=new c.Graphics;return n(t),o(t),a(t),i(t),s(t),l(t),d(t),u(t),p(t,e),t};var c=r(3),h=r.n(c),f=r(4),g=r(25)},function(e,t,r){'use strict';var n=r(220),a=r.n(n),o=r(221),i=r.n(o),s=r(222),d=r.n(s);t.a={processInterpreter:function(e={mode:'',step:0}){const t=e.mode,r=e.step;return n[t][r]},descriptionInterpreter:function(e={mode:'',step:0}){const t=e.mode,r=e.step;return o[t][r]},cuDisplayInterpreter:function(e={mode:'',step:0}){const t=e.mode;return s[t]},totalStepCount:function(e={mode:'',step:0}){const t=e.mode;return n[t].length}}},function(e){e.exports={IDLE:[{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'unbek',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'unbek.',Y:'unbek.',SDR:'unbek.',R:'0',W:'0'}}],ADD:[{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'unbek',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'unbek.',Y:'unbek.',SDR:'unbek.',R:'0',W:'0'}},{path:[{from:'IAR',to:'X'},{from:'IAR',to:'SAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'000100',Y:'unbek.',SDR:'unbek.',R:'1',W:'0'}},{path:[{from:'Eins',to:'Y'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'000100',Y:'000001',SDR:'unbek.',R:'2',W:'0'}},{path:[{from:'ALU',to:'ALU'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'000101',X:'000100',Y:'000001',SDR:'3--a--',R:'3',W:'0'}},{path:[{from:'Z',to:'IAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'unbek.',Z:'000101',X:'000100',Y:'000001',SDR:'3--a--',R:'0',W:'0'}},{path:[{from:'SDR',to:'IR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'3--a--',Z:'000101',X:'000100',Y:'000001',SDR:'3--a--',R:'0',W:'0'}},{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'3--a--',Z:'000101',X:'000100',Y:'000001',SDR:'3--a--',R:'0',W:'0'}},{path:[{from:'IR',to:'SAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'3--a--',Z:'000101',X:'000100',Y:'000001',SDR:'3--a--',R:'1',W:'0'}},{path:[{from:'Akku',to:'X'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'3--a--',Z:'000101',X:'  AX  ',Y:'000001',SDR:'3--a--',R:'2',W:'0'}},{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'3--a--',Z:'000101',X:'  AX  ',Y:'000001',SDR:'<  a >',R:'3',W:'0'}},{path:[{from:'SDR',to:'Y'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'3--a--',Z:'000101',X:'  AX  ',Y:'<  a >',SDR:'<  a >',R:'0',W:'0'}},{path:[{from:'ALU',to:'ALU'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'3--a--',Z:'AX+<a>',X:'  AX  ',Y:'<  a >',SDR:'<  a >',R:'0',W:'0'}},{path:[{from:'Z',to:'Akku'}],values:{Akku:'AX+<a>',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'3--a--',Z:'AX+<a>',X:'  AX  ',Y:'<  a >',SDR:'<  a >',R:'0',W:'0'}}],LDC:[{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'unbek',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'unbek.',Y:'unbek.',SDR:'unbek.',R:'0',W:'0'}},{path:[{from:'IAR',to:'X'},{from:'IAR',to:'SAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'000100',Y:'unbek.',SDR:'unbek.',R:'1',W:'0'}},{path:[{from:'Eins',to:'Y'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'000100',Y:'000001',SDR:'unbek.',R:'2',W:'0'}},{path:[{from:'ALU',to:'ALU'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'000101',X:'000100',Y:'000001',SDR:'0const',R:'3',W:'0'}},{path:[{from:'Z',to:'IAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'unbek.',Z:'000101',X:'000100',Y:'000001',SDR:'0const',R:'0',W:'0'}},{path:[{from:'SDR',to:'IR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'0const',Z:'000101',X:'000100',Y:'000001',SDR:'0const',R:'0',W:'0'}},{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'0const',Z:'000101',X:'000100',Y:'000001',SDR:'0const',R:'0',W:'0'}},{path:[{from:'IR',to:'Akku'}],values:{Akku:'0const',Eins:'000001',SAR:'00100',IAR:'00101',IR:'0const',Z:'000101',X:'000100',Y:'000001',SDR:'0const',R:'0',W:'0'}}],LDV:[{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'unbek',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'unbek.',Y:'unbek.',SDR:'unbek.',R:'0',W:'0'}},{path:[{from:'IAR',to:'X'},{from:'IAR',to:'SAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'000100',Y:'unbek.',SDR:'unbek.',R:'1',W:'0'}},{path:[{from:'Eins',to:'Y'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'000100',Y:'000001',SDR:'unbek.',R:'2',W:'0'}},{path:[{from:'ALU',to:'ALU'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'000101',X:'000100',Y:'000001',SDR:'1--a--',R:'3',W:'0'}},{path:[{from:'Z',to:'IAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'unbek.',Z:'000101',X:'000100',Y:'000001',SDR:'1--a--',R:'0',W:'0'}},{path:[{from:'SDR',to:'IR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'1--a--',Z:'000101',X:'000100',Y:'000001',SDR:'1--a--',R:'0',W:'0'}},{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'1--a--',Z:'000101',X:'000100',Y:'000001',SDR:'1--a--',R:'0',W:'0'}},{path:[{from:'IR',to:'SAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'1--a--',Z:'000101',X:'000100',Y:'000001',SDR:'1--a--',R:'1',W:'0'}},{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'1--a--',Z:'000101',X:'000100',Y:'000001',SDR:'1--a--',R:'2',W:'0'}},{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'1--a--',Z:'000101',X:'000100',Y:'000001',SDR:'< a  >',R:'3',W:'0'}},{path:[{from:'SDR',to:'Akku'}],values:{Akku:'< a  >',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'1--a--',Z:'000101',X:'000100',Y:'000001',SDR:'< a  >',R:'0',W:'0'}}],NOT:[{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'unbek',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'unbek.',Y:'unbek.',SDR:'unbek.',R:'0',W:'0'}},{path:[{from:'IAR',to:'X'},{from:'IAR',to:'SAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'000100',Y:'unbek.',SDR:'unbek.',R:'1',W:'0'}},{path:[{from:'Eins',to:'Y'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'000100',Y:'000001',SDR:'unbek.',R:'2',W:'0'}},{path:[{from:'ALU',to:'ALU'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'000101',X:'000100',Y:'000001',SDR:'F1xxxx',R:'3',W:'0'}},{path:[{from:'Z',to:'IAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'unbek.',Z:'000101',X:'000100',Y:'000001',SDR:'F1xxxx',R:'0',W:'0'}},{path:[{from:'SDR',to:'IR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'F1xxxx',Z:'000101',X:'000100',Y:'000001',SDR:'F1xxxx',R:'0',W:'0'}},{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'F1xxxx',Z:'000101',X:'000100',Y:'000001',SDR:'F1xxxx',R:'0',W:'0'}},{path:[{from:'Akku',to:'X'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'F1xxxx',Z:'000101',X:'  AX  ',Y:'000001',SDR:'F1xxxx',R:'0',W:'0'}},{path:[{from:'ALU',to:'ALU'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'F1xxxx',Z:'NOT AX',X:'  AX  ',Y:'000001',SDR:'F1xxxx',R:'0',W:'0'}},{path:[{from:'Z',to:'Akku'}],values:{Akku:'NOT AX',Eins:'000001',SAR:'00100',IAR:'00101',IR:'F1xxxx',Z:'NOT AX',X:'  AX  ',Y:'000001',SDR:'F1xxxx',R:'0',W:'0'}}],STV:[{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'unbek',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'unbek.',Y:'unbek.',SDR:'unbek.',R:'0',W:'0'}},{path:[{from:'IAR',to:'X'},{from:'IAR',to:'SAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'000100',Y:'unbek.',SDR:'unbek.',R:'1',W:'0'}},{path:[{from:'Eins',to:'Y'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'unbek.',X:'000100',Y:'000001',SDR:'unbek.',R:'2',W:'0'}},{path:[{from:'ALU',to:'ALU'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00100',IR:'unbek.',Z:'000101',X:'000100',Y:'000001',SDR:'2--a--',R:'3',W:'0'}},{path:[{from:'Z',to:'IAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'unbek.',Z:'000101',X:'000100',Y:'000001',SDR:'2--a--',R:'0',W:'0'}},{path:[{from:'SDR',to:'IR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'2--a--',Z:'000101',X:'000100',Y:'000001',SDR:'2--a--',R:'0',W:'0'}},{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'2--a--',Z:'000101',X:'000100',Y:'000001',SDR:'2--a--',R:'0',W:'0'}},{path:[{from:'Akku',to:'SDR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'00100',IAR:'00101',IR:'2--a--',Z:'000101',X:'000100',Y:'000001',SDR:'  AX  ',R:'0',W:'0'}},{path:[{from:'IR',to:'SAR'}],values:{Akku:'  AX  ',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'2--a--',Z:'000101',X:'000100',Y:'000001',SDR:'  AX  ',R:'0',W:'1'}},{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'2--a--',Z:'000101',X:'000100',Y:'000001',SDR:'  AX  ',R:'0',W:'2'}},{path:[],values:{Akku:'  AX  ',Eins:'000001',SAR:'--a--',IAR:'00101',IR:'2--a--',Z:'000101',X:'000100',Y:'000001',SDR:'  AX  ',R:'0',W:'3'}}]}},function(e){e.exports={IDLE:[{bottomDescription:'Dieses Programm dient dazu, das Funktionsprinzip der MIMA zuk\xFCnftigen Generationen von Studenten anschaulich zu erkl\xE4ren. Da die originale Visualisierung (Java Applet) leider in meisten modernen Browsern nicht mehr l\xE4uft, wurde MIMAviz als eine Neuerstellung der originalen MIMA Simulation in Javascript entwickelt.',cuDescription:'Willkommen bei MIMAviz!'}],ADD:[{bottomDescription:'ADD - Der Akkumulator wird \xFCberschrieben durch das Ergebnis der Addition von Akku und dem Inhalt von <a>.',cuDescription:'Jetzt START dr\xFCcken!'},{bottomDescription:'Im IAR, dem Instruktionsadre\xDFregister steht die Adresse des auszuf\xFChrenden Befehls. IAR k\xF6nnte man auch als Befehlsz\xE4hler bezeichnen. Damit wir nun an die Speicherzelle und deren Inhalt kommen, m\xFCssen wir diese an das SAR (Speicheradre\xDFregister) weitergeben. Nach 3x R=1 Lesezyklen bekommen wir unser gew\xFCnschtes Datum. Au\xDFerdem laden wir gleichzeitig (um Zeit zu sparen) die gleiche Adresse auch in das X Register der ALU. Sp\xE4ter soll die ALU den Wert um eins erh\xF6hen, damit unsere MiMa beim n\xE4chsten mal den nachfolgenden Befehl liest.',cuDescription:'IAR zeige auf ein ADD Befehl'},{bottomDescription:'Wie schon erw\xE4hnt, soll das IAR (Instruktionsadre\xDFregister) um EINS erh\xF6ht werden. Wie besser k\xF6nnte das geschehen, als durch eine Addition mit Eins? Der erste Operand (die gegebene Speicheradresse im IAR) ist bereits vorhin schon ins Register X geladen worden. Die Konstante EINS wird nun sinnvollerweise ins Y Register transferiert. Sei nun gespannt auf den dritten Takt!!',cuDescription:'Lade 1 nach Y f\xFCr IAR++'},{bottomDescription:'Unsere ALU soll nun die bereits erw\xE4hnten X und Y Register addieren. F\xFCr die Addition gibt unser Steuerwerk an den Leitungen C2C1C0 die Werte 001. Am besten du schaust dir die Tabelle auf dem Blatt "Architektur der MIMA" genauer an. Die ALU kann n\xE4mlich ziemlich viel!',cuDescription:'ALU addiert: Z:=X+Y'},{bottomDescription:'Das langersehnte Ergebnis unserer Addition ist nun abholfertig im Z Register verf\xFCgbar. Wohin nun mit dem Ergebnis? Hast du gut aufgepa\xDFt? Ja, richtig, es war Ziel das IAR um eins zu erh\xF6hen. Also tun wir das in dem wir das Ergebnis IAR+1 von Z nach IAR zur\xFCckschreiben.',cuDescription:'IAR++ von Z ins IAR schreiben.'},{bottomDescription:'Nun haben wir auch den Inhalt der Speicherzelle [IAR] im SDR (Speicherdatenregister) vorliegen. Hat ein bi\xDFchen gedauert, aber der Speicher ist halt nicht so schnell. Diesen Wert speichern wir zur Interpretation und Ausf\xFChrung durch das Steuerwerk in das IR (Instruktionsregister).',cuDescription:'Befehl aus Speicher ins IR schreiben'},{bottomDescription:'D=1 bedeutet, da\xDF das Steuerwerk das IR Register liest und je nach Inhalt (Befehl) das entsprechende Mikroprogramm aus dem internen Speicher des Steuerwerks anspringt und ausf\xFChrt. Du kannst nun den eigentlichen Befehl verfolgen und das n\xE4chste Mal diese FETCH Phase mittels der SKIP-Taste \xFCberspringen, falls du sie schon auswendig k\xF6nnen solltest. Viel Spa\xDF!',cuDescription:'Starte Exec-Phase f\xFCr ADD Befehl'},{bottomDescription:'Im IR (Instruktionsregister) stehen nicht nur die Befehle sondern auch die Variablen und Konstanten, die mit dem Befehl aus dem Speicher gelesen werden. Das Praktische ist, da\xDF der SAR nur 20 Bit lang ist und somit die ersten 4 Bit der 24 Bit langen Instruktion bei dem Transfer IR -> SAR wegfallen. Somit wird n\xE4mlich der BefehlsOpcode abgeschnitten und die gew\xFCnschte zu adressierende Speicheradresse <a> wird ordnungsgem\xE4\xDF ins SAR geschrieben!',cuDescription:'Adressiere a von <a>'},{bottomDescription:'Der ADD Befehl soll ja den Akku mit der Speicherzelle <a> durch eine Addition verkn\xFCpfen. Diese Addition wird vorbereitet, indem schonmal der Inhalt des Akku ins X Register transferiert wird, w\xE4hrend wir auf den Speicher warten, der uns den Inhalt von a, also <a> geben soll.',cuDescription:'Akku + <a> vorbereiten'},{bottomDescription:'Jo, sodele, nun warten wir eben noch kurz auf den Speicher, denn dieser ben\xF6tigt immer drei Takte, bis er das verlangte Datum abliefern kann.',cuDescription:'Der Speicher ist lahm!! ;-)'},{bottomDescription:'Jetzt haben wir unseren langersehnten Wert <a> am SDR (Speicherdatenregister) anliegen. Da in X schon der Inhalt des Akku steht schreiben wir in Y unseren Inhalt von Speicherzelle a hin.',cuDescription:'Speicher ist fertig mit lesen!'},{bottomDescription:'Schnell noch die beiden Werte addieren und das gew\xFCnschte Ergebnis steht im Z Register. Damit die ALU wei\xDF, das sie eine Addition durchzuf\xFChren hat, gibt das Steuerwerk an die Eing\xE4nge der ALU C2C1C0 die Werte (001).',cuDescription:'Addition Z:=X+Y'},{bottomDescription:'Wie in der Aufgabenstellung f\xFCr unseren ADD a Befehl zu entnehmen ist, soll das Ergebnis zur\xFCck in den Akku geschrieben werden.',cuDescription:'Ergebnis Z in den Akku'}],LDC:[{bottomDescription:'LDC - Lade den Akkumulator mit einer 20-bit Konstante.',cuDescription:'Jetzt START dr\xFCcken!'},{bottomDescription:'Im IAR, dem Instruktionsadre\xDFregister steht die Adresse des auszuf\xFChrenden Befehls. IAR k\xF6nnte man auch als Befehlsz\xE4hler bezeichnen. Damit wir nun an die Speicherzelle und deren Inhalt kommen, m\xFCssen wir diese an das SAR (Speicheradre\xDFregister) weitergeben. Nach 3x R=1 Lesezyklen bekommen wir unser gew\xFCnschtes Datum. Au\xDFerdem laden wir gleichzeitig (um Zeit zu sparen) die gleiche Adresse auch in das X Register der ALU. Sp\xE4ter soll die ALU den Wert um eins erh\xF6hen, damit unsere MiMa beim n\xE4chsten mal den nachfolgenden Befehl liest.',cuDescription:'IAR zeige auf ein LDC Befehl'},{bottomDescription:'Wie schon erw\xE4hnt, soll das IAR (Instruktionsadre\xDFregister) um EINS erh\xF6ht werden. Wie besser k\xF6nnte das geschehen, als durch eine Addition mit Eins? Der erste Operand (die gegebene Speicheradresse im IAR) ist bereits vorhin schon ins Register X geladen worden. Die Konstante EINS wird nun sinnvollerweise ins Y Register transferiert. Sei nun gespannt auf den dritten Takt!!',cuDescription:'Lade 1 nach Y f\xFCr IAR++'},{bottomDescription:'Unsere ALU soll nun die bereits erw\xE4hnten X und Y Register addieren. F\xFCr die Addition gibt unser Steuerwerk an den Leitungen C2C1C0 die Werte 001. Am besten du schaust dir die Tabelle auf dem Blatt "Architektur der MIMA" genauer an. Die ALU kann n\xE4mlich ziemlich viel!',cuDescription:'ALU addiert: Z:=X+Y'},{bottomDescription:'Das langersehnte Ergebnis unserer Addition ist nun abholfertig im Z Register verf\xFCgbar. Wohin nun mit dem Ergebnis? Hast du gut aufgepa\xDFt? Ja, richtig, es war Ziel das IAR um eins zu erh\xF6hen. Also tun wir das in dem wir das Ergebnis IAR+1 von Z nach IAR zur\xFCckschreiben.',cuDescription:'IAR++ von Z ins IAR schreiben.'},{bottomDescription:'Nun haben wir auch den Inhalt der Speicherzelle [IAR] im SDR (Speicherdatenregister) vorliegen. Hat ein bi\xDFchen gedauert, aber der Speicher ist halt nicht so schnell. Diesen Wert speichern wir zur Interpretation und Ausf\xFChrung durch das Steuerwerk in das IR (Instruktionsregister).',cuDescription:'Befehl aus Speicher ins IR schreiben'},{bottomDescription:'D=1 bedeutet, da\xDF das Steuerwerk das IR Register liest und je nach Inhalt (Befehl) das entsprechende Mikroprogramm aus dem internen Speicher des Steuerwerks anspringt und ausf\xFChrt. Du kannst nun den eigentlichen Befehl verfolgen und das n\xE4chste Mal diese FETCH Phase mittels der SKIP-Taste \xFCberspringen, falls du sie schon auswendig k\xF6nnen solltest. Viel Spa\xDF!',cuDescription:'Starte Exec-Phase f\xFCr LDC Befehl'},{bottomDescription:'Das Praktische an dem OpCode des LDC Befehls ist, da\xDF er Null ist. Somit brauchen wir das Instruktionsregister IR nicht mehr weiter filtern und k\xF6nnen dieses direkt in den Akku laden.',cuDescription:'Lade Konstante in Akku'}],LDV:[{bottomDescription:'LDV - Lade den Akkumulator mit dem Inhalt von <a>.',cuDescription:'Jetzt START dr\xFCcken!'},{bottomDescription:'Im IAR, dem Instruktionsadre\xDFregister steht die Adresse des auszuf\xFChrenden Befehls. IAR k\xF6nnte man auch als Befehlsz\xE4hler bezeichnen. Damit wir nun an die Speicherzelle und deren Inhalt kommen, m\xFCssen wir diese an das SAR (Speicheradre\xDFregister) weitergeben. Nach 3x R=1 Lesezyklen bekommen wir unser gew\xFCnschtes Datum. Au\xDFerdem laden wir gleichzeitig (um Zeit zu sparen) die gleiche Adresse auch in das X Register der ALU. Sp\xE4ter soll die ALU den Wert um eins erh\xF6hen, damit unsere MiMa beim n\xE4chsten mal den nachfolgenden Befehl liest.',cuDescription:'IAR zeige auf ein LDV Befehl'},{bottomDescription:'Wie schon erw\xE4hnt, soll das IAR (Instruktionsadre\xDFregister) um EINS erh\xF6ht werden. Wie besser k\xF6nnte das geschehen, als durch eine Addition mit Eins? Der erste Operand (die gegebene Speicheradresse im IAR) ist bereits vorhin schon ins Register X geladen worden. Die Konstante EINS wird nun sinnvollerweise ins Y Register transferiert. Sei nun gespannt auf den dritten Takt!!',cuDescription:'Lade 1 nach Y f\xFCr IAR++'},{bottomDescription:'Unsere ALU soll nun die bereits erw\xE4hnten X und Y Register addieren. F\xFCr die Addition gibt unser Steuerwerk an den Leitungen C2C1C0 die Werte 001. Am besten du schaust dir die Tabelle auf dem Blatt "Architektur der MIMA" genauer an. Die ALU kann n\xE4mlich ziemlich viel!',cuDescription:'ALU addiert: Z:=X+Y'},{bottomDescription:'Das langersehnte Ergebnis unserer Addition ist nun abholfertig im Z Register verf\xFCgbar. Wohin nun mit dem Ergebnis? Hast du gut aufgepa\xDFt? Ja, richtig, es war Ziel das IAR um eins zu erh\xF6hen. Also tun wir das in dem wir das Ergebnis IAR+1 von Z nach IAR zur\xFCckschreiben.',cuDescription:'IAR++ von Z ins IAR schreiben.'},{bottomDescription:'Nun haben wir auch den Inhalt der Speicherzelle [IAR] im SDR (Speicherdatenregister) vorliegen. Hat ein bi\xDFchen gedauert, aber der Speicher ist halt nicht so schnell. Diesen Wert speichern wir zur Interpretation und Ausf\xFChrung durch das Steuerwerk in das IR (Instruktionsregister).',cuDescription:'Befehl aus Speicher ins IR schreiben'},{bottomDescription:'D=1 bedeutet, da\xDF das Steuerwerk das IR Register liest und je nach Inhalt (Befehl) das entsprechende Mikroprogramm aus dem internen Speicher des Steuerwerks anspringt und ausf\xFChrt. Du kannst nun den eigentlichen Befehl verfolgen und das n\xE4chste Mal diese FETCH Phase mittels der SKIP-Taste \xFCberspringen, falls du sie schon auswendig k\xF6nnen solltest. Viel Spa\xDF!',cuDescription:'Starte Exec-Phase f\xFCr LDV Befehl'},{bottomDescription:'Im IR (Instruktionsregister) stehen nicht nur die Befehle sondern auch die Variablen und Konstanten, die mit dem Befehl aus dem Speicher gelesen werden. Das Praktische ist, da\xDF der SAR nur 20 Bit lang ist und somit die ersten 4 Bit der 24 Bit langen Instruktion bei dem Transfer IR -> SAR wegfallen. Somit wird n\xE4mlich der BefehlsOpcode abgeschnitten und die gew\xFCnschte zu adressierende Speicheradresse <a> wird ordnungsgem\xE4\xDF ins SAR geschrieben!',cuDescription:'Adressiere a von <a>'},{bottomDescription:'Wir m\xFCssen bei dieser MiMa Technologie 3 Takte lang auf eine Antwort vom Speicher warten!',cuDescription:'Warten auf den Speicher!'},{bottomDescription:'Wir m\xFCssen bei dieser MiMa Technologie 3 Takte lang auf eine Antwort vom Speicher warten!',cuDescription:'Warten auf den Speicher!'},{bottomDescription:'Wie man es nun von diesem Befehl erwartet, wird die Antwort aus dem Speicher an den Akkumulator (Akku) \xFCbergeben.',cuDescription:'Antwort in Akku schreiben.'}],NOT:[{bottomDescription:'NOT - Der Akkumulator wird \xFCberschrieben durch das Einerkomplement seines Inhalts.',cuDescription:'Jetzt START dr\xFCcken!'},{bottomDescription:'Im IAR, dem Instruktionsadre\xDFregister steht die Adresse des auszuf\xFChrenden Befehls. IAR k\xF6nnte man auch als Befehlsz\xE4hler bezeichnen. Damit wir nun an die Speicherzelle und deren Inhalt kommen, m\xFCssen wir diese an das SAR (Speicheradre\xDFregister) weitergeben. Nach 3x R=1 Lesezyklen bekommen wir unser gew\xFCnschtes Datum. Au\xDFerdem laden wir gleichzeitig (um Zeit zu sparen) die gleiche Adresse auch in das X Register der ALU. Sp\xE4ter soll die ALU den Wert um eins erh\xF6hen, damit unsere MiMa beim n\xE4chsten mal den nachfolgenden Befehl liest.',cuDescription:'IAR zeige auf ein NOT Befehl'},{bottomDescription:'Wie schon erw\xE4hnt, soll das IAR (Instruktionsadre\xDFregister) um EINS erh\xF6ht werden. Wie besser k\xF6nnte das geschehen, als durch eine Addition mit Eins? Der erste Operand (die gegebene Speicheradresse im IAR) ist bereits vorhin schon ins Register X geladen worden. Die Konstante EINS wird nun sinnvollerweise ins Y Register transferiert. Sei nun gespannt auf den dritten Takt!!',cuDescription:'Lade 1 nach Y f\xFCr IAR++'},{bottomDescription:'Unsere ALU soll nun die bereits erw\xE4hnten X und Y Register addieren. F\xFCr die Addition gibt unser Steuerwerk an den Leitungen C2C1C0 die Werte 001. Am besten du schaust dir die Tabelle auf dem Blatt "Architektur der MIMA" genauer an. Die ALU kann n\xE4mlich ziemlich viel!',cuDescription:'ALU addiert: Z:=X+Y'},{bottomDescription:'Das langersehnte Ergebnis unserer Addition ist nun abholfertig im Z Register verf\xFCgbar. Wohin nun mit dem Ergebnis? Hast du gut aufgepa\xDFt? Ja, richtig, es war Ziel das IAR um eins zu erh\xF6hen. Also tun wir das in dem wir das Ergebnis IAR+1 von Z nach IAR zur\xFCckschreiben.',cuDescription:'IAR++ von Z ins IAR schreiben.'},{bottomDescription:'Nun haben wir auch den Inhalt der Speicherzelle [IAR] im SDR (Speicherdatenregister) vorliegen. Hat ein bi\xDFchen gedauert, aber der Speicher ist halt nicht so schnell. Diesen Wert speichern wir zur Interpretation und Ausf\xFChrung durch das Steuerwerk in das IR (Instruktionsregister).',cuDescription:'Befehl aus Speicher ins IR schreiben'},{bottomDescription:'D=1 bedeutet, da\xDF das Steuerwerk das IR Register liest und je nach Inhalt (Befehl) das entsprechende Mikroprogramm aus dem internen Speicher des Steuerwerks anspringt und ausf\xFChrt. Du kannst nun den eigentlichen Befehl verfolgen und das n\xE4chste Mal diese FETCH Phase mittels der SKIP-Taste \xFCberspringen, falls du sie schon auswendig k\xF6nnen solltest. Viel Spa\xDF!',cuDescription:'Starte Exec-Phase f\xFCr NOT Befehl'},{bottomDescription:'Der Akkumulator (Akku) wird zur Komplementbildung durch die ALU in das X Register geladen.',cuDescription:'Akku ins X register laden.'},{bottomDescription:'Die ALU \xFCbernimmt f\xFCr uns die Aufgabe der Komplementbildung (siehe Technische Informatik I). Dazu wird vom Steuerwerk an die ALU das Signal C2C1C0=110 angelegt.',cuDescription:'ALU berechnet Komplement.'},{bottomDescription:'Das Ergebnis der Komplementberechnung wird zur\xFCck in den Akkumulator geschrieben.',cuDescription:'Ergebnis in Akku speichern.'}],STV:[{bottomDescription:'STV - Lade die adressierende Speicherzelle an <a> mit dem Inhalt des Akkumulators.',cuDescription:'Jetzt START dr\xFCcken!'},{bottomDescription:'Im IAR, dem Instruktionsadre\xDFregister steht die Adresse des auszuf\xFChrenden Befehls. IAR k\xF6nnte man auch als Befehlsz\xE4hler bezeichnen. Damit wir nun an die Speicherzelle und deren Inhalt kommen, m\xFCssen wir diese an das SAR (Speicheradre\xDFregister) weitergeben. Nach 3x R=1 Lesezyklen bekommen wir unser gew\xFCnschtes Datum. Au\xDFerdem laden wir gleichzeitig (um Zeit zu sparen) die gleiche Adresse auch in das X Register der ALU. Sp\xE4ter soll die ALU den Wert um eins erh\xF6hen, damit unsere MiMa beim n\xE4chsten mal den nachfolgenden Befehl liest.',cuDescription:'IAR zeige auf ein STV Befehl'},{bottomDescription:'Wie schon erw\xE4hnt, soll das IAR (Instruktionsadre\xDFregister) um EINS erh\xF6ht werden. Wie besser k\xF6nnte das geschehen, als durch eine Addition mit Eins? Der erste Operand (die gegebene Speicheradresse im IAR) ist bereits vorhin schon ins Register X geladen worden. Die Konstante EINS wird nun sinnvollerweise ins Y Register transferiert. Sei nun gespannt auf den dritten Takt!!',cuDescription:'Lade 1 nach Y f\xFCr IAR++'},{bottomDescription:'Unsere ALU soll nun die bereits erw\xE4hnten X und Y Register addieren. F\xFCr die Addition gibt unser Steuerwerk an den Leitungen C2C1C0 die Werte 001. Am besten du schaust dir die Tabelle auf dem Blatt "Architektur der MIMA" genauer an. Die ALU kann n\xE4mlich ziemlich viel!',cuDescription:'ALU addiert: Z:=X+Y'},{bottomDescription:'Das langersehnte Ergebnis unserer Addition ist nun abholfertig im Z Register verf\xFCgbar. Wohin nun mit dem Ergebnis? Hast du gut aufgepa\xDFt? Ja, richtig, es war Ziel das IAR um eins zu erh\xF6hen. Also tun wir das in dem wir das Ergebnis IAR+1 von Z nach IAR zur\xFCckschreiben.',cuDescription:'IAR++ von Z ins IAR schreiben.'},{bottomDescription:'Nun haben wir auch den Inhalt der Speicherzelle [IAR] im SDR (Speicherdatenregister) vorliegen. Hat ein bi\xDFchen gedauert, aber der Speicher ist halt nicht so schnell. Diesen Wert speichern wir zur Interpretation und Ausf\xFChrung durch das Steuerwerk in das IR (Instruktionsregister).',cuDescription:'Befehl aus Speicher ins IR schreiben'},{bottomDescription:'D=1 bedeutet, da\xDF das Steuerwerk das IR Register liest und je nach Inhalt (Befehl) das entsprechende Mikroprogramm aus dem internen Speicher des Steuerwerks anspringt und ausf\xFChrt. Du kannst nun den eigentlichen Befehl verfolgen und das n\xE4chste Mal diese FETCH Phase mittels der SKIP-Taste \xFCberspringen, falls du sie schon auswendig k\xF6nnen solltest. Viel Spa\xDF!',cuDescription:'Starte Exec-Phase f\xFCr STV Befehl'},{bottomDescription:'Der Inhalt des Akkumulators (Akku) soll in den Speicher geschrieben werden. Also laden wir den Akku in das Speicherdatenregister (SDR).',cuDescription:'Daten auf Datenbus legen.'},{bottomDescription:'Im IR (Instruktionsregister) stehen nicht nur die Befehle sondern auch die Variablen und Konstanten, die mit dem Befehl aus dem Speicher gelesen werden. Das Praktische ist, da\xDF der SAR nur 20 Bit lang ist und somit die ersten 4 Bit der 24 Bit langen Instruktion bei dem Transfer IR -> SAR wegfallen. Somit wird n\xE4mlich der BefehlsOpcode abgeschnitten und die gew\xFCnschte zu adressierende Speicheradresse <a> wird ordnungsgem\xE4\xDF ins SAR geschrieben!',cuDescription:'Adressiere a von <a>'},{bottomDescription:'Wir m\xFCssen bei dieser MiMa Technologie 3 Takte lang auf den Speicher warten!',cuDescription:'Warten auf den Speicher!'},{bottomDescription:'Wir m\xFCssen bei dieser MiMa Technologie 3 Takte lang auf den Speicher warten!',cuDescription:'Warten auf den Speicher!'}]}},function(e){e.exports={IDLE:{cuUpperHeader:'So funktionierts:',proc:['','1. Befehl aussuchen','2. START dr\xFCcken!']},ADD:{cuUpperHeader:'Fetch Phase',cuLowerHeader:'Execute Phase',proc:[' 1: IAR->SAR; IAR->X; R=1',' 2: Eins->Y;          R=1',' 3: ALU auf Addieren; R=1',' 4: Z->IAR',' 5: SDR->IR',' 6: D=1',' 1: IR->SAR;  R=1',' 2: Akku->X;  R=1',' 3:           R=1',' 4: SDR->Y',' 5: ALU auf Addieren',' 6: Z->Akku']},LDC:{cuUpperHeader:'Fetch Phase',cuLowerHeader:'Execute Phase',proc:[' 1: IAR->SAR; IAR->X; R=1',' 2: Eins->Y;          R=1',' 3: ALU auf Addieren; R=1',' 4: Z->IAR',' 5: SDR->IR',' 6: D=1',' 1: IR->Akku']},LDV:{cuUpperHeader:'Fetch Phase',cuLowerHeader:'Execute Phase',proc:[' 1: IAR->SAR; IAR->X; R=1',' 2: Eins->Y;          R=1',' 3: ALU auf Addieren; R=1',' 4: Z->IAR',' 5: SDR->IR',' 6: D=1',' 1: IR->SAR;  R=1',' 2:           R=1',' 3:           R=1',' 4: SDR->Akku']},NOT:{cuUpperHeader:'Fetch Phase',cuLowerHeader:'Execute Phase',proc:[' 1: IAR->SAR; IAR->X; R=1',' 2: Eins->Y;          R=1',' 3: ALU auf Addieren; R=1',' 4: Z->IAR',' 5: SDR->IR',' 6: D=1',' 1: Akku->X',' 2: ALU auf Komplement',' 3: Z->Akku']},STV:{cuUpperHeader:'Fetch Phase',cuLowerHeader:'Execute Phase',proc:[' 1: IAR->SAR; IAR->X; R=1',' 2: Eins->Y;          R=1',' 3: ALU auf Addieren; R=1',' 4: Z->IAR',' 5: SDR->IR',' 6: D=1',' 1: Akku->SDR',' 2: IR->SAR;  W=1',' 3:           W=1',' 4:           W=1']}}},function(e,t){'use strict';function r(e=''){return'Akku'===e?[30,40,6]:'Eins'===e?[30,120,6]:'SAR'===e?[40,410,5]:'IAR'===e?[310,40,5]:'IR'===e?[310,120,6]:'Z'===e?[310,200,6]:'X'===e?[240,330,6]:'Y'===e?[380,360,6]:'SDR'===e?[250,410,6]:'R'===e?[420,420,1]:'W'===e?[460,420,1]:[]}t.a={unitSpec:r,rwHArrowHeadSpec:function(e=[],t=''){let[r,n,a,o]=e,i=[];return'l'===t?i=[r-8,n,r,n+4,r,n-4]:'r'===t?i=[a,o-4,a,o+4,a+8,o]:void 0,i},rwHLineSpec:function(e='',t='lr'){let[n,a,o]=r(e),[i,s,d,l]=[0,0,0,0];switch('Akku'===e||'Eins'===e||'SAR'===e?(i=n+20*o,d=a+20,s=198,l=d):(i=202,d=a+20,s=n,l=d),t){case'l':i+=8;break;case'r':s-=8;break;default:i+=8,s-=8;}return[i,d,s,l,t]},rwMainLineSpec:function(e=0){return 1===e?[200,62,200,138]:2===e?[200,142,200,218]:3===e?[200,222,200,348]:4===e?[200,352,200,378]:5===e?[200,382,200,428]:void 0},rwCrossPointSpec:function(e=0){return 1===e?[198,58,202,58,202,62,198,62]:2===e?[198,138,202,138,202,142,198,142]:3===e?[198,218,202,218,202,222,198,222]:4===e?[198,348,202,348,202,352,198,352]:5===e?[198,378,202,378,202,382,198,382]:6===e?[198,428,202,428,202,432,198,432]:void 0},bitWidthSpec:function(e=''){return'Akku'===e?[165,65,24]:'Eins'===e?[165,145,24]:'SAR'===e?[165,435,20]:'IAR'===e?[245,65,20]:'IR'===e?[245,145,24]:'Z'===e?[245,225,24]:'X'===e?[215,355,24]:'Y'===e?[285,385,24]:'SDR'===e?[220,435,24]:[]}}},function(e,t){'use strict';t.a={RED:16711680,DARK_GRAY:10066329,EVEN_LIGHTER_GRAY:15461355,GAINSBORO:14474460,LIGHT_GRAY:13421772,BLUE:6724044,BLUE_LINK:411053,WHITE:16777215}},function(e,t,r){'use strict';function n(e='',t){'ADD'===e||'LDC'===e||'LDV'===e||'NOT'===e||'STV'===e?e===t.getState().mode?t.dispatch({type:'MODE_CHANGE',payload:'IDLE'}):t.dispatch({type:'MODE_CHANGE',payload:e}):'BACK'===e||'START'===e||'NEXT'===e||'SKIP'===e||'END'===e?t.dispatch({type:'NAV',payload:e}):void 0}t.a=function(e='',t=!1,r){let o=new a.Graphics;o.interactive=!0,o.buttonMode=!0;let[s,d,l]=[0,0,0];'ADD'===e?[s,d,l]=[540,35,40]:'LDC'===e?[s,d,l]=[590,35,40]:'LDV'===e?[s,d,l]=[640,35,40]:'NOT'===e?[s,d,l]=[690,35,40]:'STV'===e?[s,d,l]=[740,35,40]:'BACK'===e?[s,d,l]=[540,450,60]:'START'===e||'NEXT'===e?[s,d,l]=[630,450,60]:'SKIP'===e||'END'===e?[s,d,l]=[720,450,60]:void 0;let u=Object(i.a)(s,d,l,t),p='upperButtonLabel';60===l&&(p='lowerButtonLabel');const c=Object(i.g)(e,t,p,s,d);return o.hitArea=new a.RoundedRectangle(s,d,l,20,8),o.addChild(u,c),o.on('pointerdown',()=>n(e,r)),o};var a=r(3),o=r.n(a),i=r(9)},function(e,t,r){'use strict';t.a=function(e=0,t=0,r=0,a=!1){let i=new n.Graphics;return!1===a?i.beginFill(o.a.WHITE):!0===a?i.beginFill(o.a.BLUE):void 0,i.drawRoundedRect(e,t,r,20,8),i};var n=r(3),a=r.n(n),o=r(4)},function(e,t,r){'use strict';t.a=function(e='',t=!1){let r=new n.Graphics;if(t?r.lineStyle(2,o.a.RED):r.lineStyle(1,o.a.DARK_GRAY),'ALU'===e)r.drawPolygon([340,260,300,300,360,300,370,290,380,300,440,300,400,260,340,260]);else{const[t,n,a]=o.c.unitSpec(e);r.drawRect(t,n,20*a,40),r.moveTo(t,n+20),r.lineTo(t+20*a,n+20);for(let e=1;e<a;++e)r.moveTo(t+20*e,n+20),r.lineTo(t+20*e,n+40)}return r};var n=r(3),a=r.n(n),o=r(4)},function(e,t,r){'use strict';t.a=function(e=''){let t=new n.Graphics;return t.beginFill(o.a.EVEN_LIGHTER_GRAY),'fetch'===e?t.drawRect(540,90,240,20):'exec'===e?t.drawRect(540,240,240,20):void 0,t};var n=r(3),a=r.n(n),o=r(4)},function(e,t,r){'use strict';t.a=function(e=0){let t=new n.Graphics;return t.beginFill(o.a.BLUE),7>e&&0<e?t.drawRect(540,90+20*e,240,20):6<e&&t.drawRect(540,120+20*e,240,20),t};var n=r(3),a=r.n(n),o=r(4)},function(e,t,r){'use strict';t.a=function(e=[],t=!1){let r=new n.Graphics;return t?r.beginFill(o.a.RED):r.beginFill(o.a.DARK_GRAY),r.drawPolygon(e),r};var n=r(3),a=r.n(n),o=r(4)},function(e,t,r){'use strict';t.a=function(e='h',t=0,r=0,a=0,i=!1){let s=new n.Graphics;i?s.lineStyle(4,o.a.RED):s.lineStyle(4,o.a.DARK_GRAY);let[d,l]=[t,r];return'h'===e?d+=a:'v'===e?l+=a:void 0,s.moveTo(t,r),s.lineTo(d,l),s};var n=r(3),a=r.n(n),o=r(4)},function(e,t,r){'use strict';t.a=function(e=[],t=!1){let r=new n.Graphics;return t?r.beginFill(o.a.RED):r.beginFill(o.a.DARK_GRAY),r.drawPolygon(e),r};var n=r(3),a=r.n(n),o=r(4)},function(e,t,r){'use strict';t.a=function(e=''){let t=Object(n.g)(e,!1,'bottomDescription');return t};var n=r(9)},function(e,t,r){'use strict';t.a=function(e='',t='',r=!1){let a=new n.Container;if('ALU'===e){const t=Object(i.g)(e,r,'ALULabel'),n=Object(i.h)(e,r);a.addChild(t,n)}else{const[n,s,d]=o.c.unitSpec(e),l=Object(i.g)(e,r,'unitLabel',n,s,d),u=Object(i.g)(t,r,'unitValue',n,s,d),p=Object(i.h)(e,r);a.addChild(l,u,p)}return a};var n=r(3),a=r.n(n),o=r(4),i=r(9)},function(e,t,r){'use strict';t.a=function(e={mode:'IDLE',step:0}){let t=new n.Container;if('IDLE'===e.mode)return t;const r=o.b.cuDisplayInterpreter(e),a=r.cuLowerHeader,i=Object(s.b)('exec');t.addChild(i);const d=Object(s.g)(a,!1,'phaseLabel',540,240);if(t.addChild(d),6<e.step&&e.step<r.proc.length+1){const r=Object(s.c)(e.step);t.addChild(r)}for(let n=6,a;n<r.proc.length;++n){a=!1,n===e.step-1&&(a=!0);const o=Object(s.g)(r.proc[n],a,'cuStep',540,260+20*(n-6));t.addChild(o)}return t};var n=r(3),a=r.n(n),o=r(4),s=r(9)},function(e,t,r){'use strict';t.a=function(e={mode:'IDLE',step:0}){let t=new n.Container;const r=o.b.cuDisplayInterpreter(e),a=r.cuUpperHeader,i=Object(s.b)('fetch');t.addChild(i);const d=Object(s.g)(a,!1,'phaseLabel',540,90);if(t.addChild(d),'IDLE'===e.mode){for(let e=0;3>e;++e){const n=Object(s.g)(r.proc[e],!1,'cuStep',540,110+20*e);t.addChild(n)}return t}if(7>e.step&&0<e.step){const r=Object(s.c)(e.step);t.addChild(r)}for(let n=0,a;6>n;++n){a=!1,n===e.step-1&&(a=!0);const o=Object(s.g)(r.proc[n],a,'cuStep',540,110+20*n);t.addChild(o)}return t};var n=r(3),a=r.n(n),o=r(4),s=r(9)},function(e,t,r){'use strict';t.a=function(e='',t=''){let r=new n.Graphics;const a=Object(s.f)('v',200,60,370);r.addChild(a);let[i,d,l,u]=[0,0,0,0];'Akku'===e||'IAR'===e?(i=60,l=1):'Eins'===e||'IR'===e?(l=2,i=140):'Z'===e?(l=3,i=220):'X'===e?(l=4,i=350):'Y'===e?(l=5,i=380):'SAR'===e||'SDR'===e?(l=6,i=430):void 0;'Akku'===t||'IAR'===t?(u=1,d=60):'Eins'===t||'IR'===t?(u=2,d=140):'Z'===t?(u=3,d=220):'X'===t?(u=4,d=350):'Y'===t?(u=5,d=380):'SAR'===t||'SDR'===t?(u=6,d=430):void 0;i>d&&([i,d]=[d,i]);const p=d-i,c=Object(s.f)('v',200,i,p,!0);r.addChild(c),l>u&&([l,u]=[u,l]);for(let n=1;6>=n;++n)if(l<=n&&n<=u){const e=Object(s.e)(o.c.rwCrossPointSpec(n),!0);r.addChild(e)}else{const e=Object(s.e)(o.c.rwCrossPointSpec(n),!1);r.addChild(e)}return r};var n=r(3),a=r.n(n),o=r(4),s=r(9)},function(e,t,r){'use strict';t.a=function(e='',t='lr',r=!1){let a=new n.Graphics;const[s,d,l,u]=o.c.rwHLineSpec(e,t),p=Object(i.f)('h',s,d,l-s,r);a.addChild(p);const[c,h,f]=o.c.bitWidthSpec(e),g=Object(i.g)(f,r,'bitWidthText',c,h);a.addChild(g);const m=[];'lr'===t?(m.push(o.c.rwHArrowHeadSpec([s,d,l,u],'l')),m.push(o.c.rwHArrowHeadSpec([s,d,l,u],'r'))):'l'===t?m.push(o.c.rwHArrowHeadSpec([s,d,l,u],'l')):'r'===t?m.push(o.c.rwHArrowHeadSpec([s,d,l,u],'r')):void 0;for(let n of m){const e=Object(i.d)(n,r);a.addChild(e)}return a};var n=r(3),a=r.n(n),o=r(4),i=r(9)},function(e,t,r){'use strict';t.a=function(e=''){let t=Object(n.a)(e,!1,'cuDescription');return t};var n=r(98)},function(e,t,r){'use strict';function n(e=new l.Graphics){e.beginFill(p.a.EVEN_LIGHTER_GRAY),e.drawRoundedRect(0,0,c.rendererSize.width,c.rendererSize.height,8)}function a(e=new l.Graphics){let t=new l.Text('MIMAviz',{fontFamily:'Arial',fontSize:'36pt',fontWeight:'bold'});t.x=180,t.y=95,e.addChild(t)}function o(e=new l.Graphics){let t=new l.Text('Eine Visualisierung f\xFCr die Minimalmaschine, ein vereinfachtes CPU Modell basierend auf dem von-Neumann-Prinzip',{fontFamily:'Arial',fontSize:'11pt',fontWeight:'bold',wordWrap:!0,wordWrapWidth:450});t.x=180,t.y=160,e.addChild(t)}function i(e=new l.Graphics){let t=new l.Text('Die urspr\xFCngliche Arbeit bei der Entwicklung der MIMA-Architektur und deren Befehlssatz wurde von Prof. Tamim Asfour geleistet.',{fontFamily:'Arial',fontSize:'11pt',fontWeight:'bold',align:'center',wordWrap:!0,wordWrapWidth:490});t.x=160,t.y=480,e.addChild(t)}function s(e=new l.Graphics){let t=new l.Text('Mehr \xFCber MIMA-Architektur und Technische Informatik am KIT - http://ti.ira.uka.de',{fontFamily:'Arial',fontSize:'9pt',fontStyle:'italic',fill:p.a.BLUE_LINK}),r=new l.Text('Mehr \xFCber MIMAviz - https://github.com/hexrcs/MIMAviz',{fontFamily:'Arial',fontSize:'9pt',fontStyle:'italic',fill:p.a.BLUE_LINK});t.anchor.set(1,0.5),t.x=760,t.y=560;let n=new l.Container;n.interactive=!0,n.buttonMode=!0,n.hitArea=t.getBounds(),n.addChild(t),n.on('pointerdown',()=>window.open('http://ti.ira.uka.de/')),r.anchor.set(1,0.5),r.x=760,r.y=580;let a=new l.Container;a.interactive=!0,a.buttonMode=!0,a.hitArea=r.getBounds(),a.addChild(r),a.on('pointerdown',()=>window.open('https://github.com/hexrcs/MIMAviz')),e.addChild(n,a)}function d(e='STARTUP',t){let r=new l.Graphics;r.beginFill(p.a.WHITE),r.drawRoundedRect(560,230,80,30,8),r.interactive=!0,r.buttonMode=!0,r.hitArea=new l.RoundedRectangle(560,230,80,30,8);let n='';n='STARTUP'===e?'ENTER':'BACK';let a=new l.Text(n,{fontFamily:'Arial',fontSize:'11pt',fontWeight:'bold'});return a.anchor.set(0.5,0.5),a.x=600,a.y=245,r.addChild(a),r.on('pointerdown',()=>t.dispatch({type:'MODE_CHANGE',payload:'IDLE'})),r}t.a=function(e='STARTUP',t){let r=new l.Graphics;n(r),a(r),o(r),i(r);let u=d(e,t);return r.addChild(u),s(r),r};var l=r(3),u=r.n(l),p=r(4),c=r(25)},function(e,t,r){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=r(242);r.d(t,'unitOrganizer',function(){return n.a});var a=r(243);r.d(t,'cuOrganizer',function(){return a.a});var o=r(244);r.d(t,'descriptionOrganizer',function(){return o.a});var i=r(245);r.d(t,'rwPathOrganizer',function(){return i.a});var s=r(246);r.d(t,'lowerButtonsOrganizer',function(){return s.a});var d=r(247);r.d(t,'upperButtonsOrganizer',function(){return d.a})},function(e,t,r){'use strict';t.a=function(e={mode:'IDLE',step:0}){let t=new n.Container;const r=o.b.processInterpreter(e).path,a=o.b.processInterpreter(e).values,s=Object.keys(a),d=new Set,l=new Set;for(let t of r)d.add(t.from),d.add(t.to);for(let t of s)d.has(t)||l.add(t);for(let r of d){let e;e='ALU'===r?Object(i.unitBuilder)(r,'',!0):Object(i.unitBuilder)(r,a[r],!0),t.addChild(e)}d.has('ALU')||l.add('ALU');for(let r of l){let e;e='ALU'===r?Object(i.unitBuilder)(r):Object(i.unitBuilder)(r,a[r],!1),t.addChild(e)}return t};var n=r(3),a=r.n(n),o=r(4),i=r(12)},function(e,t,r){'use strict';t.a=function(e={mode:'IDLE',step:0}){let t=new n.Container;return t.addChild(Object(o.cuFetchBuilder)(e),Object(o.cuExecBuilder)(e)),t};var n=r(3),a=r.n(n),o=r(12)},function(e,t,r){'use strict';t.a=function(e={mode:'IDLE',step:0}){let t=new n.Container;const r=o.b.descriptionInterpreter(e),a=Object(i.bottomDescriptionBuilder)(r.bottomDescription),s=Object(i.cuDescriptionBuilder)(r.cuDescription);return t.addChild(a,s),t};var n=r(3),a=r.n(n),o=r(4),i=r(12)},function(e,t,r){'use strict';function n(e='',t=!1,r=!1){switch(e){case'Akku':if(r)return'l';if(t)return'r';if(!(t||r))return'lr';case'Eins':case'X':case'Y':return'r';case'Z':case'SAR':return'l';case'IAR':case'IR':case'SDR':if(t)return'l';if(r)return'r';if(!(t||r))return'lr';}}t.a=function(e={mode:'IDLE',step:0}){let t=new a.Container;const r=i.b.processInterpreter(e).path,o=new Set,d=new Set;for(let t of r)o.add(t.from),d.add(t.to);for(let r of['Akku','Eins','X','Y','Z','SAR','IAR','IR','SDR'])o.has(r)?t.addChild(Object(s.rwUnitArrowBuilder)(r,n(r,!0),!0)):d.has(r)?t.addChild(Object(s.rwUnitArrowBuilder)(r,n(r,!1,!0),!0)):t.addChild(Object(s.rwUnitArrowBuilder)(r,n(r)));t.addChild(Object(s.rwBusBuilder)());for(let n of r)t.addChild(Object(s.rwBusBuilder)(n.from,n.to));return t};var a=r(3),o=r.n(a),i=r(4),s=r(12)},function(e,t,r){'use strict';function n(e={mode:'IDLE',step:0}){const t=e.mode,r=e.step;return'IDLE'===t?new Set:0===r?new Set().add('START'):1===r?new Set().add('NEXT').add('SKIP'):1<r&&6>r?new Set().add('BACK').add('NEXT').add('SKIP'):6===r?new Set().add('BACK').add('NEXT'):6<r&&r<i.b.totalStepCount(e)-1?new Set().add('BACK').add('NEXT').add('END'):r===i.b.totalStepCount(e)-1?new Set().add('BACK').add('END'):void 0}t.a=function(e={mode:'IDLE',step:0},t){const r=new a.Container;for(let a of n(e)){const e=Object(s.buttonBuilder)(a,!1,t);r.addChild(e)}return r};var a=r(3),o=r.n(a),i=r(4),s=r(12)},function(e,t,r){'use strict';t.a=function(e={mode:'IDLE',step:0},t){const r=new n.Container;for(let n of['ADD','LDC','LDV','NOT','STV'])if(n===e.mode){const e=Object(o.buttonBuilder)(n,!0,t);r.addChild(e)}else{const e=Object(o.buttonBuilder)(n,!1,t);r.addChild(e)}return r};var n=r(3),a=r.n(n),o=r(12)}]);
//# sourceMappingURL=bundle.js.map